(function(e){var m=window.AmazonUIPageJS||window.P,g=m._namespace||m.attributeErrors,b=g?g("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,m,g){e.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,f,d,k){c.isDefined(b)&&(h.type=b);c.isDefined(a)&&(h.index=a);c.isDefined(q)&&(h.thumbnailIndex=q);c.isDefined(f)&&(h.variant=f);c.isDefined(d)&&(h.color=
d);h.shoppableScene=k||null}function l(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function f(a){a=a.data;d=b.copy(h);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function k(a){f(a);a=b.copy(a);a.data=b.copy(h);n.dispatch("updateView",a)}function e(){d=b.copy(h);l(h.color)}var a,n,h={},d={},m,r;return function(c,g){n=g;a=c;n.register("updateSelection",k);n.register("updateModel",f);n.register("resetModel",e);this.init=function(){l()};this.getCurrentItem=
function(){return b.copy(h)};this.getPreviousItem=function(){return b.copy(d)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){r=a};this.getImmersiveViewModalInstance=function(){return r};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(d.type,d.index,d.thumbnailIndex,d.variant,d.color,d.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";e.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,e,l){this.getImageHash=function(f){var k=l.getCurrentItem();f=b.getIndexForVariant(k.color,f||"MAIN",c);return b.getImageHash(k.color,f,c)};this.onImageUpdateForTwister=function(b){e.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";e.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,e,l,f){var k={};return function(g){var a=this;a.dispatch=function(a,c){var d=k[a];l.isDefined(d)&&b.each(d,function(a,b){b.call(m,c)})};a.register=function(a,b){l.isDefined(k[a])||(k[a]=[]);"function"===typeof b&&k[a].push(b)};a.model=new c(g,a);a.view=new e(g,a,a.model);a.api=new f(g,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";e.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,g,l){b=b.extend(!0,
{},g,l);var f=new c(b);e.register("ImageBlockAPI",function(){return f.api});return f})});
/* ******** */
(function(L){var x=window.AmazonUIPageJS||window.P,aa=x._namespace||x.attributeErrors,n=aa?aa("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):x;n.guardFatal?n.guardFatal(L)(n,window):n.execute(function(){L(n,window)})})(function(L,x,aa){L.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(n,b,h,f,F,t,O){function P(a,c,z,d,B){if(!h.isjQueryObjDefined(a.find(".a-button-selected"))){var g=
v.getCurrentItem();if(!d||"chromeless-video"!==g.type||!l.autoplayVideo){d=0;"image"===g.type&&(d=Math.max(h.getIndexForVariant(g.color,g.variant,l),0));var e=0;h.isDefined(l.heroImage[g.color])&&(e=l.heroImage[g.color].length);B=d-(c>=l.maxAlts?l.maxAlts-B-e:0);c=0<=B?c+B:d+e;c>=z&&(d=0,c=e);z=h.getImageHash(g.color,d,l);-1!==z&&(p.dispatch("updateModel",{data:{index:d,thumbnailIndex:c,variant:z.variant,type:"image",shoppableScene:z.shoppableScene}}),z=a.find(".item").get(c),h.selectGivenThumbnail(b(z),
a))}}}function H(a){if(!l.useChildVideos)return h.lazyLoadingRequired(v.getCurrentItem(),v,l)?void 0:l.videos;if(l.colorToVideo[a])return l.colorToVideo[a];var c=l.colorToAsin[a];if(c&&c.asin){var b={};b.params={asin:c.asin,productGroupID:l.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:l.useChromelessVideoPlayer,isUDP:l.isUDP};l.isDPXFeatureEnabled||(b.success=function(a){videosOnTwisterRefresh(a)},f.load(VIDEO_AJAX_ENDPOINT,b));return l.colorToVideo&&l.colorToVideo[a]}}function q(a,
u,d){if((2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment)&&d)return a;var B=H(u),g=h.isDefined(B)&&0<B.length&&l.alwaysIncludeVideo?1:0;u=l.colorImages&&l.colorImages[u];var B=a,e=0;h.isDefined(u)&&(b.each(u,function(u,k){if(e>=l.maxAlts-g&&a<l.maxAlts+l.additionalNumberOfImageAlts){if(2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment){var r=b(".thumbItemUnrolled");r[a]?r[a].querySelector("img").src=k.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
u+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(a+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(a+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(a+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+k.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else h.createThumbnail({type:"image",
index:u,thumbnailIndex:a,variant:k.variant,shoppableScene:k.shoppableScene},k.thumb,c,"imageThumbnail");a++}e++}),t.isEnabled&&O.logAltImgRequestPlacedOnThumbnails(b,t,v),P(c,B,a,d,g));return a}function E(a,c){l.useIV&&h.isDefined(c.hiRes)&&a.css("cursor","pointer")}function D(a,c){if("image"===a.type){var d=b("#image-canvas-caption #canvasCaption"),B,g=l.staticStrings,e=l.colorImages,f=a.color,k=a.index;h.isShoppableScenesEnabled()&&a.shoppableScene?B=g.clickSceneTagsToShopProducts:c&&l.useIV?B=
g.clickToExpand:e[f]&&e[f][k].hiRes&&l.useHoverZoom?(B=l.useHoverZoomIpad?g.touchToZoom:l.useClickZoom?g.clickToZoom:g.rollOverToZoom,l.hoverZoomIndicator&&(B="\x3cimg src\x3d'"+l.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+B)):l.useIV&&(B=g.clickToExpand);d.html(B)}}function J(c,B){var d="a-dynamic-image";if(!l.acEnabled){var g;b.each(c.main,function(a,r){h.isDefined(g)||(g=parseFloat(r[1]/r[0])<=parseFloat(l.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=g}var e=h.getMaxDimensionsOfMainImage(c.main,
a,l),f=e[0],p=e[1],e=b("\x3cdiv\x3e\x3c/div\x3e"),f={"max-height":f,"max-width":p};e.addClass(d).css(f).attr({"data-old-hires":c.hiRes,"data-a-manual-replacement":"true",onload:B}).data("a-dynamic-image",c.main);return e}function w(a,c,b){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",d,{wb:1});b.attr("data-a-image-name","shoppable-scene:"+a);b=y.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
b.addClass("celwidget").attr("cel_widget_id",d);b.children("span").css("display","inline-block");p.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:c.shoppableScene,imageSource:c.hiRes||c.large||c.lowRes,$tagPlaceholder:b.find(".mirai-scene-tag-placeholder"),$viewProductsButton:b.find(".mirai-scene-view-products-button")});"MutationObserver"in x&&(new MutationObserver(function(b,d){b.forEach(function(b){"childList"===b.type&&b.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===b.addedNodes.length&&"IMG"===b.addedNodes[0].tagName&&""!==b.addedNodes[0].src&&(b=b.addedNodes[0],"function"!==typeof b.onload&&(b.onload=function(){n.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:c.shoppableScene})}),d.disconnect())})})).observe(b.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return b}function G(a,c,b){b=J(a,b);a=h.isShoppableScenesEnabled()&&a.shoppableScene?w(c,a,b):y.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+c+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":c+1});a.find(".placeHolder").replaceWith(b);y.find(".list").append(a);n.loadImageManually(b);return a}function N(b){var c=a.css("height");null!==c&&b.find(".imgTagWrapper").css("height",c);b.addClass("selected");l.imgTagWrapperClasses&&b.find(".imgTagWrapper").addClass(l.imgTagWrapperClasses)}function I(a,
c,d,B){if((2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment)&&!B&&"unavailable"!==a.type){a=l.colorImages&&l.colorImages[d];c=b(".unrolledImg");d=H(d);var g=h.isDefined(d)&&0<d.length&&l.alwaysIncludeVideo?1:0;c.length>l.maxAlts&&c.each(function(a){a>=l.maxAlts&&b(this).remove()});h.isDefined(a)&&b.each(a,function(a,c){a<l.maxAlts-g+l.additionalNumberOfImageAlts&&a>=l.maxAlts-g&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
(a+g+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(a+g)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(a+g)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
c.large+'" data-a-hires\x3d"'+c.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))})}else if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){d=h.getImageHash(a.color,a.index,l);if(-1===d)return c={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},h.lazyLoadingRequired(a,v,l)||(p.dispatch("updateModel",c),h.showUnavailable(a.color)),-1;B=y.find(".item.itemNo"+a.thumbnailIndex);h.isjQueryObjDefined(B)||
(B=G(d,a.thumbnailIndex,c));N(B);p.dispatch("loadMagnifier");D(a);E(B,d);n.trigger("dp:image-block:update",d)}}function e(a){var c=v.getCurrentItem().color;l.colorImages[c]||(l.colorImages[c]=a);a={type:"updatedData",data:v.getCurrentItem()};p.dispatch("updateView",a);(c=l.colorToAsin[c])&&c.asin&&L.register(h.rankedImagesReadyEvent(c.asin))}function d(){var c=y.find(".item .imgTagWrapper"),d=h.getContainerHeight(a,l.holderRatio,l.holderMaxHeight);0<d&&(a.height(d),c.height(d));y.find("img.a-dynamic-image").each(function(){var c=
b(this);c.data("a-manual-replacement")&&n.loadDynamicImage(this);var d=c.data("a-dynamic-image"),d=h.getMaxDimensionsOfMainImage(d,a,l);c.css({"max-height":d[0]+"px","max-width":d[1]+"px"})})}function B(a){D(v.getCurrentItem(),"mouseenter"===a.type)}var W,l,v,p,c,y,a,g;return function(f,u,D,t){W=this;l=f;v=u;p=t;n.on("triggerImageAjax",e);l.colorImages[l.landingAsinColor]=l.colorImages[l.defaultColor];W.render=function(d,B,e,k,r,m,A){y=e;c=k;a=r;g=q(B,d,m);m||(B=v.getCurrentItem(),h.lazyLoadingRequired(B,
v,l)&&p.dispatch("updateModel",{data:{type:"lazy-loaded"}}));B=v.getCurrentItem();e=!m;h.lazyLoadingRequired(B,v,l)||(b("#imageBlock").css("opacity","1"),y.css("opacity","1"),h.spinner(y,!1),y.find("li").removeClass("selected"),b("#image-canvas-caption #canvasCaption").empty(),h.hideUnavailable(),e&&y.find(".list .item").remove());I(v.getCurrentItem(),A,d,m);return g};W.update=function(a){};l.overrideAltImageClickAction&&h.addTag("clickEnabledOnAltImages");p.register("imageHover",B);p.register("resize",
d)}});"use strict";L.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(n,b,h){var f,F,t,x;return function(b,H,q,E){f=this;F=b;t=E;f.render=function(b,t,w,q,E,I,e){x=q;f=this;w=F.maxAlts;q=t;E=F.colorImages[b]?F.colorImages[b].length:0;E+=h.getVideosCount(b,F);b=F.heroImage[b];I=0;b&&(I=b.length);b=E+I;b>w&&(w=b-w,b=x.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),w+="+",q={type:"ingress",index:0,
thumbnailIndex:t,variant:""},b.find("#altIngressText").append(w),n.declarative.create(b,"thumb-action",q),x.append(b),q=t++);return q};f.update=function(b){"ingress"===b.data.type&&"click"===b.type&&t.dispatch("imageClick",b)}}});"use strict";L.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(n,b,h,f){function x(d,e,l,v){if(!h.isjQueryObjDefined(d.find(".a-button-selected"))){var p=G.getCurrentItem();if(!v||"chromeless-video"!==p.type||!w.autoplayVideo){v=
0;if("hero-image"===p.type){v=O(p.color,p.variant);if(-1===v)return;v=-1!==v?v:0}var c=e+v;c>=l&&(v=0,c=e);e=f.getHeroImageHash(w,p.color,v);-1!==e&&(N.dispatch("updateModel",{data:{index:v,thumbnailIndex:c,variant:e.variant,type:"hero-image"}}),e=d.find(".item").get(c),h.selectGivenThumbnail(b(e),d))}}}function t(d,e,l){if("hero-video"===G.getCurrentItem().type)return d;e=w.heroImage&&w.heroImage[e];var f=d;h.isDefined(e)&&(b.each(e,function(b,c){d<w.maxAlts&&(h.createThumbnail({type:"hero-image",
index:b,thumbnailIndex:d,variant:c.variant},c.thumb,I,"imageThumbnail"),d++)}),x(I,f,d,l));return d}function O(d,e){var l=w.heroImage;if(1>l.length||!h.isDefined(l[d])||!h.isDefined(e))return-1;var f=-1;b.each(l[d],function(b,c){c.variant===e&&(f=b)});return f}function P(){if(e.length&&w.repositionHeroImage){var b=f.getHeroDimParams(w,G.getCurrentItem()),d;h.isDefined(b)&&(d=h.isDefined(b.xPos)?b.xPos+"px "+b.yPos+"px ":"center "+b.yPos+"px ",e.css({"background-position":d,"background-size":b.width+
"px "+b.height+"px ","max-width":b.width+"px ","min-height":b.height+"px ",filter:"","-ms-filter":""}))}}function H(b,d,l,v){if(e.length&&b&&d){if("function"===typeof l||v){var p=new Image;p.onload=v?function(){e.css("background-image",'url("'+b+'")')}:l;p.src=b}l=d[1];var p=d[0],c;v||e.css({"background-image":'url("'+b+'")'});w.repositionHeroImage&&(d=f.getHeroDimParams(w,G.getCurrentItem(),d),h.isDefined(d)&&(l=d.width,p=d.height,c=h.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+
"px "));e.css({"background-position":c,"background-size":l+"px "+p+"px ","max-width":l+"px ","min-height":p+"px ",filter:"","-ms-filter":""})}}function q(d,e,l,h){d=f.getHeroImageHash(w,d,e);if(-1===d)return-1;e=b.map(d.main,function(b,c){return c})[0];H(e,d.main[e],l,h)}function E(b,d,e){if("hero-image"!==b.type)return-1;var h=O(b.color,G.getCurrentItem().variant),h=-1!==h?h:0;if(-1===f.getHeroImageHash(w,b.color,h))return-1;var p=G.getCurrentItem();b.thumbnailIndex=p.thumbnailIndex;b.type=p.type;
b.variant=p.variant;b.index=h;D(b,d,e)}function D(b,h,l){var t=f.getHeroImageHash(w,b.color,b.index),p;p=b&&d&&n.equals(b,d)?!0:!1;d||(d=b);if(!p&&b||h)q(b.color,b.index,h,l),d=b;e.removeClass("hide-background");n.trigger("dp:image-block:update",t)}var J,w,G,N,I,e,d={};return function(d,f,l,n){J=this;w=d;G=f;N=n;w.heroImage[w.landingAsinColor]=w.heroImage[w.defaultColor];J.render=function(d,c,l,a,g,h,f){I=a;e=b("#heroImage");d=t(c,d,h);E(G.getCurrentItem(),f,h);return d};J.update=function(b){var c=
b.data;"ingress"!==c.type&&e.addClass("hide-background");"swatchHover"===b.type?b.captured||(c.type=G.getCurrentItem().type,-1!==E(c)&&(b.captured=!0)):"hero-image"===c.type&&(D(c),"click"!==b.type&&w.usePeekHover||h.selectGivenThumbnail(b.$declarativeParent,I))};N.register("resize",P)}});"use strict";L.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(n,b,h,f,F,t){function O(b){I?b.css("cursor","url('"+D.staticImages.zoomIn+
"'), auto"):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in"))}function P(b){var d=b.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);b={};if(h.isDefined(d))for(var d=d[1].split("_"),f=0;f<d.length;f++){var n=d[f].match(/^([A-Z]+)(\d+(\.\d+)?)$/);h.isDefined(n)&&(b[n[1]]=parseInt(n[2],10))}return b}function H(e,d){function B(){var a;d.useClickZoom?(a=d.offsetInClickZoom,a=[Math.min(1,Math.max(0,E[0]-(M[0]+a))/(M[2]-2*a)),Math.min(1,Math.max(0,E[1]-(M[1]+a))/(M[3]-
2*a))]):a=z&&z.updatePosition();if(a&&u&&u.detailSize){var b=[u.detailSize[0]-u.rect.width,u.detailSize[1]-u.rect.height];n.capabilities.rtl?u.detailImage.get(0).style.right=-(a[0]*b[0])+"px":u.detailImage.get(0).style.left=-(a[0]*b[0])+"px";u.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function w(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function l(a){var m=A?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";E=A?[m.pageX,m.pageY]:[a.pageX,a.pageY];if(n.capabilities.rtl){var k=
b(x).width();E=A?[k-m.pageX,m.pageY]:[k-a.pageX,a.pageY]}}function v(a){A&&a.preventDefault();l(a);d.useClickZoom?a=[M[0],M[1],M[0]+M[2],M[1]+M[3]]:(a=z?z.offset:e.offsetParent().offset(),a=D.acEnabled?[a.left,a.top,g.width()+a.left,g.height()+a.top]:[C[0]+a.left,C[1]+a.top,C[0]+C[2]+a.left,C[1]+C[3]+a.top]);E[0]<a[0]||E[1]<a[1]||E[0]>=a[2]||E[1]>=a[3]||D.acEnabled&&!w(e)?(d.fadeMagnifier?Z||(Z=!0,J=setTimeout(function(){p(!0)},500)):d.useClickZoom||p(),H&&(H=!1,clearTimeout(N))):(H||(H=!0,N=setTimeout(function(){f.postCountMetric("dppc_hoverZoomOpened");
F.isEnabled&&t.logHoverZoomRequestServed(F)},1E3)),d.fadeMagnifier&&Z&&(Z=!1,clearTimeout(J)),B())}function p(m){m&&a.suppressMagnifier(!0);if(k&&(u&&u.hide(),z&&(z.destroy(),z=null),k=!1,A?(e.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),b(document).trigger("disengaged.magnifier")):b(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),y(),m))e.one("click.magnifier touchstart.magnifier",function(a){c(a,!0)})}function c(c,h){h&&a.suppressMagnifier(!1);if(!k&&
!r&&(0===T&&(f.postCountMetric("dppc_hoverTime",new Date-(x.ue&&x.ue.t0||0)),T=1),X[m]||(f.postCountMetric("dppc_hoverMain"),X[m]=1),C=[e.position().left,e.position().top,e.width(),e.height()],m&&(l(c),u?u.refit().show():u=new Y,d.useClickZoom||(z=z||new V),M=u.getWindowSize(),B()),k=!0,A?(e.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",v).bind("touchend.magnifier",p),b(document).trigger("engaged.magnifier")):(D.acEnabled?g.unbind("mousemove.magnifier"):e.unbind("mousemove.magnifier"),
b(document).trigger("engaged.magnifier").bind("mousemove.magnifier",v)),h)){var R=b("#zoomWindow");if(0<R.length)R.one("click.magnifier touchend.magnifier",function(a){p(!0)})}}function y(){d.useHoverZoom&&(A?e.bind("touchstart.magnifier touchmove.magnifier",c):D.acEnabled?w(e)&&g.bind("mousemove.magnifier",c):e.bind("mousemove.magnifier",c))}var a=this,g=e.offsetParent(),q={detailImageUrl:e.attr("data-old-hires"),location:"over",locationElement:e,prelaod:"ready",zIndex:50,offsetInClickZoom:50};d=
b.extend(q,d);d.adjustment=[10,0,-10,0];var u=null,z=null,E=null,C=null,M=null,G={"null":1,"":1,undefined:1},k=!1,r=!1,m=d.detailImageUrl,A=d.useHoverZoomIpad||0,T=0,X={},V=function(){function a(b){var m=Math.round(Math.min(e.width(),u.rect.width/b));b=Math.round(Math.min(e.height(),u.rect.height/b));A.css({width:m,height:b});k=[m,b]}var m=this,k=[0,0],c=(u.detailSize&&u.detailSize[0]||5E8)/C[2],r=(u.detailSize&&u.detailSize[1]||5E8)/C[3],c=r>c?r:c;b("#magnifierLens").remove();var A=b("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
d.generalImageUrls.zoomLensBackground&&A.css({backgroundImage:"url("+d.generalImageUrls.zoomLensBackground+")"});D.showMagnifierOnHover?O(A):A.css("cursor","pointer");m.updatePosition=function(){var a=[C[2]-k[0],C[3]-k[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(E[0]-k[0]/2-C[0]-m.offset.left)/a[0])),c=0>=a[1]?.5:Math.max(0,Math.min(1,(E[1]-k[1]/2-C[1]-m.offset.top)/a[1])),d=C[0]+Math.round(b*a[0]),a=C[1]+Math.round(c*a[1]);A.get(0).style.left=d+"px";A.get(0).style.top=a+"px";return[b,c]};m.destroy=function(){A.remove()};
m.offset=e.offsetParent().offset();a(c);m.updatePosition();A.appendTo(e.parent());u.detailImage[0].complete||u.detailImage.load(function(){var b=u.detailImage.width()/C[2];a(b);m.updatePosition()})};V.preload=function(){a.preload(d.generalImageUrls.lensBackgroundUrl)};var Y=function(){function a(){var m={};if("over"===d.location){var m=d.useClickZoom,k={},A=b("#leftCol"),T=b("#centerCol"),l=b("#rightCol"),R=b("#hover-zoom-end"),f=b("#actionPanelContainer"),V=h.isjQueryObjDefined(A)?A.outerHeight():
T.outerHeight();k.top=h.isjQueryObjDefined(A)?A.offset().top:T.offset().top;k.bottom=V+k.top;k.right=h.isjQueryObjDefined(l)?l.offset().left:f.offset().left;k.left=m?0:A.offset().left+A.outerWidth();h.isjQueryObjDefined(R)&&R.offset().top>k.bottom&&(k.bottom=R.offset().top);m=k}else"right"===d.location&&(m=e.offset(),m={left:m.left+e.outerWidth(),top:m.top,right:m.left+e.outerWidth()+400,bottom:m.top+400});d.minHeightElement&&(m.bottom=Math.max(m.bottom,m.top+b(d.minHeightElement).outerHeight()));
m.bottom=Math.min(m.bottom,b(x).scrollTop()+b(x).height());m.left+=r[0];m.top+=r[1];m.right+=r[2];m.bottom+=r[3];m.width=m.right-m.left;m.height=m.bottom-m.top;d.enhancedHoverOverlay&&h.isDefined(x.pageXOffset)&&(k=b(x).width(),m.width=k-m.left+x.pageXOffset-18,m.height-=14);g.css({left:m.left,top:m.top,width:m.width,height:m.height});c.rect=m;return c}function k(a){var m=new Image;c.detailSize=[0,0];m.onload=function(){c.detailSize=[m.width,m.height];B()};m.src=a.attr("src");if(0<m.width&&0<m.height)c.detailSize=
[m.width,m.height];else if(d.detailImageSize)c.detailSize=d.detailImageSize;else{a=P(m.src);var b=C[2]/C[3];a.SS||a.AA?(a=a.SS||a.AA,c.detailSize=[a,a]):a.SX?c.detailSize=[a.SX,Math.round(a.SX/b)]:a.SY?c.detailSize=[Math.round(a.SY*b),a.SY]:a.SL&&(c.detailSize=1<=b?[a.SL,Math.round(a.SL/b)]:[Math.round(a.SL*b),a.SL])}}var c=this,r=d.adjustment;b("#zoomWindow").remove();var A={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:d.zIndex};d.enhancedHoverOverlay&&(A.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
A.border="1px solid #949494",A.borderColor="rgb(148,148,148)");var g=b("\x3cdiv id\x3d'zoomWindow' /\x3e").css(A);d.fadeMagnifier&&g.fadeIn(200);d.useClickZoom&&(I?g.css("cursor",'url("'+d.zoomOutIcon+'"), auto'):(g.css("cursor","-webkit-zoom-out"),g.css("cursor","-moz-zoom-out"),g.css("cursor","zoom-out")));c.updateImage=function(a){a=b("\x3cimg id\x3d'detailImg' src\x3d'"+a+"'/\x3e").css("position","absolute");c.detailImage&&c.detailImage.remove();g.append(a);b(document).trigger("updated.magnifier");
c.detailImage=a;k(c.detailImage)};c.refit=function(){a();k(c.detailImage);return c};d.fadeMagnifier?(c.show=function(){g.fadeIn(200);return c},c.hide=function(){g.fadeOut(200);return c}):(c.show=function(){g.show();return c},c.hide=function(){g.hide();return c});c.destroy=function(){g.remove();return c};c.getWindowSize=function(){return[c.rect.left,c.rect.top,c.rect.width,c.rect.height]};c.updateImage(m);a();g.appendTo(document.body)},Z=!1,J,H=!1,N;a.preload=function(m){m=b.makeArray(m);for(var c=
m.length,k=0;k<c;k++)m[k]instanceof Array?a.preload(m[k]):"string"===typeof m[k]&&m[k]&&!G[m[k]]&&(G[m[k]]=new Image,G[m[k]].src=m[k])};a.changeImage=function(c,r){k&&p();m=r;e.attr("src",c);a.preload(c);C=[e.position().left,e.position().top,e.width(),e.height()];r&&("immediately"===d.preload?a.preload(r,!0):b(x).ready(function(){a.preload(r)}),u?u.updateImage(r):e.attr("data-old-hires",r))};a.destroy=function(){D.acEnabled?g.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
e.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");b(document).unbind("mousemove.magnifier");z&&z.destroy();z=null;u&&u.destroy();u=null};a.detailImage=function(){return u.detailImage};a.suppressMagnifier=function(a){r=a};a.isEngaged=function(){return k};a.engageMagnifier=c;a.disengageMagnifier=p;e[0].complete?y():e.one("load",y);a.preload(e.attr("src"));x.performance&&performance.now&&x.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(d.preload){var L=
d.detailImageUrl,q=function(){a.preload(L,!0);d.useClickZoom||V.preload()},U=d.preload;U.constructor!==Array&&(U=[U]);for(var R=0;R<U.length;R++)if("immediately"===U[R])q();else if(b(x)[U[R]])b(x)[U[R]](q);else b(x).bind(U[R],q)}return a}function q(){if(D.useHoverZoom){var e={adjustment:[0,0,1,1],generalImageUrls:D.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:D.useHoverZoomIpad,useHoverZoom:D.useHoverZoom,useClickZoom:D.useClickZoom,fadeMagnifier:D.fadeMagnifier,
zoomOutIcon:D.staticImages.zoomOutCur,enhancedHoverOverlay:D.enhancedHoverOverlay||D.atfEnhancedHoverOverlay};G&&(G.destroy(),G=aa);var d=N.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");h.isjQueryObjDefined(d)?D.useClickZoom?(d.one("click.loadmagnifier touchstart.loadmagnifier",function(b){G=new H(d,e);G.engageMagnifier(b,!0)}),I?d.css("cursor",'url("'+D.staticImages.zoomInCur+'"), auto'):(d.css("cursor","-webkit-zoom-in"),d.css("cursor",
"-moz-zoom-in"),d.css("cursor","zoom-in"))):G=new H(d,e):F.isEnabled&&t.logHoverZoomApplicability(b,F)}}var E,D,J,w,G,N,I=navigator.userAgent.match(/msie|trident/i);return function(b,d,h,f){E=this;D=b;J=d;F.refToModel=J;w=f;E.render=function(b,d,e,c,h,a){N=e;G&&(G.destroy(),G=aa)};E.update=function(b){};w.register("loadMagnifier",q);w.register("resize",q)}});"use strict";L.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(n,b,h,f){function F(b,n,t){b=(b=t?
t:h.getColorFromState(n.getState().hovered_variations,P))&&""!==b?b:P.defaultColor;q.dispatch("updateView",{type:"swatchHover",data:{color:b}});f.postCountMetric("swatchHover")}function t(b,n,t,w){b=(b=w?w:h.getColorFromState(n.getState().selected_variations,P))&&""!==b?b:P.defaultColor;b===H.getCurrentItem().color?"function"===typeof t&&t():(q.dispatch("updateSelection",{type:"swatchClick",data:{color:b},onload:function(){var b={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof x.markFeatureRender&&
x.markFeatureRender("imageblock",b);t()}}),f.postCountMetric("swatchClick"))}var O,P,H,q;return function(b,h,f,w){O=this;P=b;H=h;q=w;n.on("image-block-twister-swatch-hover",F);n.on("image-block-twister-swatch-click",t);O.render=function(b,h,f,e,d){};O.update=function(b){}}});"use strict";L.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(n,b,h,f,F,t,O){function P(m,k,d,r){if(!h.isjQueryObjDefined(m.find(".a-button-selected"))){var g=
y.getCurrentItem();if(!r||"chromeless-video"!==g.type||!c.autoplayVideo)if(r=0,"image"===g.type&&(r=Math.max(D(g.color,g.variant),0)),!(g.thumbnailIndex>=c.maxAlts&&0!=r)){var e=k+r;e>=d&&(r=0,e=k);k=h.getImageHash(g.color,r,c);-1!==k&&(a.dispatch("updateModel",{data:{index:r,thumbnailIndex:e,variant:k.variant,type:"image",shoppableScene:k.shoppableScene}}),k=m.find(".item").get(e),h.selectGivenThumbnail(b(k),m))}}}function H(a,k,r){if((2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment)&&
r)return a;var d=c.colorImages&&c.colorImages[k];k=a;2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment||b(".thumbItemUnrolled").each(function(a){(!b(this)[0].classList.contains("thumbTypeimage")||a>=d.length||a>=c.maxAlts)&&b(this).remove()});h.isDefined(d)&&(b.each(d,function(k,r){if(a<c.maxAlts)if(2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment){a++;var A=b(".thumbItemUnrolled");A[k]?A[k].querySelector("img").src=r.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
k+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+a+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+a+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+a+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+r.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else{var A=
{type:"image",index:k,thumbnailIndex:a,variant:r.variant,shoppableScene:r.shoppableScene},g=h.createThumbnail(A,r.thumb,u,"imageThumbnail");c.collapsibleThumbnails&&h.updateImageThumbnailOverlay(g,A,d);a++}}),t.isEnabled&&O.logAltImgRequestPlacedOnThumbnails(b,t,y),P(u,k,a,r));return a}function q(a,b){c.useIV&&h.isDefined(b.hiRes)&&a.css("cursor","pointer")}function E(a,k){if("image"===a.type){var r=b("#image-canvas-caption #canvasCaption"),d,g=c.staticStrings,e=c.colorImages,f=a.color,l=a.index;
h.isShoppableScenesEnabled()&&a.shoppableScene?d=g.clickSceneTagsToShopProducts:k&&c.useIV?d=g.clickToExpand:e[f]&&e[f][l].hiRes&&c.useHoverZoom?(d=c.useHoverZoomIpad?g.touchToZoom:c.useClickZoom?g.clickToZoom:g.rollOverToZoom,c.hoverZoomIndicator&&(d="\x3cimg src\x3d'"+c.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+d)):c.useIV&&(d=g.clickToExpand);r.html(d)}}function D(a,b){return h.getIndexForVariant(a,b,c)}function J(a,b,d){var g=b.thumbnailIndex,e=c.colorToAsin[b.color]&&c.colorToAsin[b.color].asin;
b="altImageHover"===d&&C&&C.altImageIdx===g&&C.asin===e&&"swatchClick"===C.event?!0:"swatchHover"===d?C&&C.asin===e&&C.event===d:C&&C.altImageIdx===g&&C.asin===e&&C.event===d;if(!b){var h="#",f=a.find(".imgTagWrapper img").get(0);f&&(h=f.src);a=new Image;a.onload=function(){if(f){f.src=h;var a=f.width,b=f.height,m=f.naturalWidth,c=f.naturalHeight;try{var A=(Math.abs(a/m*c-b)/b).toFixed(2);.01<A&&(x.ue&&((("landing"!==d||k||r)&&"swatchClick"!==d||x.ue.count("imageBlock-PC-hi_res_image_distortion",
1),"landing"===d||"swatchClick"===d)?x.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==d||r?"altImageHover"!==d||k||(x.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),k=!0):(x.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),r=!0)),x.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},x.ueLogError("swatchHover"===d?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+e+" Event:"+d+" Diff:"+A.toString()+"]"}:
{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+e+" at altImageIdx "+g+" Event:"+d+" Diff:"+A.toString()+"]"},a)))}catch(l){x.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},x.ueLogError(l,a))}}};"#"!==h&&(a.src=h);C.altImageIdx=g;C.asin=e;C.event=d}}function w(a,k){var d="a-dynamic-image";if(!c.acEnabled){var r;b.each(a.main,function(a,b){h.isDefined(r)||(r=parseFloat(b[1]/b[0])<=parseFloat(c.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});
d+=r}var g=h.getMaxDimensionsOfMainImage(a.main,S,c),e=g[0],f=g[1],g=b("\x3cdiv\x3e\x3c/div\x3e"),e={"max-height":e,"max-width":f};g.addClass(d).css(e).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:k}).data("a-dynamic-image",a.main);return g}function G(b,k,c){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+b;"function"==typeof uet&&uet("bb",d,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+b);c=z.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
c.addClass("celwidget").attr("cel_widget_id",d);c.children("span").css("display","inline-block");a.dispatch("initialize-shoppable-scene",{index:b,shoppableScene:k.shoppableScene,imageSource:k.hiRes||k.large||k.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),$viewProductsButton:c.find(".mirai-scene-view-products-button")});"MutationObserver"in x&&(new MutationObserver(function(a,c){a.forEach(function(a){"childList"===a.type&&a.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===a.addedNodes.length&&"IMG"===a.addedNodes[0].tagName&&""!==a.addedNodes[0].src&&(a=a.addedNodes[0],"function"!==typeof a.onload&&(a.onload=function(){n.trigger("shoppable-scene-image-loaded",{index:b,shoppableScene:k.shoppableScene})}),c.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return c}function N(a,b,k){k=w(a,k);a=h.isShoppableScenesEnabled()&&a.shoppableScene?G(b,a,k):z.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(k);z.find(".list").append(a);n.loadImageManually(k);n.trigger("dp:image-block:imageBlockImageLoad",b);return a}function I(a){var b=S.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");c.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(c.imgTagWrapperClasses)}
function e(a){if(a.isUserGenerated){var b=y.getPreviousItem(),k=a.variant;h.isDefined(k)&&b.thumbnailIndex!==a.thumbnailIndex&&(t.isEnabled&&O.logAltImgRequestServed(t),F.postCountMetric("ImageThumbnailSelectedVariant:"+k),0===k.indexOf("IG")&&(F.postCountMetric("IGImageSelectedVariant:"+k),F.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function d(m,d,g,f){if((2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment)&&!f&&"unavailable"!==m.type){if(m=c.colorImages&&c.colorImages[g],
b(".unrolledImg").each(function(a){b(this).remove()}),h.isDefined(m)&&(b.each(m,function(a,k){if(a<c.maxAlts){var m=b(".unrolledImg");m[a]?b(".unrolledImg #unrolledImgNo"+a+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+k.large+'" data-a-hires\x3d"'+k.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):a>=m.length&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+
a+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+a+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
k.large+'" data-a-hires\x3d"'+k.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))}}),n.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img")),g=h.isDefined(d)))F.postCountMetric("mainImageUpdateOnTwisterVariationClick"),d()}else if("image"===m.type||"unavailable"===m.type||"lazy-loaded"===m.type){(g=h.isDefined(d))&&F.postCountMetric("mainImageUpdateOnTwisterVariationClick");
f=h.getImageHash(m.color,m.index,c);if(-1===f)return d={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},h.lazyLoadingRequired(m,y,c)||(a.dispatch("updateModel",d),h.showUnavailable(m.color)),-1;var l=z.find(".item.itemNo"+m.thumbnailIndex);h.isjQueryObjDefined(l)||(l=N(f,m.thumbnailIndex,d),g?(r=k=!1,J(l,m,"swatchClick")):J(l,m,"altImageHover"));I(l);a.dispatch("loadMagnifier");E(m);q(l,f);e(m);n.trigger("dp:image-block:update",f)}}function B(a){var b=Math.max(D(a.color,y.getCurrentItem().variant),
0),b=h.getImageHash(a.color,b,c);if(-1===b)return h.lazyLoadingRequired(a,y,c)||h.showUnavailable(a.color),-1;var k=z.find(".swatchHoverExp"),d=w(b);k.find(".imgTagWrapper").html(d);n.loadImageManually(d);F.postCountMetric("mainImageUpdateOnTwisterVariationHover");I(k);J(k,a,"swatchHover");n.trigger("dp:image-block:update",b)}function W(a,k){h.lazyLoadingRequired(a,y,c)||(b("#imageBlock").css("opacity","1"),z.css("opacity","1"),h.spinner(z,!1),z.find("li").removeClass("selected"),b("#image-canvas-caption #canvasCaption").empty(),
h.hideUnavailable(),k&&z.find(".list .item").remove())}function l(){var a=z.find(".item .imgTagWrapper"),k=h.getContainerHeight(S,c.holderRatio,c.holderMaxHeight);0<k&&(S.height(k),a.height(k));z.find("img.a-dynamic-image").each(function(){var a=b(this);a.data("a-manual-replacement")&&n.loadDynamicImage(this);var k=a.data("a-dynamic-image"),k=h.getMaxDimensionsOfMainImage(k,S,c);a.css({"max-height":k[0]+"px","max-width":k[1]+"px"})})}function v(a){E(y.getCurrentItem(),"mouseenter"===a.type)}var p,
c,y,a,g,Q,u,z,S,C={},M,K=null,k=!1,r=!1;n.on("triggerImageAjax",function(b){var k=y.getCurrentItem().color;c.colorImages[k]||(c.colorImages[k]=b);b={type:"updatedData",data:y.getCurrentItem()};a.dispatch("updateView",b);(k=c.colorToAsin[k])&&k.asin&&L.register(h.rankedImagesReadyEvent(k.asin))});return function(k,r,e,f){p=this;c=k;y=r;a=f;c.colorImages[c.landingAsinColor]=c.colorImages[c.defaultColor];p.render=function(k,m,r,g,e,f,l,A){z=2!==c.unrolledImageBlockTreatment&&3!==c.unrolledImageBlockTreatment?
r:b(".unrolledScrollBox");u=g;S=e;M=H(m,k,f);f?0===m&&J(z.find(".item.itemNo0"),y.getCurrentItem(),"landing"):(m=y.getCurrentItem(),h.lazyLoadingRequired(m,y,c)&&a.dispatch("updateModel",{data:{type:"lazy-loaded"}}));W(y.getCurrentItem(),!f);2===c.unrolledImageBlockTreatment||3===c.unrolledImageBlockTreatment?"swatchClick"===A&&c&&c.colorImages?(K=c.colorImages[k],d(y.getCurrentItem(),l,k,f)):"updatedData"===A&&c&&c.colorImages&&c.colorImages[k]!==K&&(K=c.colorImages[k],d(y.getCurrentItem(),l,k,f)):
d(y.getCurrentItem(),l,k,f);return M};h.isImageBlockGridViewHoverDelayEnabled()?p.update=function(a){var b=a.data;y.setCurrentEvent(a);"ingress"!==b.type&&"swatchHover"!==a.type&&(y.setToPreviousItem(),"mouseenter"===a.type?(Q&&clearTimeout(Q),Q=setTimeout(function(){y.setToCurrentItem(b);W(a.data,!1)},h.getHoveringDelayTimer())):"mouseleave"===a.type?Q&&clearTimeout(Q):"click"===a.type&&(y.setToCurrentItem(b),W(a.data,!1)));"swatchHover"===a.type?("ingress"!==b.type&&W(a.data,!1),b.color===y.getCurrentItem().color?
d(y.getCurrentItem(),null,b.color,!0):a.captured||-1===B(b)||(a.captured=!0)):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type?(F.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+M),g&&clearTimeout(g),g=setTimeout(function(){d(b,null,b.color,!0);c.usePeekHover||h.selectGivenThumbnail(a.$declarativeParent,u)},h.getHoveringDelayTimer())):"mouseleave"===a.type?g&&clearTimeout(g):"click"===a.type&&(d(b,null,b.color,!0),h.selectGivenThumbnail(a.$declarativeParent,
u),F.postCountMetric("dpcc_imageThumbClicked_total"),F.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+M)))}:p.update=function(a){var b=a.data;y.setCurrentEvent(a);"ingress"!==b.type&&W(a.data,!1);"swatchHover"===a.type?b.color===y.getCurrentItem().color?d(y.getCurrentItem(),null,b.color,!0):a.captured||-1===B(b)||(a.captured=!0):"image"===b.type&&(b.interaction=a.type,b.isUserGenerated=!0,"mouseenter"===a.type&&F.postCountMetric("dpcc_imageThumbHovered_"+(b.thumbnailIndex+1)+"_"+
M),d(b,null,b.color,!0),c.usePeekHover&&"click"!==a.type||(h.selectGivenThumbnail(a.$declarativeParent,u),"click"===a.type&&(F.postCountMetric("dpcc_imageThumbClicked_total"),F.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+M))))};c.overrideAltImageClickAction&&h.addTag("clickEnabledOnAltImages");a.register("imageHover",v);a.register("resize",l)}});L.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(n,b,h,f){function x(f,e){var d=
b("\x3cimg src\x3d'"+(e?w.staticImages.shoppableSceneDotHighlighted:w.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");d.css({display:e?"none":"inline-block"});d.addClass("mirai-scene-tag").addClass(e?"active-tag":"inactive-tag");return d}function t(f){var e=b("\x3cspan\x3e");n.each(f.tags,function(d){var f=b("\x3cdiv\x3e").css({position:"absolute",left:100*d.left+"%",top:100*d.top+"%",height:"auto",width:"auto"});f.append(x(d,!1));f.append(x(d,!0));f.bind("mouseenter",function(){O(b(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});
n.declarative.create(f,"scenes-show-details-tags-ib",{tagId:d.link});e.append(f)});return e.children()}function O(b){b.addClass("mirai-scene-dot-pulsate");n.delay(function(){b.removeClass("mirai-scene-dot-pulsate")},4E3)}function P(b,f){b.css({display:"none"});f.css({display:"inline-block"})}function H(b,f,d){b.eq(d).css({display:"inline-block"});f.eq(d).css({display:"none"})}function q(b){L.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){n.trigger("mirai:scene-details-change",
{physicalId:b})})}function E(){var f=b("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),e=b("\x3cimg class\x3d'item-tag'\x3e").attr("src",w.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),d=b("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");d.html(w.staticStrings.shoppableSceneViewProductsButton);return f.append(e).append(d)[0].outerHTML}function D(b){function e(){b.$tagPlaceholder.replaceWith(h);var c=h.find(".mirai-scene-tag.active-tag"),d=
h.find(".mirai-scene-tag.inactive-tag");H(c,d,0);O(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));N=!0;b.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+b.index,{wb:1});p=!0;f.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(b.shoppableScene){var d=b.$viewProductsButton.find(".a-button-text");if(0===d.children().length){d.append(E());n.declarative.create(b.$viewProductsButton,"scenes-show-details-view-products-ib",
{tagId:b.shoppableScene.tags[0].link});var h=t(b.shoppableScene),q=h.find(".mirai-scene-tag.active-tag"),l=h.find(".mirai-scene-tag.inactive-tag"),v=b.shoppableScene.physicalId,p=!1;n.on("mirai:index:change",function(b){b.scenePhysicalId===v&&(b=b.selectedIndices[0],P(q,l),H(q,l,b),O(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(b)),N=!0)});n.on("mirai:scene-details-change",function(b){b.physicalId!==v||N||(P(q,l),H(q,l,0),O(h.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),
N=!0)});n.on("mirai:no-products-active",function(b){b.scenePhysicalId===v&&P(q,l)});n.on("mirai:set-first-product-active",function(b){b.scenePhysicalId===v&&(P(q,l),H(q,l,0))});n.on("a:image:load:shoppable-scene:"+b.index,function(){p||(e(),f.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});n.on("shoppable-scene-image-loaded",function(c){c.index!=b.index||p||(e(),f.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});L.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",
function(){n.trigger("mirai:scene-side-sheet-init",{icons:w.staticImages,strings:w.staticStrings});n.trigger("mirai:scene-details-init",{scene:b.shoppableScene,imageSource:b.imageSource})})}}}var J,w,G,N=!1;return function(b,f,d,n){J=this;w=b;G=n;h.isShoppableScenesEnabled()?(G.register("initialize-shoppable-scene",D),J.render=function(b,d,f,e,c,h,a){},J.update=function(b){"mouseenter"===b.type&&(b.data.shoppableScene?q(b.data.shoppableScene.physicalId):N=!1)}):(b=function(){},J.render=b,J.update=
b)}});L.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";L.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(n,b,h,f,F,t,O,P,H){function q(a){return null!==a&&"undefined"!==typeof a}function E(a){var c=0;b.each(a,function(a,b){var k=parseInt(b[1],10);k>c&&(c=k)});return c}function D(a){var c=0;b.each(a,function(a,b){var k=
parseInt(b[0],10);k>c&&(c=k)});return c}function J(a,b,c){b=b.width();if(c.naturalMainImageSize)return b;a=E(a);0<a&&(b=Math.min(b,a));return b}function w(a,b,c){b=b.height();if(c.naturalMainImageSize)return b;a=D(a);0<a&&(b=Math.min(b,a));return b}function G(a){var c;b.each(a,function(a,b){q(c)||(c=b[1]/b[0])});return c||1}function N(k,c,d,g,l,n,t,u,q,p,v,w,z,x,R){var da=b.extend({},d.foresterMetadataParams);null!==g&&(da.method+="."+g);var fa=[];c.disabledViewIds&&(fa=c.disabledViewIds);R=R&&R.videoBackgroundChromefulMainView?
R.videoBackgroundChromefulMainView:"black";"unrolled-video-add"===x&&(R="transparent");return h.embed({parentElement:k[0],streamingUrls:c.url,contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,swfUrl:d.swfUrl,foresterMetadataParams:da,backgroundColor:R,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl},videoAds:d.videoAds,bindings:{play:function(){if("ImmersiveView"===g)y||(y=!0,f.postCountMetric("dppc_chromefulVideoPlayedIV"));
else if(a||(a=!0,f.postCountMetric("dppc_chromefulVideoPlayedPV")),!p){var b=f.buildNexusMetric("ib.thumbnailClick",q,c.mediaObjectId,c.groupType,v,w,z);f.emitNexusMetric(b)}}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(a,b,k){l&&(I(0,n,u),e(t))}}],disabledViewIds:fa})}function I(a,b,c){b.fadeTo(500,0,function(){d(a,c);b.fadeTo(500,1)})}function e(a){a&&a.toggle()}function d(a,c){var d=c.find("img");q(d[a])&&b(d[a]).click()}function B(a,b){u[a]=b?b:u[a];return u[a]}function L(a,
c,d){d=d||Q;d=d.colorImages;if(1>d.length||!q(d[a])||!q(c))return-1;var g=-1;b.each(d[a],function(a,b){b.variant===c&&(g=a)});return g}function l(a,c,d){d=d||Q;d=d.colorImages;return!(q(d)&&q(d[a])&&q(d[a][c])&&q(d[a][c].main))||1>b.map(d[a][c].main,function(a,b){return b}).length?-1:d[a][c]}function v(a,b,c,d){d.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?d.css("width",b/a*100+"%"):d.css("height",a/b*100+"%"))}function p(a,c){var d;if(d=a.useIV)d=a.colorImages&&a.colorImages[c]&&0<a.colorImages[c].length?
!0:!1;O.isEnabled&&(O.IVApplicaple=d,P.logImmersiveViewApplicability(b,O));return d}function c(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length||0<b(".gridImageBlockViewLayoutIn1x7").length}var y,a,g,Q=b.extend(!0,{},F,t),u={},z=0,S=0,C=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,M={},K={};return{isDefined:q,isDefinedAndEmpty:function(a){return q(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return q(a)?"object"===
typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return q(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:G,getMaxHeightOfMainImage:w,getMaxWidthOfMainImage:J,getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),b.width()];var d=w(a,b,c);b=J(a,b,c);a=G(a);c=b/a;b=Math.min(b,d*a);d=Math.min(d,c);return[d,b]},getContainerHeight:function(a,b,c){var d=a.get(0);a=0;if(q(d)){a=d.offsetWidth/
b;a=Math.min(a,c);var g;b=Q.mainImageHeightPartitions;c=Q.mainImageMaxSizes;if(q(c)&&q(b)){for(var f=0,e=x.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=0;d<b.length;d++)e>b[d]&&(f=d+1);c.length>=f&&(g=c[f])}q(g)&&(a=Math.min(g[1],a))}return a},getColorFromState:function(a,c){if(a){c=c||Q;var d="";b.each(c.visualDimensions,function(b,c){a[c]&&(d+=" "+a[c])});return d&&d.substring(1)}},createThumbnail:function(a,b,d,g){var f=d.find(".template").clone().removeClass("template").addClass("item"),
e=document.createElement("img");e.src=b;f.find(".placeHolder").replaceWith(e);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&f.addClass("heroImageThumbnail");q(g)&&f.addClass(g);c()&&f&&(g=document.createElement("div"),g.className="imageBlockThumbnailImageGrayOverlay",e.parentNode.insertBefore(g,e));n.declarative.create(f,"thumb-action",a);f.attr&&(f.attr("data-ux-click",""),a.type&&a.type.match(/video/)?(f.attr("data-csa-c-type","uxElement"),f.attr("data-csa-c-element-type","navigational"),
f.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(f.attr("data-csa-c-type","uxElement"),f.attr("data-csa-c-element-type","navigational"),f.attr("data-csa-c-action","image-block-alt-image-hover")),f.attr("data-csa-c-posy",a.thumbnailIndex+1));d.append(f);return f},updateImageThumbnailOverlay:function(a,b,c){a.find(".textMoreImages").append(c.length-b.thumbnailIndex+"+")},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");
c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,c,d,g,f,e,h){N(a,b,c,d,g,f,e,h,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:N,loadMediaIntoAiry:function(a,b,c,d){a&&a.getMediaSourceInfo()!==b.url&&(d?a.loadMedia?(g={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(g)):a.play({videoUrl:b.url,imageUrl:b.slateUrl,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):
a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId}))},showUnavailable:function(a){a&&(b("#imageBlock .unvailableVariation").html(a),b("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){b("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:I,toggleVideoCaption:e,
selectThumbnail:d,spinner:function(a,c){var d=b("#imageBlock .a-spinner").parent();0===d.length&&(d=b("\x3cdiv\x3e\x3c/div\x3e").append(b("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),a.append(d),d.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));
c?d.show():d.hide();return d},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:B,getIndexForVariant:L,getImageHash:l,lazyLoadingRequired:function(a,b,c){b=Math.max(L(a.color,b.getCurrentItem().variant,c),0);b=-1!==l(a.color,b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==B(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:v,repositionVideoBanner:function(a,
b,c,d){setTimeout(function(){var c=a.width()/a.height();v(c,16,9,b)},d||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!q(c.colorToVideo))return-1;a=c.colorToVideo[a]}else a=c.videos;return q(a)&&q(a[b])&&q(a[b].url)?a[b]:-1},isImmersiveViewEnabled:p,playVideoInImmersiveView:function(a,b){return p(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},
getMediaSourceInfo:function(){return q(g)?g.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(a){x.ue&&x.ue.tag&&x.ue.tag(a)},isShoppableScenesEnabled:function(){return H.isEnabled&&0<b(".mirai-scene-image-block-template").length},
isImageBlockGridViewDisplayEnabled:c,isImageBlockGridViewHoverDelayEnabled:function(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return z},updateThumbnailHoverDelay:function(a){if(q(a)){z=0;var b=a.closest("li"),b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var c;c=S;a=a.closest("ul").attr("class");a===aa?c=!1:(a=C.exec(a),null===a||3!==a.length?c=!1:(a=a[2],
c=Math.floor(c/a)>Math.floor(b/a)));c&&(z=100);S=b}}},setDimensionIngressData:function(a,b,c){M[a]=b;K[a]=c},isDimensionIngressEnabled:function(a){return!!M[a]},getDimensionVariantList:function(a){return K[a]}}});"use strict";L.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(n,b,h,f,F,t,O){function P(c,d,k,e){!a.autoplayVideo||ea||a.useChromelessVideoPlayer?!f.isjQueryObjDefined(c.find(".a-button-selected"))&&
(k=g.getCurrentItem(),!e||a.prioritizeVideos||"chromeless-video"===k.type&&a.autoplayVideo)&&(e=f.getVideoHash(k.color,0,a),-1===e||k.thumbnailIndex>=a.maxAlts-1||(d+=0,Q.dispatch("updateModel",{data:{index:0,thumbnailIndex:d,variant:e.variant,type:a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),d=c.find(".item").get(d),f.selectGivenThumbnail(b(d),c))):(f.selectGivenThumbnail(c.find("img:last"),c),f.fadeToThumbnail(c.find("img").length-1,C,c))}function H(b){var c=g.getCurrentItem().color;
if(a.useChildVideos&&!a.colorToVideo[c]){var d=function(){if(b){a.colorToVideo[c]=b;var d={type:"updatedData",data:g.getCurrentItem()};Q.dispatch("updateView",d)}};a.lazyLoadExperienceDisabled?d():L.when(f.rankedImagesReadyEvent(a.colorToAsin[c].asin)).execute(function(){d()})}}function q(b){b&&(a.notShowVideoCount=b,b={type:"updatedData",data:g.getCurrentItem()},Q.dispatch("updateView",b))}function E(b){if(!a.useChildVideos)return f.lazyLoadingRequired(g.getCurrentItem(),g,a)?void 0:a.videos;if(a.colorToVideo[b])return a.colorToVideo[b];
var c=a.colorToAsin[b];if(c&&c.asin){var d={};d.params={asin:c.asin,productGroupID:a.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:a.useChromelessVideoPlayer,isUDP:a.isUDP};a.isDPXFeatureEnabled||(d.success=function(a){H(a)},F.load("/gp/product/features/apparel-main-image/videos.html",d));return a.colorToVideo&&a.colorToVideo[b]}}function D(b){K&&null===b&&2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment&&(K.hide(),z.parent().css("z-index",-1),S.hide(),z.siblings(".ive-creator-profile").addClass("aok-hidden"))}
function J(){Q.dispatch("selectThumbnail",f.useTabbedImmersiveView(a)?1:0)}function w(a,c,d,g){return h.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:a[0],streamingUrls:c.url,swfUrl:d.swfUrl,foresterMetadataParams:d.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var b=f.isjQueryObjDefined(a.find("video"))?"HTML5":"FLASH";t.postCountMetric("dppc_chromelessVideo:"+b)},playing:function(){a.parent().css("z-index",
8)},videounsupported:function(){J();t.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){J();t.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){K.seek(0)}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(c,d,g){c=g.durationSeconds-g.playheadTimeSeconds;a.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*c,.1,function(){a.parent().css({"background-color":"transparent","z-index":-1});J();b(this).show().css("opacity",
1)})}}]})}function G(a,b){a.css("width","");b.css("width","");b.removeClass("profileWrapper")}function N(b){b&&(a.enableS2WithoutS1=b)}function I(c,d){if("chromeful-video"===c.type||"chromeless-video"===c.type||"unrolled-video-add"===d){var e=f.getVideoHash(c.color,c.index,a);if(-1===e)return-1;if("chromeful-video"===c.type)a:{var h=c.thumbnailIndex+1,m=C.width()/C.height(),l=parseInt(e.videoWidth,10),q=parseInt(e.videoHeight,10);f.updateAspectRatio(m,l,q,z);if(K&&"unrolled-video-add"!==d)K.show(),
f.loadMediaIntoAiry(K,e,k,a.tabletWeb);else if(a.tabletWeb)K=A;else if(K=f.createAiryInstanceForChromefulNotUseTabbedImmersiveView(z,e,k,null,a.autoplayVideo,C,S,u,h,a.useTabbedImmersiveView,X,T,V,d,a),"unrolled-video-add"===d){K.show();f.loadMediaIntoAiry(K,e,k,a.tabletWeb);break a}b:if(2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment)if(f.useTabbedImmersiveView(a)){if(1<f.getVideosCount(g.getCurrentItem().color,a)){if(f.isDefined(M)){S.show();break b}M=b('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href",
"#").text(a.staticStrings.watchMoreVideos);S.find("#videoCaption").append(M);n.declarative.create(M,"videoIngressClick",r)}f.playVideoInImmersiveView(a,g.getCurrentItem().color)&&(n.declarative.create(z,"videoIngressClick",r),z.attr&&z.attr("data-ux-click",""),z.children().css("z-index","-1"),z.css("display","inline-block"))}else S.find("#videoCaption").text(a.staticStrings.playVideo),S.show();h=K;a.autoplayVideo&&h&&!ea&&(f.toggleVideoCaption(S),h.setVolume(0),h.show(),h.play(),ea=!0);try{var p=
b("#video-outer-container").find(".ive-creator-profile");if(!(e&&a.enableS2WithoutS1&&e.creatorProfile&&"IB_G2"===e.groupType&&p))p.addClass("aok-hidden");else if(1===p.length){p.removeClass("aok-hidden");var v=p.find(".a-profile-content .a-profile-name");0<v.length&&v.html(e.title);var y=p.find(".a-profile-content .a-profile-descriptor");0<y.length&&y.html(e.creatorProfile.publicName);var x=p.find(".a-profile-avatar img");0<x.length&&x.attr("src",e.creatorProfile.url);p.attr("href",e.creatorProfile.profileLink+
"?ref\x3dive_mb_profile");f.isImageBlockGridViewDisplayEnabled()&&p.css("padding-left","0px")}}catch(B){t.postCountMetric("update_creator_profile_data_error")}p=z;e=e.groupType;try{var F=p.siblings(".ive-creator-profile"),D=p.siblings("#video-canvas-caption"),E=p.parent();if("IB_G2"!==e)G(p,F);else if(E.addClass("videoContainerWrapperCenter"),p.addClass("videoCenterWrapper"),0!==q&&0!==l)if(l/=q,m>l)try{if(1===F.length){var Q=F.height(),H=1===D.length?D.height():0;if(H?H+Q:Q)F.addClass("profileWrapper"),
F.css("width",l/m*100+"%"),p.css("height","")}}catch(I){t.postCountMetric("adjust_creator_profileWidth_function_error")}else G(p,F)}catch(O){t.postCountMetric("update_max_height_error")}}else if(K&&"unrolled-video-add"!==d)K.show(),f.loadMediaIntoAiry(K,e,k,a.tabletWeb),K.play(),S.show();else if(K=w(z,e,k))"unrolled-video-add"===d&&(K.show(),f.loadMediaIntoAiry(K,e,k,a.tabletWeb)),K.play()}}function e(c,g,e){if((2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment)&&e)return c;var k=
E(g);g=c;var h=b(".unrolledImg"),l=f.isDefined(k)&&0<k.length&&a.alwaysIncludeVideo?1:0;f.isDefined(k)&&0<k.length&&!a.alwaysIncludeVideo&&c===a.maxAlts&&t.postCountMetric("IBVideoDrop");h.length>a.maxAlts&&h.each(function(c){c>=a.maxAlts&&b(this).remove()});l&&c===a.maxAlts&&(2===a.unrolledImageBlockTreatment||3==a.unrolledImageBlockTreatment?(b(".thumbItemUnrolled").last().remove(),b(".unrolledImg").last().remove()):u.find(".item:last").remove(),c--);f.isDefined(k)&&(b.each(k,function(g,e){if(c<
a.maxAlts){if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var h=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";b('\x3cli class\x3d"thumbItemUnrolled thumbType'+h+" thumbIndex"+g+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+e.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b("ul.regularAltImageViewLayout"));b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+c+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
c+'" class\x3d"videoIndex'+g+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"));a.dp60InLastPositionUnrolledImageBlock||2!==a.dp60VideoPosition||d(b(".regularAltImageViewLayout"),a.dp60VideoPosition)}else{var h=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",l={type:h,index:g,thumbnailIndex:c,variant:e.variant};r={type:"video-ingress",index:g,thumbnailIndex:c,variant:e.variant};f.useTabbedImmersiveView(a)&&("chromeful-video"===
h&&(U+=" videoBlockIngress  videoBlockDarkIngress",e.thumb=e.thumb.replace("_PKmb-play-button-overlay-thumb","")),a.altsOnLeft||(U+=" a-align-top"));f.isImageBlockGridViewDisplayEnabled()&&(U+=" videoImageBlockGridView");f.createThumbnail(l,e.thumb,u,U);2===a.dp60VideoPosition&&d(u,a.dp60VideoPosition);if(f.useTabbedImmersiveView(a)){B(u.find(".videoBlockIngress img"),a.videoIngressATFSlateThumbURL);var l=1<k.length?"multiple-videos":"one-video",m=!0===a.notShowVideoCount?a.staticStrings.multipleVideos:
1<k.length?k.length+" "+a.staticStrings.multipleVideos:a.staticStrings.singleVideo;m&&u.find(".videoBlockIngress").append(u.find("#videoCount_template").clone().text(m).attr("id","videoCount")).addClass(l)}l=t.buildNexusMetric("ib.thumbnailImpression",c+1,e.mediaObjectId,e.groupType,X,T,V,Y);t.emitNexusMetric(l);l=t.buildNexusMetric("ib.thumbnailRender",c+1,e.mediaObjectId,e.groupType,X,T,V,Y);t.emitNexusMetric(l);ga||(ga=!0,t.postCountMetric("chromeless-video"===h?"dppc_chromelessVideoAvailable":
"dppc_chromefulVideoAvailable"))}c++}if(f.useTabbedImmersiveView(a))return!1}),P(u,g,c,e),a.imageBlockRenderingStartTime&&t.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",n.now()-a.imageBlockRenderingStartTime));return c}function d(c,d){if(0!==d)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var g=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",e=c.children(".thumbTypeimage"),g=c.children(".thumbType"+g);e&&g&&e[d-1]&&b(e[d-1]).before(g[0]);
g=b(".unrolledScrollBox .list-unrolled");e=g.children(".unrolledImg.imgMedia");g=g.children(".unrolledImg.videoMedia");e&&g&&e[d-1]&&b(e[d-1]).before(g[0]);b(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(a){for(var c=null,d=0;d<this.classList.length;d++)this.classList[d].includes("itemNo")&&(c=d);null!==c&&b(this).removeClass(this.classList[c]).addClass("itemNo"+a);this.querySelectorAll("div")[1].id="unrolledImgNo"+a})}else e=c.children(".imageThumbnail"),g=c.children(".videoBlockIngress"),
e&&g&&e[d-1]&&b(e[d-1]).before(g[0])}function B(a,b){var c=a.attr("src");if(c&&b){a.attr("src",b);var d=new Image;d.onload=function(b){a.attr("src",c)};d.src=c}}function W(b){K&&K.pause();b.data=r;b.clickTimeStamp=b.$event.timeStamp;var c="a"===b.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";Q.dispatch("imageClick",b);t.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp);b=t.buildNexusMetric("ib.thumbnailClick",b.data.thumbnailIndex+1,a.videos[0].mediaObjectId,a.videos[0].groupType,
X,T,V,Y);t.emitNexusMetric(b);t.postCountMetric(c)}function l(a){A=a.player;A.hide=function(){A.pause();n.$("#main-video-container").find(".vse-player-container").hide()};A.show=function(){n.$("#main-video-container").find(".vse-player-container").show();A.play()};A.getMediaSourceInfo=function(){return f.getMediaSourceInfo()}}function v(c,d,e,k,h,l){D(l);z=null!==l?b("#unrolledImgNo"+l.thumbnailIndex):k.find("#main-video-container");S=null!==l?"":z.parent().find("#video-canvas-caption");C=null!==
l?b(".unrolledScrollBox"):b("#main-image-container");null===l&&f.isImageBlockGridViewDisplayEnabled()&&(z.addClass("videoCenter"),k.find("#video-outer-container").addClass("videoWrapperCenter"));X=x.location.href;c=g.getCurrentItem().color;!0===h?T=a.mediaAsin:(T=a.colorToAsin[c]&&a.colorToAsin[c].asin,T=f.isDefined(T)?T:a.mediaAsin);a.useChromelessVideoPlayer||z.addClass("chromeful-container");null!==l?I(l,"unrolled-video-add"):I(g.getCurrentItem(),"");f.useTabbedImmersiveView(a)&&n.declarative("videoIngressClick",
["click"],W);c=g.getCurrentItem().color;h=f.getVideoHash(c,0,a);-1!==h&&a.tabletWeb&&(h=f.getNilgiriServiceAjaxRequest(a,c,h),O.get(n,"#main-video-container",h,function(){n.$("#main-video-container").find(".vse-player-container").hide()},function(){n.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}))}function p(a,b){function c(a){a=Math.floor((u.width()-1)/f);a=d?a-1:a;b.slice(a).hide();b.slice(0,a).show();b.removeClass("overlayRestOfImages");a<b.length&&b.eq(a-1).addClass("overlayRestOfImages")}
var d=0!=u.find(".item.videoThumbnail").length,g=b.eq(0).width(),e=b.eq(1).position().left-b.eq(0).position().left-g,f=g+e;c();a.register("resize",c)}function c(a){var b=u.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==aa&&c.decode().then(function(){p(a,b)})}}var y,a,g,Q,u,z,S,C,M,K,k,r,m,A,T,X,V,Y,Z,ba,ca,ga=!1,ea=!1,U="videoThumbnail";return function(d,h,p,w){y=this;a=d;g=h;Q=w;k=a.airyConfig;V=a.contentWeblab&&a.contentWeblab+":"+a.contentWeblabTreatment;a.colorToVideo=
{};a.colorToVideo[a.landingAsinColor]=a.colorToVideo[a.defaultColor]=a.videos;a.tabletWeb?(Z="tablet",Y="applicationType.ImageBlock.vse_ib_tablet_web"):n.capabilities.tablet?(Z="tablet",n.capabilities.isAmazonApp&&(Y="applicationType.ImageBlock.vse_ib_tablet_app")):(Z="desktop",Y="desktop_web.ImageBlock.vse_ib_iv");y.render=function(d,g,f,k,h,l){var p=[];if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){u=b("ul.regularAltImageViewLayout");m=e(g,d,l);p=[];g=b(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||
this.classList.contains("thumbTypechromeless-video")});for(var n=0;n<g.length;n++){var t=g[n].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",q=Number(g[n].classList[2].slice(10)),r=b(".thumbItemUnrolled").index(g[n]);p.push({color:d,thumbnailIndex:r,type:t,varient:"MAIN",index:q})}for(n=0;n<p.length;n++)v(d,f,k,h,l,p[n])}else u=k,m=e(g,d,l),v(d,f,k,h,l,null);a.collapsibleThumbnails&&c(Q);return m};f.isImageBlockGridViewHoverDelayEnabled()?y.update=function(b){var c=
b.data;"ingress"===c.type||"swatchHover"===b.type||f.lazyLoadingRequired(c,g,a)||(g.setToPreviousItem(),"mouseenter"===b.type?(ca&&clearTimeout(ca),ca=setTimeout(function(){g.setToCurrentItem(c);D(null)},f.getHoveringDelayTimer())):"mouseleave"===b.type?ca&&clearTimeout(ca):"click"===b.type&&(g.setToCurrentItem(c),D(null)));if("swatchHover"===b.type)"ingress"===c.type||f.lazyLoadingRequired(c,g,a)||D(null),c.color===g.getCurrentItem().color?I(g.getCurrentItem(),""):b.captured||f.lazyLoadingRequired(c,
g,a)&&!f.lazyLoadOnHoverEnabled(a)&&I(g.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var d=f.getVideoHash(c.color,c.index,a);"mouseenter"===b.type?(t.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+m),"chromeless-video"===c.type&&(d=t.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,X,T,V,Y),t.emitNexusMetric(d)),ba&&clearTimeout(ba),ba=setTimeout(function(){I(c,"");!a.usePeekHover&&n.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&
f.selectGivenThumbnail(b.$declarativeParent,u)},f.getHoveringDelayTimer())):"mouseleave"===b.type?ba&&clearTimeout(ba):"click"===b.type&&(I(c,""),n.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&(f.selectGivenThumbnail(b.$declarativeParent,u),d=t.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,X,T,V,Y),(!f.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==Z)&&t.emitNexusMetric(d),f.useTabbedImmersiveView(a)&&(t.emitNexusMetric(d),
t.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+m),r.action="videoIngressClick",r.clickTimeStamp=b.$event.timeStamp,r.$event=b.$event,r.$currentTarget=b.$currentTarget,Q.dispatch("videoIngressClick",r),t.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}}:y.update=function(b){var c=b.data;"ingress"===c.type||f.lazyLoadingRequired(c,g,a)||D(null);if("swatchHover"===b.type)c.color===g.getCurrentItem().color?I(g.getCurrentItem(),""):b.captured||f.lazyLoadingRequired(c,
g,a)&&!f.lazyLoadOnHoverEnabled(a)&&I(g.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var d=f.getVideoHash(c.color,c.index,a);if("mouseenter"===b.type&&(t.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+m),"chromeless-video"===c.type)){var e=t.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,X,T,V,Y);t.emitNexusMetric(e)}I(c,"");a.usePeekHover&&"click"!==b.type||!n.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")||
(f.selectGivenThumbnail(b.$declarativeParent,u),"click"===b.type&&(d=t.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,X,T,V,Y),(!f.useTabbedImmersiveView(a)&&"chromeless-video"===c.type||"tablet"==Z)&&t.emitNexusMetric(d),f.useTabbedImmersiveView(a)&&(t.emitNexusMetric(d),t.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+m),r.action="videoIngressClick",r.clickTimeStamp=b.$event.timeStamp,r.$event=b.$event,r.$currentTarget=b.$currentTarget,Q.dispatch("videoIngressClick",
r),t.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}};a.isDPXFeatureEnabled&&(n.on("triggerVideoAjax",H),n.on("notShowVideoCountAjax",q),n.on("enableS2WithoutS1Ajax",N));n.on("vsePlayer-imageblock_tablet",l)}});"use strict";L.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(n,b){function h(b,f,h,P,H){function q(a){"click"===a.type&&P.postCountMetric("thumbClick");"click"===a.type&&p.overrideAltImageClickAction?c.dispatch("thumbActionClick",a):c.dispatch("updateSelection",
a)}function E(a){p.useClickZoom||c.dispatch("imageClick",a)}function D(a){p.useClickZoom||c.dispatch("imageHover",a)}function J(a){c.dispatch("button360Click",a)}function w(a){!h.isDefined(a)||"swatchClick"!==a.type&&"updatedData"!==a.type?(v.update(a),"swatchHover"!==a.type&&y.getPreviousItem().thumbnailIndex!==a.data.thumbnailIndex&&P.postCountMetric(a.data.type+"ThumbnailSelected"),b.trigger("image-block-thumbnail-selected",a.data)):(v.render(a.data.color,!1,a.onload,a.type),a={hasComponents:!0,
components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof x.markFeatureRender&&x.markFeatureRender("imageblock",a))}function G(a){c.dispatch("resize",a)}function N(b){h.selectThumbnail(b,a)}function I(){if("function"===typeof x.markFeatureInteractive){var a=[],b=[];p.interactiveCallJSPEnabled?(a=["scroll"],b=["click"]):(a=["hover"],b=["click","hover"]);x.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:a,alwaysInteractive:!0},{name:"thumbnail",
events:b,alwaysInteractive:!0}]})}}function e(){"function"===typeof x.markFeatureInteractive&&x.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function d(){if(!p.interactiveCallJSPEnabled||n.useIV)I(),1===n.useIV?L.when("a-modal").execute(function(){e()}):e();p.disableHoverOnAltImages||b.declarative("thumb-action",["mouseenter","mouseleave"],q);b.declarative("thumb-action",["click"],q);b.declarative("main-image-click",
["click"],E);b.declarative("main-image-click",["mouseenter","mouseleave"],D);b.declarative("button-360-click",["click"],J);b.on("resize",G)}function B(a){var b=a.data,c;b&&"ingress"!==b.type&&"click"===a.type&&(c=a);return c}function W(a){var b=y.getCurrentItem(),c={type:"click"};c.$declarativeParent=a;c.data=b;return c}function l(a){h.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===a.type&&h.updateThumbnailHoverDelay(a.$target)}var v,p,c,y,a;return function(b,e,h){v=this;p=b;c=e;y=h;a=f("#imageBlock #altImages ul");
var n=f("#imageBlock .canvas"),q=f("#main-image-container"),C;v.subViews=[];for(e=0;e<H.length;e++)v.subViews.push(new H[e](b,h,v,c));v.render=function(b,c,d,e){var g=0;a.find(".item").remove();b=b||y.getCurrentItem().color;f.each(v.subViews,function(f,h){g=(2===p.unrolledImageBlockTreatment||3===p.unrolledImageBlockTreatment?h.render(b,g,n,a,q,c,d,e):h.render(b,g,n,a,q,c,d))||g});var h=a.find(".a-button-selected").closest(".a-declarative");C=W(h)};v.init=function(){a=f("#imageBlock #altImages ul");
var b=a.find(".a-button-selected").closest(".a-declarative"),e=b.data("action"),b=b.data(e)||{};b.color=p.landingAsinColor||p.defaultColor;c.dispatch("updateModel",{data:b});v.render(b.color,!0);p.isDebug&&x.console&&console.log(p);c.register("updateView",w);c.register("selectThumbnail",N);d()};v.update=function(a){l(a);f.each(v.subViews,function(b,c){c.update(a)});p.usePeekHover&&("mouseleave"===a.type?c.dispatch("updateSelection",C):"click"===a.type&&(C=B(a)||C))}}}var f=["A","jQuery","imageBlockUtils",
"postMetric"].concat(n.views);L.when.apply(L,f).register("ImageBlockView",function(){for(var b=arguments[0],f=arguments[1],n=arguments[2],x=arguments[3],H=[],q=4,E=arguments.length;q<E;q++)H.push(arguments[q]);return h(b,f,n,x,H)})})});
/* ******** */
(function(D){var u=window.AmazonUIPageJS||window.P,pa=u._namespace||u.attributeErrors,e=pa?pa("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):u;e.guardFatal?e.guardFatal(D)(e,window):e.execute(function(){D(e,window)})})(function(D,u,pa){D.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils","postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(e,b,c,r,h){function sa(a,g){var f=b(a+" image").attr("data");b(a+" image")[0].setAttribute("href",
f);var c=new Image;c.src=f;c.onload=function(){g(this.width/this.height)}}function v(a){null!==b(a.euclidSvg)&&(new Promise(function(b,f){sa(a.euclidSvg,b)})).then(function(g){var f,c,d,k,m,e,p,l,aa,W,fa,n,r,q,v,ma,ha,H,x,A,ga,C,oa,B,da,I,sa,G,na,O,S,P,Hb,Ib,Jb,Kb,Lb,Mb,Nb,D,R,Z,F;if(null===b(a.featureDiv)||0===b(a.featureDiv).length||0>=g)F=null;else{var ea=b(a.featureDiv).width(),V=b(a.featureDiv).height(),J=2*(16+t(a.euclidHeightText,a.numberSpace)+10),K=ea-J,U=b(a.euclidHeightLine).data("euclid-height-startx");
0>U?J+=K*Math.abs(U)*2:1<U&&(J+=K*(U-1)*2);K=ea-J;0>K&&(J=152);var ba=b(a.euclidWidthLine).data("euclid-width-starty"),ca=1<ba?V*(ba-1)+50:50,ka=V-ca;if(K/ka>g)var pa=ka*g,Ob=ka,Pb=ka*g+J,Qb=V;else pa=K,Ob=K/g,Pb=ea,Qb=K/g+ca;F={imageWidth:pa,imageHeight:Ob,svgWidth:Pb,svgHeight:Qb}}if("undefined"===typeof F||null===F||10>=F.imageWidth||10>=F.imageHeight||10>=F.svgWidth||10>=F.svgHeight)h.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var va=F,ja=a.euclidSvg;b(ja+" image").attr("width",
va.imageWidth);b(ja+" image").attr("height",va.imageHeight);b(ja).attr("width",va.svgWidth);b(ja).attr("height",va.svgHeight);var wc=(va.svgWidth-va.imageWidth)/2;b(ja+" image")[0].setAttribute("x",wc);b(ja+" image")[0].setAttribute("y",10);var Ua=va.imageWidth,Va=va.imageHeight,y=(va.svgWidth-va.imageWidth)/2,Ea=b(a.euclidLengthLine).data("euclid-length-startx")*Ua,Fa=b(a.euclidLengthLine).data("euclid-length-starty")*Va,Ga=b(a.euclidLengthLine).data("euclid-length-endx")*Ua,Ha=b(a.euclidLengthLine).data("euclid-length-endy")*
Va,Ia=b(a.euclidWidthLine).data("euclid-width-startx")*Ua,Ja=b(a.euclidWidthLine).data("euclid-width-starty")*Va,Ka=b(a.euclidWidthLine).data("euclid-width-endx")*Ua,La=b(a.euclidWidthLine).data("euclid-width-endy")*Va,Wa=b(a.euclidHeightLine).data("euclid-height-startx")*Ua,Xa=b(a.euclidHeightLine).data("euclid-height-starty")*Va,Ya=b(a.euclidHeightLine).data("euclid-height-endx")*Ua,Za=b(a.euclidHeightLine).data("euclid-height-endy")*Va,Rb=(La-Ja)/(Ka-Ia),Sb=0>=Rb?"leftInclined":"rightInclined",
ob=1/Rb,qa=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(ob,2)))),ta=0===qa?16:Math.abs(ob*qa),wa=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(ob,2)))),za=0===wa?3:Math.abs(ob*wa),Tb=(Ha-Fa)/(Ga-Ea),pb=1/Tb,ra=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(pb,2)))),ua=0===ra?16:Math.abs(pb*ra),xa=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(pb,2)))),Aa=0===xa?3:Math.abs(pb*xa),Ub=0>=Tb?"leftInclined":"rightInclined";if(.5<b(a.euclidHeightLine).data("euclid-height-startx")){var qb=Wa+y+16,rb=Xa+10,
sb=Ya+y+16,tb=Za+10,Vb=Wa+y+16-3,Wb=Xa+10,Xb=Wa+y+16+3,Yb=Xa+10,Zb=Ya+y+16-3,$b=Za+10,ac=Ya+y+16+3,bc=Za+10,cc=(qb+sb)/2+5,dc=(rb+tb)/2+8,Ma=Ka+y+qa,Na=La+ta+10,Oa=Ia+y+qa,Pa=Ja+ta+10,ec=Ka+y+qa-wa,fc=La+ta-za+10,gc=Ka+y+qa+wa,hc=La+ta+za+10,ic=Ia+y+qa-wa,jc=Ja+ta-za+10,kc=Ia+y+qa+wa,lc=Ja+ta+za+10,fb=(Ma+Oa)/2,gb=(Na+Pa)/2+15;"leftInclined"===Sb?(fb=(Ma+Oa)/2,gb=(Na+Pa)/2+15):(fb=(Ma+Oa)/2+5,gb=(Na+Pa)/2);var $a=Ea+y-ra,ab=Fa+ua+10,bb=Ga+y-ra,cb=Ha+ua+10,mc=Ea+y-ra-xa,nc=Fa+ua+Aa+10,oc=Ea+y-ra+xa,
pc=Fa+ua-Aa+10,qc=Ga+y-ra-xa,rc=Ha+ua+Aa+10,sc=Ga+y-ra+xa,tc=Ha+ua-Aa+10,xc=t(a.euclidLengthText,a.numberSpace);if("leftInclined"===Ub)var ub=($a+bb)/2,vb=(ab+cb)/2+15;else ub=($a+bb)/2-xc,vb=(ab+cb)/2+15}else{var qb=Wa+y-16,rb=Xa+10,sb=Ya+y-16,tb=Za+10,Vb=Wa+y-16-3,Wb=Xa+10,Xb=Wa+y-16+3,Yb=Xa+10,Zb=Ya+y-16-3,$b=Za+10,ac=Ya+y-16+3,bc=Za+10,yc=t(a.euclidHeightText,a.numberSpace),cc=(qb+sb)/2-yc-3,dc=(rb+tb)/2+8,Ma=Ka+y-qa,Na=La+ta+10,Oa=Ia+y-qa,Pa=Ja+ta+10,ec=Ka+y-qa-wa,fc=La+ta+za+10,gc=Ka+y-qa+wa,
hc=La+ta-za+10,ic=Ia+y-qa-wa,jc=Ja+ta+za+10,kc=Ia+y-qa+wa,lc=Ja+ta-za+10,uc=t(a.euclidWidthText,a.numberSpace);"leftInclined"===Sb?(fb=(Ma+Oa)/2-uc,gb=(Na+Pa)/2):(fb=(Ma+Oa)/2-uc,gb=(Na+Pa)/2+15);$a=Ea+y+ra;ab=Fa+ua+10;bb=Ga+y+ra;cb=Ha+ua+10;mc=Ea+y+ra+xa;nc=Fa+ua+Aa+10;oc=Ea+y+ra-xa;pc=Fa+ua-Aa+10;qc=Ga+y+ra+xa;rc=Ha+ua+Aa+10;sc=Ga+y+ra-xa;tc=Ha+ua-Aa+10;"leftInclined"===Ub?(ub=($a+bb)/2,vb=(ab+cb)/2+15):(ub=($a+bb)/2+15,vb=(ab+cb)/2)}f=$a;c=ab;d=bb;k=cb;m=mc;e=nc;p=oc;l=pc;aa=qc;W=rc;fa=sc;n=tc;
r=ub;q=vb;v=Ma;ma=Na;ha=Oa;H=Pa;x=ec;A=fc;ga=gc;C=hc;oa=ic;B=jc;da=kc;I=lc;sa=fb;G=gb;na=qb;O=rb;S=sb;P=tb;Hb=Vb;Ib=Wb;Jb=Xb;Kb=Yb;Lb=Zb;Mb=$b;Nb=ac;D=bc;R=cc;Z=dc;M(ja+" .hit-pd-euclid-height-line",na,O,S,P);M(ja+" .hit-pd-euclid-height-start",Hb,Ib,Jb,Kb);M(ja+" .hit-pd-euclid-height-end",Lb,Mb,Nb,D);u(ja+" .hit-pd-euclid-height-text",R,Z);M(ja+" .hit-pd-euclid-width-line",v,ma,ha,H);M(ja+" .hit-pd-euclid-width-start",x,A,ga,C);M(ja+" .hit-pd-euclid-width-end",oa,B,da,I);u(ja+" .hit-pd-euclid-width-text",
sa,G);M(ja+" .hit-pd-euclid-length-line",f,c,d,k);M(ja+" .hit-pd-euclid-length-start",m,e,p,l);M(ja+" .hit-pd-euclid-length-end",aa,W,fa,n);u(ja+" .hit-pd-euclid-length-text",r,q);Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&(a===Y&&"dimension-ingress-image"===w.getCurrentItem().type?(z(),b("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),b("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action",
"dimension-hero-click"),h.postTimeMetric("dppc_loadDimensionHeroTime",Date.now()-E)):a===T&&(b("ivDimensionTab").css("display","block"),N(b("#iv-euclid"),b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")),h.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-la)))}});Q("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container")&&R(a===Y,w.getCurrentItem(),null)}function t(a,g){return b(a).text().replace(/[^0-9]/g,"").length*g+5}function M(a,
g,f,c,d){a=b(a)[0];a!==pa&&null!==a&&(a.setAttribute("x1",g),a.setAttribute("y1",f),a.setAttribute("x2",c),a.setAttribute("y2",d))}function u(a,g,f){var c=b(a)[0];c!==pa&&null!==c&&(c.setAttribute("x",g),c.setAttribute("y",f),a=b(a+" tspan"),a!==pa&&null!==a&&2===a.length&&(a[0].setAttribute("x",g),a[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),a[1].setAttribute("x",g),a[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function F(a){if(!b("#imageBlock #main-image-container #dimension-ingress-outer-container").length||
b("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!b("#imageBlock #main-image-container #dimension-ingress-outer-container").length)if(a=k(a),a in O)Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&O[a].clone().appendTo(b("#imageBlock #main-image-container"));else{var g=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");g.length?(Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&
g.clone().appendTo(b("#imageBlock #main-image-container")),O[a]=g):ea(a)}v(Y)}}function ea(a){try{setTimeout(function(){J++;var g=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");g.length?(a in O||(O[a]=g),b("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=b("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&
g.clone().appendTo(b("#imageBlock #main-image-container")),v(Y)):100>J&&ea(a)},100)}catch(g){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+g)}}function Q(a){return"true"===b(a).attr("data-should-use-in-hero")}function R(a,g,f){var c=n.colorImages[g.color],d=b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");d&&0<d.length?(c=K(c),U(c,a,g,f)):V(c,a,g,f)}function V(a,g,f,c){try{setTimeout(function(){aa++;
var d=b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");d&&0<d.length?(d=K(a),U(d,g,f,c)):100>aa?V(a,g,f,c):(h.postCountMetric("dpcc_dimensionIngress_hero_data_not_found"),d=a[0],U(d,g,f,c))},100)}catch(d){console.log("ImageBlockImmersiveViewDimensionIngress lazy load seller image loop:"+d)}}function K(a){for(var g=b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image").attr("variant"),
c=a[0],d=0;d<a.length;d++){var w=a[d];w.variant===g&&(c=w)}c===a[0]&&h.postCountMetric("dpcc_dimensionIngress_no_image_data_found_for_seller_image_variant");return c}function U(a,g,f,d){g?((g=W.find(".item.itemNo"+f.thumbnailIndex))&&g.remove(),g=f.thumbnailIndex,d=G(a,d),f=W.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate"),f.addClass("image item itemNo"+g+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover",
"data-csa-c-posy":g+1}),f.find(".placeHolder").replaceWith(d),f.find(".a-declarative").attr("data-action","dimension-hero-click"),W.find(".list").append(f),e.loadImageManually(d),d=g=f,f=ma.css("height"),null!==f&&d.find(".imgTagWrapper").css("height",f),d.addClass("selected"),n.imgTagWrapperClasses&&d.find(".imgTagWrapper").addClass(n.imgTagWrapperClasses),fa.dispatch("loadMagnifier"),d=g,n.useIV&&c.isDefined(a.hiRes)&&d.css("cursor","pointer"),e.trigger("dp:image-block:update",a)):(ba(a),N(b("#iv-seller"),
b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper")))}function ba(a){var g=b("#ivDimensionTab #ivLargeDimensions");if(0<g.find(".imgTagWrapper").length){var c=b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");return D(g,c)}c=b("\x3cdiv\x3e\x3c/div\x3e");c.addClass("imgTagWrapper");var d=b("\x3cimg\x3e");c.html(d);g.append(c);c=b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");c.attr("src",a.hiRes);return D(g,c)}function D(a,b){var c=a.closest("#ivStageDimensions"),d=c.width(),
c={height:"auto","max-height":c.height(),"max-width":d,"text-align":"center"};b.css(c);d=b.closest(".imgTagWrapper");d.css(c);return d}function G(a,g){var d="a-dynamic-image";if(!n.acEnabled){var w;b.each(a.main,function(a,b){c.isDefined(w)||(w=parseFloat(b[1]/b[0])<=parseFloat(n.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=w}var ia=c.getMaxDimensionsOfMainImage(a.main,ma,n),k=ia[0],m=ia[1],ia=b("\x3cdiv\x3e\x3c/div\x3e"),k={"max-height":k,"max-width":m};ia.addClass(d).css(k).attr({"data-old-hires":a.hiRes,
"data-a-manual-replacement":"true",onload:g}).data("a-dynamic-image",a.main);return ia}function p(){b("#image-canvas-caption #canvasCaption").html(n.dimensionIngressAtfData.initial.heroImageCaption)}function k(a){return H(a.color)}function H(a){a=n.colorToAsin[a].asin;a||(a=n.mediaAsin);return a}function C(){b("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");b("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",-1)}function z(){null!==
b(Y.euclidSvg)&&0!==b(Y.euclidSvg).length?(b("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden"),b("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",2)):R(Y,w.getCurrentItem(),null)}function I(a,b){n.usePeekHover&&"click"!==b.type||c.selectGivenThumbnail(b.$declarativeParent,a)}function A(a){a.action="dimensionIngressClick";a.data=ga;fa.dispatch("dimensionIngressClick",a)}function B(){la=Date.now();if(na&&!b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var a=
k(w.getCurrentItem()),c=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),c=b("#ivDimensionTab #ivLargeDimensions").length;console.log("checkImmersiveViewContainer",c);a in O?O[a].clone().appendTo(b("#ivDimensionTab #ivLargeDimensions")):(c=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),c.length?(c.clone().appendTo(b("#ivDimensionTab #ivLargeDimensions")),O[a]=c):ca(a));r.populateTitle(b("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),
160,n);r.populateVariationSelection(b("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));da();na=!1;a=b("#iv-tab-view-container").find("#ivThumbsDimensions");a.find(".ivRow").not(".placeholder").remove();var c=a.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(a),d=0<b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container").length,m=0<b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container").length;
if("true"===b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").attr("data-should-show-thumbnails-in-iv")){if(d){if(!b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").length){var ia=n.colorImages[w.getCurrentItem().color],ia=K(ia);ba(ia);b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").addClass("aok-hidden")}S(a,c,ia.thumb,b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper"),"iv-seller")}m&&(ia=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container image").attr("data"),
S(a,c,ia,b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container"),"iv-euclid"))}}Z()}function Z(){oa=b("#ivDimensionTab").height();if(0!==oa){r.detachImmersiveViewResizeHandler(B);var a=b("#ivDimensionTab #ivMainDimensions"),c=b("#ivDimensionTab").height(),d=b("#ivDimensionTab").width();a.css("height",c);a.css("width",d);var d=a.find("#ivTitleDimensions").outerHeight(!0),w=a.find("#ivVariationSelectionDimensions").outerHeight(!0),k=a.find("#ivThumbsDimensions"),m=r.getDimension(k,
"margin-top")+r.getDimension(k,"margin-bottom");k.css("height",c-d-w-m);d=a.find("#ivStageDimensions");a=(a[0]&&a[0].getBoundingClientRect&&Math.floor(a[0].getBoundingClientRect().width)||a.width())-r.getDimension(a,"padding-left")-r.getDimension(a,"padding-right")-a.find("#ivThumbColumnDimensions").width()-r.getDimension(d,"margin-left")-r.getDimension(d,"margin-right");d.css("width",a);d.css("height",c);v(T)}}function S(a,b,c,d,w){a=a.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:w}).appendTo(b);
a.find(".ivThumbImage").css("background",'url("'+r.getResizedThumbnailURL(c)+'") center no-repeat');d.hasClass("aok-hidden")||a.addClass("selected");l(a,d)}function l(a,b){a.click(function(){N(a,b)})}function N(a,b){a.parent().find(".ivThumb").removeClass("selected");a.addClass("selected");b.hasClass("imgTagWrapper")&&D(b,b.find("img"));b.parent().find("#dimension-ingress-outer-container").addClass("aok-hidden");b.parent().find(".imgTagWrapper").addClass("aok-hidden");b.removeClass("aok-hidden")}
function ca(a){try{setTimeout(function(){d++;var c=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");c.length?(a in O||(O[a]=c),b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&0>=b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&c.clone().appendTo(b("#ivDimensionTab #ivLargeDimensions")),Z()):100>d&&ca(a)},100)}catch(c){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+c)}}function q(a,
d){m&&clearTimeout(m);"mouseenter"===d.type&&(m=setTimeout(function(){F(a);b("#image-canvas-caption #canvasCaption").empty();p();I(ha,d)},c.getHoveringDelayTimer()));"mouseleave"===d.type&&p()}var x,n,w,fa,ha,W,ma,ga,na=!0,E,la,m,P,O={},J=0,d=0,aa=0,oa,Y={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",
euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},T={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",
euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},da=e.once(function(){r.attachImmersiveViewResizeHandler(B)});e.on.resize(function(){Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&
v(Y)});return function(a,g,f,m){x=this;n=a;w=g;fa=m;a=n.mediaAsin;g=[];n&&n.dimensionIngressAtfData&&n.dimensionIngressAtfData.initial&&(g=n.dimensionIngressAtfData.initial.dimensionVariantList);c.setDimensionIngressData(a,n.dimensionIngressEnabled,g);x.render=function(a,g,f,m,e,h){ha=m;W=2!==n.unrolledImageBlockTreatment&&3!==n.unrolledImageBlockTreatment?f:b(".unrolledScrollBox");ma=e;na=!0;b("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();
b("#ivDimensionTab #ivLargeDimensions").empty();d=J=0;f=k(w.getCurrentItem());if(c.isDimensionIngressEnabled(f)&&n.dimensionIngressThumbURL&&n.dimensionIngressThumbURL.initial&&n.dimensionIngressThumbURL.initial.length){f=c.getDimensionVariantList(f);if(f.includes("DIMN")||f.includes("DCMN"))Array.isArray(f)||(f=JSON.parse(f.replace(/(\w+)/g,'"$1"'))),f.push("DIMN"),f.push("DCMN");if(f&&0<f.length){e=n.colorImages[a];h=m.find(".item.imageThumbnail");for(var p=0;p<h.length&&p<n.maxAlts-1;p++){var l=
e[p].variant;"MAIN"!=l&&f.includes(l)&&(l=h.eq(p))&&(l.remove(),g--)}}g===n.maxAlts&&(m.find(".item.imageThumbnail").last().remove(),g--);ga={type:"dimension-ingress-image",index:0,thumbnailIndex:g,variant:"Main"};c.createThumbnail(ga,n.dimensionIngressThumbURL.initial,m,"dimension-ingress-imageblock-thumbnail");m=n.dimensionIngressAtfData.initial.thumbnailCaption;m=b("\x3cspan /\x3e").html(m);m.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");m.attr("id","dimensionCaption");
b(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");b(".dimension-ingress-imageblock-thumbnail").append(m);g++;b("#ivDimensionTabHeading").removeClass("aok-hidden");H(a)!==n.mediaAsin&&0===b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&b("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return g}b("#ivDimensionTabHeading").addClass("aok-hidden")};x.update=function(a){var d=a.data;w.setCurrentEvent(a);"dimension-ingress-image"===
d.type?(d.interaction=a.type,d.isUserGenerated=!0,"mouseenter"===a.type&&(E=Date.now(),h.postCountMetric("dpcc_dimensionIngressHovered")),c.isImageBlockGridViewHoverDelayEnabled()?q(d,a):(F(d),b("#image-canvas-caption #canvasCaption").empty(),p(),I(ha,a)),"click"===a.type&&c.useTabbedImmersiveView(n)&&(A(a),h.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===a.type?d.color===w.getCurrentItem().color&&"dimension-ingress-image"===w.getCurrentItem().type?z():C():c.isImageBlockGridViewHoverDelayEnabled()?
(w.setToPreviousItem(),"mouseenter"===a.type&&(P&&clearTimeout(P),P=setTimeout(function(){w.setToCurrentItem(d);C()},c.getHoveringDelayTimer())),"mouseleave"===a.type&&P&&clearTimeout(P),"click"===a.type&&(w.setToCurrentItem(d),C())):C()};r.attachTabSelectHandler("ivDimensionTab",B);e.declarative("dimension-hero-click",["click"],A)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(e,b,c,r,h){function sa(){h.populateTitle(k.find("#ivTitle"),
160,G)}function v(){var b=p.getCurrentItem().color;C=G.colorImages[b];H=G.heroImage[b];z=I=0;c.isDefined(H)&&(z=H.length);c.isDefined(C)&&(I=C.length)}function t(b){return b.hiRes||b.large||b.main[b.main.length-1]}function M(){var b=k.find("#ivStage").find("#ivLargeImage"),c=b.width(),p=b.height(),e=b.find(".fullscreen");e.removeAttr("style");var h=e.width(),n=e.height();0<e.length&&(e[0].naturalWidth&&(h=e[0].naturalWidth),e[0].naturalHeight&&(n=e[0].naturalHeight));b.css("cursor","auto");var h=
0===h?1:h,n=0===n?1:n,r=Math.min(c/h,p/n),q=n*r,v=h*r;1>r?(B?b.css("cursor","url('"+G.staticImages.zoomIn+"'), auto"):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in")),l=!0):l=!1;h=Math.min(v,h);n=Math.min(q-20,n);e.css({"margin-top":(p-n)/2,"margin-left":(c-h)/2,height:n,width:h});b.css("visibility","visible");S=!1}function u(b){var c=k.find("#ivLargeImage");c.css("visibility","hidden");c.empty();h.animateStageIn(c);c.append(b);M()}function F(w){k.find("#ivLargeImage").css("display",
"none");k.find("#ivLargeImage").css("display","block");var p;"hero-image"===w?c.isDefined(H)&&(p=t(H[A.index])):c.isDefined(C)&&(p=t(C[A.index]));if(c.isDefined(p)){k.find(".fullscreen").remove();var l=b("\x3cimg\x3e").attr("src",p).addClass("fullscreen"),n=k.find("#ivLargeImage");h.animateStageOut(n,function(){l.load(function(){u(l);e.trigger("dp:image-block:imageBlockImmersiveImageLoad",A.index)});if(l[0].complete)u(l),e.trigger("dp:image-block:imageBlockImmersiveImageLoad",A.index);else{n.empty();
var c=(n.height()-104)/2,k=(n.width()-80)/2;b("\x3cimg\x3e").attr("src",G.staticImages.spinner).css({position:"relative",top:c+"px",left:k+"px"}).appendTo(n)}})}}function D(b){k.find(".ivThumb").removeClass("selected");b.addClass("selected");b.hasClass("ivHeroImage")?A.type="hero-image":A.type="image";A.index=b.attr("id").split("_")[1];F(A.type);r.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(A.index,10)+1)+"_"+(z+I))}function Q(){k.delegate(".ivThumb","click",function(){var c=b(this);D(c)})}function R(b,
c){return 0<c?c/2:Math.min(0,Math.max(c,b))}function V(b){var c=ca.top-(b.pageY-x[1])*q;b=R(ca.left-(b.pageX-x[0])*q,N.left);c=R(c,N.top);k.find(".fullscreen").css({left:b,top:c})}function K(){k.delegate("#ivLargeImage","click",function(b){if(S)M();else if(l){k.find(".fullscreen").removeAttr("style");if(l){var c=k.find("#ivLargeImage"),e=c.find(".fullscreen");B?c.css("cursor","url('"+G.staticImages.zoomOut+"'), auto"):(c.css("cursor","-webkit-zoom-out"),c.css("cursor","-moz-zoom-out"),c.css("cursor",
"zoom-out"));S=!0;var h=k.find("#ivLargeImage");N.left=h.width()-e.width();N.top=h.height()-e.height();var h=c.height()/2,p=c.width()/2;x=[c.offset().left+p,c.offset().top+h];ca.top=h-e.height()/2;ca.left=p-e.width()/2;e.css({position:"relative",left:ca.left,top:ca.top});q=Math.max(e.height()/c.height(),e.width()/c.width())}V(b);r.postCountMetric("dpcc_iv_largeImageCLick")}});k.delegate("#ivLargeImage","mousemove",function(b){S&&V(b)})}function U(){k.find("#ivLargeImage").empty()}function ba(e){if(Z){k=
b("#ivMain");v();A=p.getCurrentItem();sa();h.populateVariationSelection(k.find("#ivVariationSelection"));e=k.find("#ivThumbs");e.find(".ivRow").not(".placeholder").remove();var l=z+I,r=!1;G&&G.dimensionIngressAtfData&&G.dimensionIngressAtfData.initial&&(r=G.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);for(var q=0,t=0;q<l;)for(var x=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),B=0;4>B&&q<l;B++,q++,t++)if(t<z){var E=H[q].thumb,u=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+
q,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":q+1}).appendTo(x);u.find(".ivThumbImage").css("background",'url("'+h.getResizedThumbnailURL(E)+'") center no-repeat')}else if(t>=z&&t<I+z){E=G.colorToAsin[p.getCurrentItem().color].asin;E||(E=G.mediaAsin);if((u=c.isDimensionIngressEnabled(E))&&r){if((E=c.getDimensionVariantList(E))&&E.includes(C[q-z].variant)){B--;continue}}else if(u&&"DIMN"===C[q-z].variant){B--;
continue}E=C[q-z].thumb;u=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(q-z),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":q-z+1}).appendTo(x);u.find(".ivThumbImage").css("background",'url("'+h.getResizedThumbnailURL(E)+'") center no-repeat')}n();Z=!1}else sa();e=b("#ivImagesTab").height();k.css("height",e);l=k.find("#ivTitle").outerHeight(!0);r=k.find("#ivVariationSelection").outerHeight(!0);
q=k.find("#ivThumbs");t=h.getDimension(q,"margin-top")+h.getDimension(q,"margin-bottom");q.css("height",e-l-r-t);k.find("#ivLargeImage").css("height",e);e=k.find("#ivStage");l=k[0]&&k[0].getBoundingClientRect&&Math.floor(k[0].getBoundingClientRect().width)||k.width();e.css("width",l-h.getDimension(k,"padding-left")-h.getDimension(k,"padding-right")-k.find("#ivThumbColumn").width()-h.getDimension(e,"margin-left")-h.getDimension(e,"margin-right"));A=p.getCurrentItem();e="hero-image"===A.type?k.find("#ivHeroImage_"+
A.index):"image"===A.type?k.find("#ivImage_"+A.index):c.isDefined(H)?k.find("#ivHeroImage_"+A.index):k.find("#ivImage_"+A.index);c.isjQueryObjDefined(e)||(e=k.find("#ivImage_0"));D(e)}var ka,G,p,k,H,C,z,I,A,B=navigator.userAgent.match(/msie|trident/i),Z=!0,S=!1,l=!1,N={},ca={},q,x,Z=!0,n=e.once(function(){Q();K();h.attachImmersiveViewResizeHandler(ba);h.attachTabDeselectHandler("ivImagesTab",U)});return function(c,e,k,l){ka=this;G=c;p=e;ka.render=function(c,e,k,l,p,m){Z=!0;v();0===z+I?h.hideTabHeading("ivImagesTabHeading"):
h.unhideTabHeading("ivImagesTabHeading");1===z+I?b("#ivThumbs").hide():b("#ivThumbs").show()};ka.update=function(b){};h.attachTabSelectHandler("ivImagesTab",ba)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(e,b,c,r,h,sa,v){function t(){var c=Q.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),k=c.find(".a-popover-inner"),c=c.height()-
v.getDimension(k,"padding-top")-v.getDimension(k,"padding-bottom");b("#iv-tab-view-container").css("height",c);K=b("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==b(this).css("display")}).length;1<K?(b("#iv-tab-view-container ul.iv-tab-views li").parent().show(),k=b("#iv-tab-view-container ul.iv-tab-views li").parent().height(),c-=k):b("#iv-tab-view-container ul.iv-tab-views li").parent().hide();b("#iv-tab-view-container .iv-tab-content").css("height",c);e.trigger("dp:image-block:immersive-view:resize")}
function M(){e.trigger("dp:image-block:immersive-view:reset")}function Ba(p){if(c.isImmersiveViewEnabled(ea,Q.getCurrentItem().color))if(ba){var k=p.$event.originalEvent;k.acknowledge&&k.acknowledge(p.$currentTarget[0]);h.isEnabled&&sa.logImmersiveViewRequestServed(h);r.postCountMetric("dppc_immersiveViewOpened");c.isDefined(p)&&("button-360-click"===p.action?b("#iv360TabHeading").click():"videoIngressClick"===p.action?(U=p.clickTimeStamp,b("#ivVideosTabHeading").click()):"showroomIngressClick"===
p.action?(U=p.clickTimeStamp,b("#ivShowroomTabHeading").click()):"dimensionIngressClick"===p.action?(U=p.clickTimeStamp,b("#ivDimensionTabHeading").click()):b("#ivImagesTabHeading").click());k=Q.getImmersiveViewModalInstance();if(c.isDefined(k))k.show();else{p=b("#auiImmersiveViewDiv");var k=Math.min(Math.max(b(u).height()-150,540),1080),t=Math.min(Math.max(b(u).width()-75,990),1980),k=ba.create(p,{name:"immersiveView",activate:"onclick",width:t,height:k,popoverLabel:"ImmersiveView",hideHeader:!0});
Q.setImmersiveViewModalInstance(k);p.click()}V&&(V=!1,ka(),e.trigger("dp:image-block:immersive-view:init"))}else u.performance&&performance.now&&u.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else r.postCountMetric("immersiveViewNotExistsClickCount")}var F,ea,Q,R,V=!0,K=0,U,ba;D.when("a-modal").execute(function(b){ba=b});var ka=e.once(function(){e.on("a:popover:afterUpdatePosition:immersiveView",t);e.on("a:popover:afterShow:immersiveView",
t);e.on("a:popover:afterHide:immersiveView",M)}),G=e.once(function(){var c=b("#iv-tab-view-container ul.iv-tab-views li");c.bind("click",function(k){var h=c.filter(".iv-active");h.attr("id")!==b(this).attr("id")&&e.trigger("dp:ivTabs:"+h.find("a").attr("data-iv-tab-view")+":deselect",k);c.removeClass("iv-active");b(this).addClass("iv-active");b("#iv-tab-view-container .iv-tab-content").hide();h=b(this).find("a").attr("data-iv-tab-view");b("#"+h).show();"ivVideosTab"===h&&(k.clickTimeStamp=U||k.timeStamp);
e.trigger("dp:ivTabs:"+h+":select",k);r.postCountMetric("dppc_"+h);return!1})});return function(b,k,t,v){F=this;ea=b;Q=k;h.refToModel=Q;R=v;F.render=function(b,c,e,h,k,p){r.postCountMetric("dpcc_altThumbs_"+c);V=!0};F.update=function(b){};F.getTitle=function(){};F.getVariationSelectionInfo=function(){};G();c.isImmersiveViewEnabled(ea,Q.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");R.register("imageClick",Ba);R.register("button360Click",Ba);ea.collapsibleThumbnails&&e.declarative("thumb-action",
["click"],function(b){b.$declarativeParent.hasClass("overlayRestOfImages")&&Ba(b)});c.useTabbedImmersiveView(ea)&&(R.register("videoIngressClick",Ba),R.register("showroomIngressClick",Ba),R.register("dimensionIngressClick",Ba))}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(e,b,c,r,h,sa,v,t){function M(a){return a.hiRes||a.large||a.main[a.main.length-
1]}function Ba(){d.find("#ivTitle").click(function(){J.hide()})}function F(){f=Fb?{type:"360-spin"}:P.getCurrentItem()}function ea(){var a=d.find("#ivStage"),b=J.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner"),b=b.height()-t.getDimension(c,"padding-top")-t.getDimension(c,"padding-bottom");d.css("height",b);var c=d.find("#ivTitle").outerHeight(!0),g=d.find("#ivVariationSelection").outerHeight(!0),e=d.find("#ivMediaSelection").outerHeight(!0),f=d.find("#ivThumbs"),h=t.getDimension(f,
"margin-top")+t.getDimension(f,"margin-bottom");f.css("height",b-c-g-e-h);d.find("#ivLargeImage").css("height",b);a.css("width",d.width()-t.getDimension(d,"padding-left")-t.getDimension(d,"padding-right")-d.find("#ivThumbColumn").width()-t.getDimension(a,"margin-left")-t.getDimension(a,"margin-right"))}function Q(){d.find("#ivMediaSelect").change(function(){var a=b(this).val();"all"===a?(d.find("#ivVideoList").hide(),d.find("#ivThumbs").show(),d.find(".ivThumbVideo").show(),"chromeful-video"===f.type&&
d.find("#ivVideo_"+f.index).click()):"images"===a?(d.find("#ivVideoList").hide(),d.find("#ivThumbs").show(),d.find(".ivThumbVideo").hide(),"chromeful-video"===f.type&&(0===da&&0===T?d.find("#iv360").click():0===da?d.find("#ivHeroImage_0").click():d.find("#ivImage_0").click())):"videos"===a&&(d.find("#ivVideoList").show(),d.find("#ivThumbs").hide(),"chromeful-video"!==f.type?d.find("#ivVideoList_0").click():d.find("#ivVideoList_"+f.index).click())})}function R(){var a=d.find("#ivStage").find("#ivLargeImage"),
b=a.width(),c=a.height(),g=a.find(".fullscreen");g.removeAttr("style");var f=g.width(),e=g.height();0<g.length&&(g[0].naturalWidth&&(f=g[0].naturalWidth),g[0].naturalHeight&&(e=g[0].naturalHeight));a.css("cursor","auto");var f=0===f?1:f,e=0===e?1:e,h=Math.min(b/f,c/e),k=e*h,l=f*h;1>h?(Gb?a.css("cursor","url('"+m.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),kb=!0):kb=!1;f=Math.min(l,f);e=Math.min(k-20,e);g.css({"margin-top":(c-
e)/2,"margin-left":(b-f)/2,height:e,width:f});a.css("visibility","visible");jb=!1}function V(a){var b=d.find("#ivLargeImage");b.css("visibility","hidden");b.empty();t.animateStageIn(b);b.append(a);R()}function K(){L&&L.pause();d.find("#ivLarge360").css("display","none");d.find("#ivLargeVideo").css("display","none");d.find("#ivLargeImage").css("display","none");H()}function U(a){K();d.find("#ivLargeImage").css("display","block");var g;"hero-image"===a?c.isDefined(aa)&&(g=M(aa[f.index])):c.isDefined(oa)&&
(g=M(oa[f.index]));if(c.isDefined(g)){d.find(".fullscreen").remove();var e=b("\x3cimg\x3e").attr("src",g).addClass("fullscreen"),h=d.find("#ivLargeImage");t.animateStageOut(h,function(){e.load(function(){V(e)});if(e[0].complete)V(e);else{h.empty();var a=(h.height()-104)/2,c=(h.width()-80)/2;b("\x3cimg\x3e").attr("src",m.staticImages.spinner).css({position:"relative",top:a+"px",left:c+"px"}).appendTo(h)}})}}function ba(){var a=parseInt(f.index,10)+1;a>=Y.length||d.find("#ivVideo_"+a).click()}function ka(){var a;
c.isDefined(Y)&&(a=Y[f.index]);if(c.isDefined(a)){K();var b=d.find("#ivLargeVideo").css("display","block");L?(L.isDetached()&&L.attach(b[0]),c.loadMediaIntoAiry(L,a,ia,m.tabletWeb),L.show()):(L=c.createAiryInstanceForChromeful(b,a,ia,"ImmersiveView"),ia.enableContinuousPlay&&L.bind("ended",ba));L.play({isAsync:!0})}}function G(){F();var a;a="hero-image"===f.type?d.find("#ivHeroImage_"+f.index):"image"===f.type?d.find("#ivImage_"+f.index):"chromeful-video"===f.type||"chromeless-video"===f.type?d.find("#ivVideo_"+
f.index):"360-spin"===f.type?d.find("#iv360"):c.isDefined(aa)?d.find("#ivHeroImage_"+f.index):d.find("#ivImage_"+f.index);c.isjQueryObjDefined(a)||(a=d.find("#ivImage_0"));p(a)}function p(a){d.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(f.type="chromeful-video",f.index=a.attr("id").split("_")[1],ka()):a.hasClass("ivHeroImage")?(f.type="hero-image",f.index=a.attr("id").split("_")[1],U(f.type)):a.hasClass("iv360Image")?(f.type="360-spin",f.index=0,k()):
(f.type="image",f.index=a.attr("id").split("_")[1],U(f.type))}function k(){K();d.find("#ivLarge360").css("display","block");B();var a=d.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});t.animateStageIn(a)},200);z();h.postCountMetric("dppc_click360");Ta=Date.now()}function H(){0<Ta&&(C("dppc_duration360",Date.now()-Ta),Ta=0)}function C(a,b){u.ue&&u.ue.count(a,b)}function z(){if(0<Ca){var a=d.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}
function I(a,c){if(Ca<a.length){var g=b("\x3cimg /\x3e").css({display:"block",width:6*ya+"px",height:Qa+"px"});g.hide();c.append(g);g.get(0).onload=function(){c.closest(document.documentElement).length&&(Ca++,1===Ca&&(z(),0<Ta&&C("dppc_loadTime360",Date.now()-Ta)),0<Ab&&C("dppc_perSpriteloadTime360",Date.now()-Ab),d.find("#iv360Spinner").hide(),g.show(),db=5*X.imageLocations[Math.floor(eb/X.imageLocations[0].length)][eb%X.imageLocations[0].length],I(a,c))};g.attr("src",a[Ca].replace(/(\._SP)\d+(,)\d+/,
"$1"+Sa+"$2"+Ra));Ab=Date.now()}}function A(a){if(c.isDefined(X.spriteWidthSizes)&&0<X.spriteWidthSizes.length){var b=X.spriteWidthSizes,d=b.length,g=b[0],e=b[d-1];if(a<=g)return g;if(a>e)return e;for(g=0;g<d;g++)if(a>b[g]&&a<=b[g+1])return b[g+1]}else return a}function B(){var a=d.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",
position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",m.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),yb=!0,Z())}function Z(){if(c.isDefined(X.spriteURLs)&&c.isDefined(d)&&yb&&!zb){var a=d.find("#ivLarge360"),g=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,
display:"block"});c.isDefined(X.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",X.staticImages.hint360).appendTo(g);b("\x3cdiv\x3e").css({"text-align":"center"}).text(m.staticStrings.dragToSpin).appendTo(g);g.appendTo(a);var g=X.imageWidth,e=X.imageHeight,f=a.parent().width(),h=a.parent().height(),k=0,n=0;g/e>f/h?(Sa=A(f),Ra=Math.round(e/g*Sa),ya=Math.ceil(f),Qa=Math.ceil(Ra/Sa*f),n=(h-Qa)/2):(Ra=A(h),Sa=Math.round(g/e*Ra),Qa=Math.ceil(h),
ya=Math.ceil(Sa/Ra*h),k=(f-ya)/2);a.css({"margin-left":k,"margin-top":n,width:ya+"px",height:Qa+"px",overflow:"hidden",position:"relative"});a.children("#image-360-sprites").css("width",6*ya+"px");I(X.spriteURLs,d.find("#image-360-sprites"),0);g=d.find("#ivLarge360");g.bind("mousedown",ca);g.bind("touchstart",S);g.bind("touchmove",l);g.bind("touchend",N);b(document).bind("mousemove",q);b(document).bind("mouseup",x);c.isDefined(m.staticImages.grab)&&a.css("cursor","url('"+m.staticImages.grab+"'), auto");
zb=!0}}function S(a){ib=!0;xb=a.originalEvent.targetTouches[0].clientX}function l(a){ib&&(n(a.originalEvent.targetTouches[0].clientX-xb),xb=a.originalEvent.targetTouches[0].clientX)}function N(a){ib&&(ib=!1)}function ca(a){hb=!0;wb=a.originalEvent.clientX;c.isDefined(m.staticImages.grabbing)&&(a=d.find("#ivLarge360"),a.css("cursor","url('"+m.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+m.staticImages.grabbing+"'), auto"));return!1}function q(a){hb&&(n(a.originalEvent.clientX-
wb),wb=a.originalEvent.clientX)}function x(a){hb&&(hb=!1,c.isDefined(m.staticImages.grab)&&(a=d.find("#ivLarge360"),a.css("cursor","url('"+m.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function n(a){for(a=db-=a/ya*180;0>a;)a+=360;for(;360<a;)a-=360;db=a;var b;a=360;for(var g=0;g<Ca;g++)for(var e=0;e<X.imageLocations[g].length;e++){var f=Math.abs(db-5*X.imageLocations[g][e]);f<a&&(a=f,b=g*X.imageLocations[0].length+e)}b!==eb&&(a=Math.floor(b/X.imageLocations[0].length),
a!==Math.floor(eb/X.imageLocations[0].length)&&(c.isDefined(Bb)||(Bb=document.createElement("canvas").getContext("2d")),g=d.find("#image-360-sprites").children(),Bb.drawImage(g[a],0,0)),a=d.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));eb=b;a=b%X.imageLocations[0].length*-1*ya;b=-1*Math.floor(b/X.imageLocations[0].length)*Qa;g=d.find("#ivLarge360").children("#image-360-sprites");g.css("-webkit-transform","translate3d("+a+"px, "+
b+"px, 0)");g.css("transform","translate3d("+a+"px, "+b+"px, 0)")}function w(){d.delegate(".ivThumb","click",function(){var a=b(this);p(a)});d.delegate(".ivThumbVideoListOuter","click",function(){d.find(".ivThumbVideoListOuter").removeClass("selected");var a=b(this);a.addClass("selected");f.type="chromeful-video";f.index=a.attr("id").split("_")[1];ka()})}function fa(){L&&!L.isDetached()&&(ia.volume=L.getVolume(),L.detach(),!document.all||u.atob||document.addEventListener||(L=null));d.find("#ivLargeImage").empty();
H()}function ha(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function W(a){var c=Da.left-(a.pageX-nb[0])*mb;e.capabilities.rtl&&(c=Da.left-(b(u).width()-a.pageX-nb[0])*mb);a=Da.top-(a.pageY-nb[1])*mb;c=ha(c,lb.left);a=ha(a,lb.top);d.find(".fullscreen").css({left:c,top:a})}function ma(){d.delegate("#ivLargeImage","click",function(a){if(jb)R();else if(kb){d.find(".fullscreen").removeAttr("style");if(kb){var b=d.find("#ivLargeImage"),c=b.find(".fullscreen");Gb?b.css("cursor","url('"+m.staticImages.zoomOut+
"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));jb=!0;var g=d.find("#ivLargeImage");lb.left=g.width()-c.width();lb.top=g.height()-c.height();var g=b.height()/2,e=b.width()/2;nb=[b.offset().left+e,b.offset().top+g];Da.top=g-c.height()/2;Da.left=e-c.width()/2;c.css({position:"relative",left:Da.left,top:Da.top});mb=Math.max(c.height()/b.height(),c.width()/b.width())}W(a)}});d.delegate("#ivLargeImage","mousemove",function(a){jb&&W(a)})}function ga(f){if(c.isImmersiveViewEnabled(m,
P.getCurrentItem().color))if(Db){var k=f.$event.originalEvent;k.acknowledge&&k.acknowledge(f.$currentTarget[0]);Fb=c.isDefined(f)&&"button-360-click"===f.action;sa.isEnabled&&v.logImmersiveViewRequestServed(sa);h.postCountMetric("dppc_immersiveViewOpened");if(c.isDefined(J))J.show();else{f=b("#auiImmersiveViewDiv");var k=b(u).height()-150,l=b(u).width()-75;J=Db.create(f,{name:"immersiveView",activate:"onclick",width:l,height:k,popoverLabel:"ImmersiveView",hideHeader:!0});f.click()}if(Cb){d=b("#ivMain");
f=P.getCurrentItem().color;oa=m.colorImages[f];aa=m.heroImage[f];Y=m.useChildVideos?m.colorToVideo[f]:m.videos;Eb=E()&&m.spin360ColorEnabled[f];X=E()?m.spin360ColorData[f]:pa;F();g=T=a=da=0;c.isDefined(aa)&&(T=aa.length);c.isDefined(oa)&&(da=oa.length);c.isDefined(Y)&&(a=Y.length);Eb&&(g=1);t.populateTitle(d.find("#ivTitle"),45,m);t.populateVariationSelection(d.find("#ivVariationSelection"));f=d.find("#ivMediaSelect");0===da+g||0===a?(f.parent().hide(),d.find("#ivThumbs").addClass("noMediaSelection")):
(f.empty(),b("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(m.staticStrings.allMedia+" ("+(T+da+g+a)+")").appendTo(f),b("\x3coption/\x3e").attr("value","images").text(m.staticStrings.images+" ("+(T+da+g)+")").appendTo(f),b("\x3coption/\x3e").attr("value","videos").text(m.staticStrings.videos+" ("+a+")").appendTo(f),f.parent().show(),f.val("all"));f=d.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();for(var k=T+da+a+g,n=l=0;l<k;)for(var p=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),
q=0;3>q&&l<k;q++,l++,n++)if(n<T){var r=aa[l].thumb,L=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+l).appendTo(p);L.find(".ivThumbImage").css("background",'url("'+t.getResizedThumbnailURL(r)+'") center no-repeat')}else if(n>=T&&n<da+T)r=oa[l-T].thumb,L=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(l-T)).appendTo(p),L.find(".ivThumbImage").css("background",'url("'+t.getResizedThumbnailURL(r)+
'") center no-repeat');else if(n>=T+da&&n<da+T+g)L=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(p),L.find(".ivThumbImage").css("background",'url("'+(c.isDefined(m.staticImages.icon360)?t.getResizedThumbnailURL(m.staticImages.icon360,!0):"")+'") center no-repeat');else if(r=Y[l-da-T-g],L=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(l-da-T-g)).appendTo(p),L.find(".ivThumbImage").css("background",
'url("'+r.thumbUrl+'") center no-repeat'),c.isDefined(r)){var w={position:"triggerTop"},x=d.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");x.find(".ivVideoPopoverTitle").text(r.title);x.find(".ivVideoPopoverDuration").text(r.durationTimestamp);w.inlineContent=x[0];e.declarative.create(L,"a-tooltip",w)}f=d.find("#ivVideoList");f.find(".ivThumbVideoListOuter").not(".placeholder").remove();k=f.find(".placeholder");for(l=0;l<a;l++)n=Y[l],p=k.clone().removeClass("placeholder").appendTo(f),
p.attr("id","ivVideoList_"+l),p.find(".ivThumbImage").css("background",'url("'+n.thumbUrl+'") center no-repeat'),p.find(".ivThumbTitle").text(n.title),p.find(".ivThumbDuration").text(n.durationTimestamp);d.find("#ivLarge360").empty();Ca=0;zb=yb=!1;ia=m.airyConfig;Cb=!1;vc()}}else u.performance&&performance.now&&u.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else h.postCountMetric("immersiveViewNotExistsClickCount")}function na(a){var b=
m.colorToAsin[a],g={},f=500;if(b&&b.asin){g.params={asin:b.asin};var d="360"+b.asin,e=Date.now();g.success=function(b){C("dppc_asyncRequestTime360",Date.now()-e);b&&c.isDefined(b.spin360.spin360Model)?(c.ajaxState(d,"success"),m.spin360ColorData[a]=b.spin360.spin360Model,a===P.getCurrentItem().color&&(X=m.spin360ColorData[a],Z())):g.error()};g.error=function(){h.postCountMetric("dppc_asyncFailed360");C("dppc_asyncRequestTime360",Date.now()-e);f*=2;16E3>=f?setTimeout(function(){e=Date.now();r.load("/gp/product/features/apparel-main-image/360.html",
g)},f):c.ajaxState(d,"fail")};c.ajaxState(d)&&"fail"!==c.ajaxState(d)||(r.load("/gp/product/features/apparel-main-image/360.html",g),c.ajaxState(d,"sent"))}}function E(){return c.isDefined(m.spin360ConfigEnabled)&&m.spin360ConfigEnabled}var la,m,P,O,J,d,aa,oa,Y,T,da,a,g,f,L,ia,X,Eb,ya,Qa,Ra,Sa,wb,xb,Fb=!1,yb=!1,zb=!1,db=0,eb=0,Ta=0,Ab=0,hb=!1,ib=!1,Ca=0,Bb,Gb=navigator.userAgent.match(/msie|trident/i),Cb=!0,jb=!1,kb=!1,lb={},Da={},mb,nb,Db;D.when("a-modal").execute(function(a){Db=a});var vc=e.once(function(){Q();
w();ma();e.on("a:popover:afterUpdatePosition:immersiveView",ea);e.on("a:popover:afterShow:immersiveView",G);e.on("a:popover:afterHide:immersiveView",fa);Ba()});return function(a,g,f,d){la=this;m=a;P=g;sa.refToModel=P;O=d;E()&&(m.spin360ColorData[m.landingAsinColor]=m.spin360ColorData[m.defaultColor],m.spin360ColorEnabled[m.landingAsinColor]=m.spin360ColorEnabled[m.defaultColor]);c.isDefined(m.staticImages.icon360)&&b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
t.addStyleCodeToURL(m.staticImages.icon360,"_FMpng_RI_"));la.render=function(a,b,g,f,d,k){Cb=!0;E()&&m.spin360ColorEnabled[a]&&!c.isDefined(m.spin360ColorData[a])&&(m.spin360ColorData[a]={},na(a));c.isImmersiveViewEnabled(m,P.getCurrentItem().color)&&E()&&m.spin360ColorEnabled[a]&&(b===m.maxAlts&&(a=f.find(".item.imageThumbnail"),g=f.find(".item.videoThumbnail"),c.isDefined(g)&&1<g.length?g.last().remove():a.last().remove(),b--),a=f.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
e.declarative.create(a,"button-360-click"),f.append(a),b++,h.postCountMetric("dppc_display360"));return b};la.update=function(a){};c.isImmersiveViewEnabled(m,P.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");O.register("imageClick",ga);O.register("button360Click",ga)}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",
function(e,b,c,r,h,u,v,t,M){function D(){var a=b("#iv360Tab").height();q.css("height",a);var c=q.find("#ivTitle360").outerHeight(!0),f=q.find("#ivVariationSelection360").outerHeight(!0),d=q.find("#ivThumbs360"),e=v.getDimension(d,"margin-top")+v.getDimension(d,"margin-bottom");d.css("height",a-c-f-e);a=q.find("#ivStage360");c=q[0]&&q[0].getBoundingClientRect&&Math.floor(q[0].getBoundingClientRect().width)||q.width();a.css("width",c-v.getDimension(q,"padding-left")-v.getDimension(q,"padding-right")-
q.find("#ivThumbColumn360").width()-v.getDimension(a,"margin-left")-v.getDimension(a,"margin-right"))}function F(){V();var a=q.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});v.animateStageIn(a)},200);ea()}function ea(){if(0<d){var a=q.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function Q(a,c){if(d<a.length){var f=b("\x3cimg /\x3e").css({display:"block",width:6*n+"px",height:w+"px"});f.hide();c.append(f);f.get(0).onload=function(){c.closest(document.documentElement).length&&
(d++,1===d&&(ea(),0<m&&(h.time("dppc_loadTime360",Date.now()-m,l.mediaAsin),u.postTimeMetric("dppc_loadTime360",Date.now()-m))),0<P&&(h.time("dppc_perSpriteloadTime360",Date.now()-P,l.mediaAsin),u.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-P)),q.find("#iv360Spinner").hide(),f.show(),E=5*x.imageLocations[Math.floor(la/x.imageLocations[0].length)][la%x.imageLocations[0].length],Q(a,c))};f.attr("src",a[d].replace(/(\._SP)\d+(,)\d+/,"$1"+ha+"$2"+fa));P=Date.now()}}function R(a){if(c.isDefined(x.spriteWidthSizes)&&
0<x.spriteWidthSizes.length){var b=x.spriteWidthSizes,d=b.length,e=b[0],h=b[d-1];if(a<=e)return e;if(a>h)return h;for(e=0;e<d;e++)if(a>b[e]&&a<=b[e+1])return b[e+1]}else return a}function V(){var a=q.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none",
"-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",l.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),ga=!0,K())}function K(){if(c.isDefined(x.spriteURLs)&&c.isDefined(q)&&ga&&!na){var a=q.find("#ivLarge360"),d=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(x.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto",
"margin-right":"auto",display:"block"}).attr("src",x.staticImages.hint360).appendTo(d);b("\x3cdiv\x3e").css({"text-align":"center"}).text(l.staticStrings.dragToSpin).appendTo(d);d.appendTo(a);var d=x.imageWidth,f=x.imageHeight,e=a.parent().width(),h=a.parent().height(),m=0,aa=0;d/f>e/h?(ha=R(e),fa=Math.round(f/d*ha),n=Math.ceil(e),w=Math.ceil(fa/ha*e),aa=(h-w)/2):(fa=R(h),ha=Math.round(d/f*fa),w=Math.ceil(h),n=Math.ceil(ha/fa*h),m=(e-n)/2);a.css({"margin-left":m,"margin-top":aa,width:n+"px",height:w+
"px",overflow:"hidden",position:"relative"});a.children("#image-360-sprites").css("width",6*n+"px");Q(x.spriteURLs,q.find("#image-360-sprites"),0);d=q.find("#ivLarge360");d.bind("mousedown",G);d.bind("touchstart",U);d.bind("touchmove",ba);d.bind("touchend",ka);b(document).bind("mousemove",p);b(document).bind("mouseup",k);c.isDefined(l.staticImages.grab)&&a.css("cursor","url('"+l.staticImages.grab+"'), auto");na=!0}}function U(a){J=!0;ma=a.originalEvent.targetTouches[0].clientX}function ba(a){J&&(H(a.originalEvent.targetTouches[0].clientX-
ma),ma=a.originalEvent.targetTouches[0].clientX)}function ka(a){J&&(J=!1)}function G(a){O=!0;W=a.originalEvent.clientX;c.isDefined(l.staticImages.grabbing)&&(a=q.find("#ivLarge360"),a.css("cursor","url('"+l.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+l.staticImages.grabbing+"'), auto"));return!1}function p(a){O&&(H(a.originalEvent.clientX-W),W=a.originalEvent.clientX)}function k(a){O&&(O=!1,c.isDefined(l.staticImages.grab)&&(a=q.find("#ivLarge360"),a.css("cursor",
"url('"+l.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function H(a){E-=a/n*180;oa&&(h.count("dppc_360dragToSpin",l.mediaAsin),u.postCountMetric("dppc_360dragToSpin"));oa=!1;for(a=E;0>a;)a+=360;for(;360<a;)a-=360;E=a;var b;a=360;for(var f=0;f<d;f++)for(var e=0;e<x.imageLocations[f].length;e++){var k=Math.abs(E-5*x.imageLocations[f][e]);k<a&&(a=k,b=f*x.imageLocations[0].length+e)}b!==la&&(a=Math.floor(b/x.imageLocations[0].length),a!==Math.floor(la/x.imageLocations[0].length)&&
(c.isDefined(aa)||(aa=document.createElement("canvas").getContext("2d")),f=q.find("#image-360-sprites").children(),aa.drawImage(f[a],0,0)),a=q.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));la=b;a=b%x.imageLocations[0].length*-1*n;b=-1*Math.floor(b/x.imageLocations[0].length)*w;f=q.find("#ivLarge360").children("#image-360-sprites");f.css("-webkit-transform","translate3d("+a+"px, "+b+"px, 0)");f.css("transform","translate3d("+a+
"px, "+b+"px, 0)")}function C(){if(T){q=b("#ivMain360");var a=N.getCurrentItem().color;I()&&A(a);x=I()?l.spin360ColorData[a]:pa;v.populateTitle(q.find("#ivTitle360"),160,l);v.populateVariationSelection(q.find("#ivVariationSelection360"));q.find("#ivLarge360").empty();d=0;na=ga=!1;la=E=0;da();T=!1}0!==b("#iv360Tab").height()&&(v.detachImmersiveViewResizeHandler(C),D(),F(),m=Date.now(),Y=oa=!0,h.count("dppc_click360",l.mediaAsin),u.postCountMetric("dppc_click360"))}function z(a,b,d){a=l.colorToAsin[d];
var e={},k=500;if(!a||!a.asin)if(d===l.defaultColor)a={asin:l.winningAsin};else return;e.params={asin:a.asin};var m="360"+a.asin,n=Date.now();e.success=function(a){h.time("dppc_asyncRequestTime360",Date.now()-n,l.mediaAsin);u.postTimeMetric("dppc_asyncRequestTime360",Date.now()-n);a&&c.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&t.setData(a),c.ajaxState(m,"success")):e.error()};e.error=function(){h.count("dppc_asyncFailedTransient360",l.mediaAsin);u.postCountMetric("dppc_asyncFailedTransient360");
h.time("dppc_asyncRequestTime360",Date.now()-n,l.mediaAsin);u.postTimeMetric("dppc_asyncRequestTime360",Date.now()-n);k*=2;16E3>=k?setTimeout(function(){n=Date.now();r.load("/gp/product/features/apparel-main-image/360.html",e)},k):(h.count("dppc_asyncFailed360",l.mediaAsin),u.postCountMetric("dppc_asyncFailed360"),c.ajaxState(m,"fail"))};c.ajaxState(m)&&"fail"!==c.ajaxState(m)||(r.load("/gp/product/features/apparel-main-image/360.html",e),c.ajaxState(m,"sent"))}function I(){return l&&c.isDefined(l.spin360ConfigEnabled)&&
l.spin360ConfigEnabled}function A(a){return c.isDefinedAndNotEmpty(l.spin360ColorData[a])?!0:c.isDefined(l.spin360LazyLoadEnabled)&&l.spin360LazyLoadEnabled}function B(){Y&&(h.time("dppc_duration360",Date.now()-m,l.mediaAsin),u.postTimeMetric("dppc_duration360",Date.now()-m),Y=!1)}function Z(a){a=l.colorToAsin[a.color]&&l.colorToAsin[a.color].asin;a||(a=l.mediaAsin);return a}var S,l,N,ca,q,x,n,w,fa,ha,W,ma,ga=!1,na=!1,E=0,la=0,m=0,P=0,O=!1,J=!1,d=0,aa,oa=!0,Y=!1,T=!0,da=e.once(function(){v.attachImmersiveViewResizeHandler(C);
v.attachImmersiveViewResizeHandler(D);v.attachImmersiveViewResetHandler(B);v.attachTabDeselectHandler("iv360Tab",B)});return function(a,d,f,k){S=this;l=a;N=d;ca=k;a=l.landingAsinColor;d=l.defaultColor;c.isDefined(l.staticImages.icon360)&&b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",v.addStyleCodeToURL(l.staticImages.icon360,"_FMpng_RI_"));I()&&(l.spin360ColorData||(l.spin360ColorData={}),a===d&&c.isDefinedAndEmpty(l.spin360ColorData[d])&&delete l.spin360ColorData[d]);
e.on(M.TWISTER_DATA_EVENT,function(a){Z(N.getCurrentItem())===a&&(x=t.getData(a),K(),a={type:"updatedData",data:N.getCurrentItem()},ca.dispatch("updateView",a))});S.render=function(a,d,f,g,k,m){T=!0;!I()||c.isDefinedAndEmpty(l.spin360ColorData[a])&&!t.getData(Z(N.getCurrentItem()))?v.hideTabHeading("iv360TabHeading"):(l.spin360ColorData[a]=t.getData(Z(N.getCurrentItem())),c.isDefinedAndNotEmpty(l.spin360ColorData[a])?(b("#ivThumbs360").hide(),v.unhideTabHeading("iv360TabHeading"),c.isImmersiveViewEnabled(l,
N.getCurrentItem().color)&&I()&&A(a)&&(d===l.maxAlts&&(a=g.find(".item.imageThumbnail"),d=g.find(".item.videoThumbnail"),c.isDefined(d)&&1<d.length?d.last().remove():a.last().remove()),a=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),e.declarative.create(a,"button-360-click"),g.append(a),h.count("dppc_display360",l.mediaAsin),u.postCountMetric("dppc_display360"))):c.isDefined(l.spin360LazyLoadEnabled)&&l.spin360LazyLoadEnabled?(l.spin360ColorData[a]=
{},v.hideTabHeading("iv360TabHeading"),z(g,d,a)):v.hideTabHeading("iv360TabHeading"))};S.update=function(a){};v.attachTabSelectHandler("iv360Tab",C)}});D.register("nexusLogger360",function(){return{count:function(e,b){u.ue&&u.ue.event({asin:b,metricName:e,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(e,b,c){u.ue&&u.ue.event({asin:c,metricName:e,metricValue:b},"hit-360","hit360.clientEvent.3")}}});D.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});
D.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(e,b){var c={};return{setData:function(r){var h=r.asin;c[h]||(c[h]=r,e.trigger(b.TWISTER_DATA_EVENT,h))},getData:function(b){return c[b]}}});"use strict";D.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(e){function b(){this.render=function(){};this.update=function(){}}return function(c,r,h,u){var v=!1,t=new b;D.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(b){b!==
pa&&(v=!0,t=new b(c,r,h,u))});c&&!0===c.showroomEnabled&&!1===v&&e.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return t}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(e,b,c,r,h,D,v){function t(){z.delegate(".ivThumb","click",function(){var c=b(this);z.find(".ivThumb").removeClass("selected");c.addClass("selected");c.hasClass("ivThumbVideo")&&
(I.type="chromeful-video",I.index=c.attr("id").split("_")[1])})}function M(){if(ga){var c=b("#ivVideosTab").height();z.css("height",c);var d=z.find(".vse-lb-container");A=c-h.getDimension(d,"padding-top")-h.getDimension(d,"padding-bottom");d.css({"max-height":c,overflow:"hidden"});if(fa){z.css({"max-width":Math.floor(1.77*A)});return}var c=z.find(".vse-player-container"),d=z.find(".vse-video-action-strip"),e=z.find(".vse-lb-video-metadata"),k=Math.floor(A-h.getDimension(e,"height")-h.getDimension(d,
"height")),l=Math.floor(1.77*k);c.css({"max-height":k,"max-width":l,marginLeft:"auto",marginRight:"auto"});e.css({"max-width":l,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":l,marginLeft:"auto",marginRight:"auto"})}ha&&(c=z.find(".vse-vertical-scroll"),d=h.getDimension(c,"margin-top")+h.getDimension(c,"margin-bottom"),c.css("max-height",A-d))}function pa(){F();B&&B.pause();W=!1;n=!0;N=null;ma=!0;ga=!1}function F(){W=!1;B&&B.pause()}function ea(h){N=h.clickTimeStamp?h.clickTimeStamp:e.now();
c.isDefined(C)&&(C.eventTimestamp=N);W=!0;w&&(v.get(e,"#ivVideoBlock",H,J,d),z=b("#ivVideoBlock"),k.getCurrentItem(),I=k.getCurrentItem(),m(),ba());M();w=!1;V()}function Q(c){w&&(z=b("#ivVideoBlock"),k.getCurrentItem(),I=k.getCurrentItem(),m());W&&V();M()}function R(b){B=b.player;r.postTimeMetric("vse_ib_desktop_player_initialisation_duration",e.now()-la);p.imageBlockRenderingStartTime&&r.postTimeMetric("vse_ib_desktop_time_to_player_interactive",e.now()-p.imageBlockRenderingStartTime);ga&&(ba(),
V())}function V(){if(B&&W&&(z.find(".vse-lb-container").animate({opacity:1},200),B.play(C),r.postCountMetric("dpcc_vse_videoBlock_video_played"),n)){var b=u.ue;b&&(b=b.count("dpcc_vse_videoingressclick"),b=(new Date).getTime()-b,r.postTimeMetric("dpcc_vse_vitff",b),n=!1)}}function K(){e.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function U(b){Z=b.popover.$popover;ga=!0;ba()}function ba(){if(ga&&ma&&W&&B){Z.addClass(e.$(Z).find(".vse-lb-container").data("cssClass"));var b=C;na&&(b=E,
na=!1);e.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:b});M();ma=!1}}function ka(b){document.getElementsByClassName("videoBlockIngress")[0].click();E=b;na=!0}var G,p,k,H,C,z,I,A,B,Z,S,l,N,ca,q,x,n=!0,w=!0,fa=!1,ha=!1,W=!1,ma=!0,ga=!1,na=!1,E,la=0,m=e.once(function(){t();h.attachImmersiveViewResizeHandler(Q);h.attachTabDeselectHandler("ivVideosTab",F);h.attachImmersiveViewResetHandler(pa)}),P=function(d,e,h){b("#ivVideoBlockSpinner").addClass("aok-hidden");
r.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+e.placement);d=k.getCurrentItem().color;d=c.getVideoHash(d,0,p);B||(B=c.createAiryInstanceForChromeful(b("#ivVideoBlock"),d,p.airyConfig,"ImmersiveView"));fa=!0;b("#ivVideoBlock").css({"max-width":1.77*A,margin:"0 auto"});W&&fa&&B.play({isAsync:!0})},O=function(c,e,h){w||v.get(c,"#ivVideoBlock",H,J,d);b("#ivVideoBlockSpinner").addClass("aok-hidden")},J=function(b,c,d){ha=!0;M()},d=function(b,c,d){r.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+
c.pageContext.placement+"_"+c.configuration.type)};return function(b,d,m,n){G=this;p=b;k=d;G.render=function(b,a,d,f,m,n){b=k.getCurrentItem().color;a=c.getVideoHash(b,0,p);!0===n?S=p.mediaAsin:(S=p.colorToAsin[b]&&p.colorToAsin[b].asin,S=c.isDefined(S)?S:p.mediaAsin);l=null!==p.vseVideoDataSourceTreatment&&"T1"===p.vseVideoDataSourceTreatment?"ASIN":"physicalID";ca=p.contentWeblab;q=p.contentWeblabTreatment;x=p.parentAsin||"";w=!0;-1===a?h.hideTabHeading("ivVideosTabHeading"):(h.unhideTabHeading("ivVideosTabHeading"),
H={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:a.marketPlaceID,locale:a.languageCode,product:{contentID:S,contentIDType:"ASIN",parentContentID:x,parentContentIDType:"ASIN"},video:{contentID:a.mediaObjectId,contentIDType:l,videoURL:a.url,imageURL:a.slateUrl},requestId:p.dpRequestId,weblabContext:[{name:ca,assignment:q,ignoreForG2S2Key:!0}],metadata:{ProductTitle:p.title}},C={videoUrl:H.video.videoURL,contentId:H.video.contentID,duration:0,vendorCode:"",eventTimestamp:c.isDefined(N)?
N:e.now(),imageUrl:H.video.imageURL,productAsin:H.product.contentID,index:0},c.isDefinedAndNotEmpty(B)&&(B.destroy(),B=null),la=e.now(),D.get(e,"#ivVideoBlock",H,O,P))};G.update=function(b){};h.attachTabSelectHandler("ivVideosTab",ea);e.on("vsePlayer-detailpage-imageblock",R);e.on("a:popover:afterShow:immersiveView",U);e.on("a:popover:beforeHide:immersiveView",K);e.on("detailpage-imageblock-leave-pip",ka)}})});
/* ******** */
(function(b){var f=window.AmazonUIPageJS||window.P,h=f._namespace||f.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):f;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,f,h){b.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,c){try{var d=a.$,e=d("#featurebullets_feature_div"),k=d("#productOverview_feature_div");if(e&&0<e.length&&(c.postCountMetric("FeatureBulletsRendered.GV"),k&&
0<k.length)){c.postCountMetric("FeatureBulletsRenderedWithPO.GV");var g=d("#featurebullets_feature_div .a-expander-container");g&&0<g.length&&"feature-bullets-expander"===g.data("aExpanderName")&&(c.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){c.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){c.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(l){b.log("Feature bullets metric logging failed with error: ( "+
l+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";b.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,c,d,e,k){var g=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=d.colorImages,c=0,b;for(b in a)a[b]&&a[b].length&&(c+=a[b].length);a="image_size_bucket:gt"+g[g.length-1];for(b=1;b<g.length;b++)if(c<=g[b]){a="image_size_bucket:"+g[b-1]+"-"+g[b];break}k.postCountMetric(a);e.addTag(a)})();(function(){var a=c.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,f.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=d.lazyLoadExperienceDisabled;e.isDefined(d.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),e.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";b.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});b.register("postEarlyMetric",function(){return null});"use strict";b.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var c=f.ue;if(c){var b=c.count(a)||0;c.count(a,b+1)}}},postTimeMetric:function(a,c){if("undefined"!==typeof a&&"undefined"!==typeof c){var b=f.ue;b&&b.count(a,c)}},emitNexusMetric:function(a){f.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(a,b,d,e,k,g,f,h){return{eventSource:"IBCarousel",placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:b,videoAsin:d,videoAsinList:"",
groupType:e,pageUrl:k,pageAsin:g,weblabIds:f}}}});b.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,d){var e=a.state("desktop-landing-image-data");e&&(e=a.values(e),b=b.getResourceTimeByName("img",e),a.each(b,function(a){a&&(a.responseEnd!=h&&d.postCountMetric("ibDesktopLandingImageDownloadTime",f.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?d.postCountMetric("ibDesktopLandingImageCached",1):(d.postCountMetric("ibDesktopLandingImageSizeInBytes",f.parseInt(a.transferSize)),
d.postCountMetric("ibDesktopLandingImageNotCached",1))))}))})});
/* ******** */
(function(l){var g=window.AmazonUIPageJS||window.P,m=g._namespace||g.attributeErrors,e=m?m("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):g;e.guardFatal?e.guardFatal(l)(e,window):e.execute(function(){l(e,window)})})(function(l,g,m){l.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function f(c){c&&(l.load.js(c),g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",g.parseInt(performance.now())))}function k(c){c&&l.load.css(c)}
var c=e.airyConfig;c===m?l.when("ImageBlockBTF").execute(function(e){c=e.airyConfig;f(c.jsUrl);k(c.cssUrl)}):(f(c.jsUrl),k(c.cssUrl))});"use strict";l.when("A","jQuery").execute(function(e,f){e.on("a:image:load:landingImage",function(){g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(f("#landingImage"))});"use strict";l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,f){function k(a,d){var b;
if(d.repositionHeroImage){b=a[1];var c=a[0];if(768>=(g.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))b*=.7,c*=.7;else{var e=((g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,e=Math.max(Math.min(e,1),0);b*=.7+.3*e;c*=.7+.3*e}b=[b,c]}return b}function c(a,d,b){var c;if(b.repositionHeroImage){var e=g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b=b.heroFocalPoint;if(f.isDefined(b)){c=Math.max((e-
Math.min(1500,a))/2,0);var k=Math.max((e-a)/2,0);c-=k;e=Math.max(Math.min(e,1500),1024);c=c+(e-420-23)/2-a/d[1]*b}}return c}function h(a,d,b){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[d])&&f.isDefined(a[d][b])&&f.isDefined(a[d][b].main))||1>e.map(a[d][b].main,function(a,b){return b}).length?-1:a[d][b]}return{getHeroImageHash:h,getHeroDimParams:function(a,d,b){if(a.repositionHeroImage){if(!f.isDefined(b)){b=h(a,d.color,d.index);if(-1===b)return;d=e.map(b.main,function(a,b){return b})[0];
b=b.main[d]}d=k(b,a);a=c(d[0],b,a);return{height:d[1],width:d[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,f,k){function c(a,d){var b=e.copy(a);if(k.isDefined(a)&&a.length>d){try{for(var c=-1,h=0;h<a.length;h++){var f=a.charAt(h);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)c=h;if(h===d-4){b=a.substring(0,-1===c?h:c);break}}}catch(g){b=a.substring(0,d-3)}b+="..."}return b}function h(a,d){var b=a.lastIndexOf(".");
return a="_"===a.charAt(b-1)?a.substring(0,b-1)+d+a.substring(b):a.substring(0,b)+"."+d+a.substring(b)}return{getDimension:function(a,d){var b=parseInt(a.css(d),10);return isNaN(b)?0:b},attachTabSelectHandler:function(a,d){e.on("dp:ivTabs:"+a+":select",d)},attachTabDeselectHandler:function(a,d){e.on("dp:ivTabs:"+a+":deselect",d)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){f("#"+a).hide()},unhideTabHeading:function(a){f("#"+a).show()},addStyleCodeToURL:h,getResizedThumbnailURL:function(a,d){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";d&&(b+="FMpng_RI_");return h(a,b)},populateVariationSelection:function(a){if(k.isDefined(g.DetailPage)&&
k.isDefined(g.DetailPage.StateController)){a.empty();var d=g.DetailPage.StateController.getState(),b=d.variation_label_order,c;for(c in b)if(b.hasOwnProperty(c)){var e=b[c],h=d.selected_variations[e],e=d.variation_display_labels[e];h&&f("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+h).appendTo(a)}}},populateTitle:function(a,d,b){a.html(b.title);a.attr("title",a.text());a.html(c(b.title,d))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},
100,c)},logError:function(a,c,b,e){g.ueLogError&&g.ueLogError(e,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(e){return{load:function(f,k){k=k||{};k.timeout=k.timeout||4E3;e.ajax(f,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,f){l.register("vse_ns_preLoaderHook",function(){function k(c,h){try{var a=c.A,d=c.block,b=c.request,g=c.handleFailure,l=c.handleSuccess,r=a.$;h--;var n=
3-h-1,p=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(c){var h=a.now()-p;e.postTimeMetric("vse_preLoaderHook:success:",h);e.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+n);r(d).html(c);l(a,b,c)},error:function(d){e.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+n);(0===d.http.status||500<=d.http.status&&599>=
d.http.status)&&0<h?k(c,h):(e.postCountMetric("vse_preLoaderHook:error:",1),g(a,b,d))}})}catch(q){f.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(c,e,a,d,b){k({A:c,block:e,request:a,handleFailure:b,handleSuccess:d},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(c,h,a){try{var d=c.A,b=c.context,g=c.handleFailure,l=c.handleSuccess;h.attr("data-configuration");var r=atob(h.attr("data-configuration")),n=JSON.parse(r),p={pageContext:b,configuration:n},
q=d.now();a--;var m=3-a-1;d.ajax("/vap/ew/subcomponent/"+n.type,{params:p,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var c=d.now()-q;e.postTimeMetric("vse_lazyLoaderHook:success:",c);e.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+n.type+":"+m);h.html(a);l(d,p,a)},error:function(f){e.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+n.type+":"+m);(0===f.http.status||
500<=f.http.status&&599>=f.http.status)&&0<a?k(c,h,a):(e.postCountMetric("vse_lazyLoaderHook:error:",1),g(d,p,f))}})}catch(u){f.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(c,e,a,d,b){var f=c.$;f(e+" div[data-configuration]").each(function(){k({A:c,context:a,handleFailure:b,handleSuccess:d},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(c,h,a){try{var d=c.A,b=c.block,g=c.request,l=c.handleFailure,m=c.handleSuccess,n=d.$;a--;var p=3-a-
1,q=d.now();d.ajax("/vap/ew/subcomponent/vseplayer",{params:g,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var c=d.now()-q;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",c);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+g.page+":"+g.placement+":"+p);n(b).html(a);m(d,g,a)},error:function(b){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+g.page+":"+g.placement+":"+p);(0===b.http.status||
500<=b.http.status&&599>=b.http.status)&&0<a?k(c,a):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(d,g,b))}})}catch(t){f.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",t)}}return{get:function(c,e,a,d,b){k({A:c,block:e,request:a,handleFailure:b,handleSuccess:d},3)}}})})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e").trim()).appendTo(a))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);
var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
(function(q){var w=window.AmazonUIPageJS||window.P,v=w._namespace||w.attributeErrors,a=v?v("DetailPagePaymentOptionsJavascript",""):w;a.guardFatal?a.guardFatal(q)(a,window):a.execute(function(){q(a,window)})})(function(q,w,v){"use strict";q.when("A","payment-options-constants").register("payment-options-client-side-metric",function(a,d){function c(){return Date.now().toString(10)+Math.random().toString(16).substring(2,13)}function b(a,b){if("undefined"!==typeof l&&"undefined"!==typeof l.count&&a){var c=
d.metricPrefix+a;l.count(c,(l.count(c)||0)+b);a=d.metricPrefix+a;"undefined"!==typeof w.csa&&(b=w.csa("Events",{producerId:"dp-rpcx"}),c=l.count(a),b("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:a,valueToLog:c},{ent:"all"}))}}function e(a){if(a)this.timerName=a,this.startTime=0;else throw Error("timerName must be non empty string");}function g(a){if(a)this.timerName=a,this.startTime=0;else throw Error("timerName must be non empty string");}var l=w.ue;e.prototype={isStarted:!1,start:function(){this.isStarted=
!0;this.startTime=Date.now()},stop:function(){this.startTime&&b(this.timerName,Date.now()-this.startTime)}};g.prototype={isStarted:!1,start:function(){this.isStarted=!0;this.startTime=Date.now()},stop:function(){this.startTime&&b(this.timerName,Date.now()-this.startTime)}};return{increment:function(a){b(a,1)},incrementWithValue:b,incrementWithValuePriceBlockMessaging:function(a,c){if("undefined"!==typeof l&&"undefined"!==typeof l.count&&a){var b=d.metricPrefixPriceblock+a;l.count(b,(l.count(b)||0)+
c);a=d.metricPrefixPriceblock+a;"undefined"!==typeof w.csa&&(c=w.csa("Events",{producerId:"dp-rpcx"}),b=l.count(a),c("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:a,valueToLog:b},{ent:"all"}))}},logNexusEventForMonthlyPaymentSelection:function(a){if(w.ue&&l.event){var b={};b.requestId=a.data.requestId;b.sessionId=a.data.sessionId;b.marketplaceId=a.data.marketplaceId;b.customerId=a.data.customerId;b.asin=a.data.asin;b.websiteDisplayGroup=a.data.websiteDisplayGroup;b.parentAsin=a.data.parentASIN;
b.buyingOptionType=a.data.buyingOptionType;b.financingId=a.data.optionId;b.ranking=parseInt(a.data.executionInfo.offerRank);b.isRender=!0;b.deviceType=a.data.deviceType;b.isUfoSwatchExpanded=!0;b.isOfferSelected=!0;b.isOfferAddedToCart=!1;b.isOfferUsedWithBuyNow=!1;b.schemaId=d.nexus.schemaId;b.producerId=d.nexus.producerId;b.messageId=c();b.trackingId="undef";b.isPreselection=null;l.event(b,d.nexus.producerId,d.nexus.schemaId,{ssd:!0})}},logNexusEventForSwatchExpansion:function(a){if(w.ue&&l.event){var b=
{};b.requestId=a.data.requestId;b.sessionId=a.data.sessionId;b.marketplaceId=a.data.marketplaceId;b.customerId=a.data.customerId;b.asin=a.data.asin;b.websiteDisplayGroup=a.data.websiteDisplayGroup;b.parentAsin=a.data.parentASIN;b.buyingOptionType=a.data.buyingOptionType;b.financingId="undef";b.ranking=-1;b.isRender=!0;b.deviceType=a.data.deviceType;b.isUfoSwatchExpanded=!0;b.isOfferSelected=!1;b.isOfferAddedToCart=!1;b.isOfferUsedWithBuyNow=!1;b.schemaId=d.nexus.schemaId;b.producerId=d.nexus.producerId;
b.messageId=c();b.trackingId="undef";b.isPreselection=null;l.event(b,d.nexus.producerId,d.nexus.schemaId,{ssd:!0})}},Timer:e,TimerPriceBlockMessaging:g}});"use strict";q.when("A","payment-options-constants","payment-options-expander-actions","payment-options-client-side-metric").register("multi-card-exp-payment-options",function(a,d,c,b){function e(){b.increment("Expander:Auto:Collapse");var d=a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection;
c.collapsePaymentOptions(d);a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1}function g(){if(document.getElementById("payment-options-expander-header")){var b=JSON.parse(a.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander"));b.isAutoExpand=!0;b.forceExpand=!0;a.trigger("a:declarative:expand-payment-options-expander",{data:b})}}return function(){var b=a.$(d.selector.multiCardExperimentElement).data(d.selector.multiCardExperimentData);
if(!b||!b.treatment)return{};var c=a.$(d.selector.activeTPlusCards).val();if(!c||!c.length)return{};c=c.split(",");return{expTreatment:b.treatment,isFirstCard:c[0]===d.featureRegistration.featureName,collapseCard:e,autoExpandCard:g}}()});"use strict";q.when("A").register("payment-options-constants",function(a){return{featureRegistration:{featureName:"paymentOptions",featureAttribution:"C/T/I"},nexus:{producerId:"ufo-dev",schemaId:"ufo_dev.DPXAwarenessAndConversion.3"},validators:{itemType:"paymentOfferInfo",
offerTypes:["EQUAL_PAY","ONE_TIME_PAYMENT"],cartTypes:["ADD_TO_CART"],cardTypes:["PLCC"]},parameters:{itemType:"paymentOfferInfo",selectionType:{ADD:"add",DELETE:"delete"},offerTypes:{equalPay:"EQUAL_PAY",oneTimePayment:"ONE_TIME_PAYMENT"},cartTypes:{addToCart:"ADD_TO_CART",buyNow:"BUY_NOW"},cardTypes:{plcc:"PLCC"}},paymentOfferInputElement:{inputType:"hidden",name:"paymentOfferInfo"},imagesToLoad:".payment-options-financing-option-card-image .payment-options-expander-heading-image-container .payment-options-side-sheet-header .payment-options-side-sheet-option-summary .payment-options-side-sheet-comparison-group-container .payment-options-comparison-sheet-comparison-card-option".split(" "),
ajaxStatusText:{timeout:"Request Timeout"},selector:{expanderContainer:".payment-options-container",skeletonLoader:".payment-option-skeleton-loader",twisterPlusFadeIn:"twister-plus-cc-card-fadeIn",paymentOptionExpand:"payment-options-expander-content-expand",skeletonLoaderExpand:"payment-option-skeleton-loader-expand",checkmark:".payment-options-selected-checkmark",subtitle:".payment-options-subtitle",subtitleText:".payment-options-subtitle-text",cardImage:".payment-options-selected-card-image",expanderIcon:".payment-options-expander-icon",
toggleButton:"#payment-options-toggle-button",expanderContent:".payment-options-expander-content",swatch:".payment-options-swatch",oneTimePaymentOption:".payment-options-default-option",financingOptions:".payment-options-financing-option",financingOptionTitle:".payment-options-financing-option-title",swatchOption:".payment-options-option",swatchHeading:".payment-options-option-heading",selectedHeading:"payment-options-selected-heading",selectedOption:"payment-options-selected-option",unavailableOption:"payment-options-unavailable-option",
unselectedHeading:"payment-options-unselected-heading",swatchDetail:".payment-options-option-detail",refreshCCText:"#payment_options_refresh_cc_text",refreshToggle:"#payment_options_refresh_cc_text_container",multiCardExperimentData:"wireless-multi-card",multiCardExperimentElement:"[data-wireless-multi-card]",activeTPlusCards:"#twister-plus-active-cards",sideSheetButton:".payment-option-side-sheet-comparison-button",selectedButton:"payment-option-side-sheet-comparison-button-selected",unselectedButton:"payment-option-side-sheet-comparison-button-unselected",
disabledSwatch:"payment-option-disabled",monthlyPaymentAction:"payment-options-monthly-payment-action",paymentOptionsWeblabs:"#payment-options-weblabs",paymentOptionsWeblabsAttribute:"data-enabled-weblabs",paymentOptionsDefaultPickupBuyingOptionData:"#payment-options-default-buyingOption-pickup",isBuyingOptionOverridePresentAttribute:"data-is-pickup-buying-option-override-present",pickUpBuyingOptionIndex:"data-pickup-buying-option-index",payPlanColumnSelector:".payment-plan-column-selector",paymentDetailColumnSelector:".payment-details-column-selector",
interestColumnSelector:".interest-column-selector",payPlanAplliesSelector:".pay-plan-applies-to-column-selector",cardRewardColumnSelector:".card-reward-column-selector",oneTimePaymentHeadButton:".payment-option-onetimepayment-button",paymentOptionApplicabilityMessageLayout:".payment-option-applicibility-message-layout",paymentOptionApplicabilityMessage:".payment-option-applicibility-message-layout .payment-option-applicibility-message"},comparePlansSelector:{comparePlansSidesheetSelector:"#compare-all-plans-sideSheet",
comparePlansContentSelector:"#compare-all-plans-content",viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",paymentOptionsCountSelector:"#compare-all-plans-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".compare-plans-sidesheet-ajax-error",skeletonLoaderClass:".compare-plans-sidesheet-skeleton-loader",comparePlansPaymentOptionSelector:".payment-plan-",comparePlansPaymentOptionWithLearnMoreSelector:".payment-plan-column-",
comparePlansButtonIdSelector:"#monthlyPaymentOption",comparePlansColumnSelector:".payment-option-table-column",comparePlansColumnWithLearnMoreSelector:".payment-option-table-monthly-payments-column",comparePlansButtonSelector:".payment-option-side-sheet-comparison-button"},learnMoreSelector:{learnMoreSidesheetSelector:"#payment-option-learn-more-sideSheet",learnMoreContentSelector:"#payment-options-learn-more-ajax",viewModelFailedSelector:"#payment-options-viewmodel-failed",preselectiedOptionSelector:"#payment-options-preselected",
paymentOptionsCountSelector:"#payment-options-learn-more-options-count",firsOfferIdSelector:"#payment-options-first-offer-id",ajaxErrorMessageSelector:".learn-more-sidesheet-ajax-error",skeletonLoaderClass:".learn-more-sidesheet-skeleton-loader"},ajaxErrorReasons:{timeoutStatus:"Request Timeout"},classes:{hideSwatchMainViewClass:"payment-option-list-item-hidden",paymentOptionsList:".payment-options-list",unavailableCompareAllPlansOption:"payment-options-comparison-sheet-unavailable-option",disabledComparisonPlanButton:"payment-option-comparison-sheet-disabled",
auiDisabledButtonClass:"a-button-disabled",auiEnabledButtonClass:"a-button-normal",popOverHideClass:"popover-hide",popOverShowClass:"popover-show",colLeftRightBorder:"Payment-option-side-sheet-left-right-column-border",colTopBorder:"Payment-option-side-sheet-top-border",colBottomBorder:"Payment-option-side-sheet-bottom-border",cardRewardHideClass:"payment-options-card-reward-hide",normalLeftBorder:"payment-option-column-normal-left-border",normalRightBorder:"payment-option-column-normal-right-border",
selectedPaymentOptionBorder:"payment-option-selected-column-border",normalPaymentOptionBorder:"payment-option-column-normal-border",selectedButtonClass:"payment-option-side-sheet-comparison-button-selected",unselectedButtonClass:"payment-option-side-sheet-comparison-button-unselected",disabledPaymentOptionOrder:"payment-option-disabled-column-order",disabledPaymentOptionClass:"payment-option-disabled-column"},animationTimeoutUnit:200,metricPrefix:"DPX:TwisterPlusCCCard:PaymentOptions:",metricPrefixPriceblock:"DPX:PriceBlockMessaging:PaymentOptions:",
classSelector:".",disabledPaymentOptionSelecter:"titleSupplement",popOverText:"popover"}});"use strict";q.when("A","cc-manager","payment-options-constants","payment-options-expander-state","payment-options-expander-actions","payment-options-client-side-metric","multi-card-exp-payment-options","payment-plan-state").register("payment-options-registration",function(a,d,c,b,e,g,l,n){function k(a){return"string"===typeof a}function r(a){for(var b=a.length-1;0<=b;b--){var f=a.get(b).id;if(f!==v&&!p("#"+
f).parent().parent().parent().hasClass(c.classes.hideSwatchMainViewClass)){p("#"+f).parent().parent().parent().addClass(c.classes.hideSwatchMainViewClass);break}}}function m(a,f){a=a.data("toggle-payment-options-expander");var d=a.isExpand;0!==p("#"+f).find("[data-toggle-payment-options-expander]").length&&(d=p("#"+f).find("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand);f=a.isSwatchAjaxFailed?a.ajaxFailureSubtitle:a.expandLoadingSubtitle;var x=a.collapseSubtitle;
a.isExpand=d;b.expanderSubtitle.monthlyPaymentOptionsCollapsedSubtitle=x;d?p(c.selector.subtitleText).text(f):p(c.selector.subtitleText).text(x)}function f(a){var b=a.executionInfo;b.cartType=c.parameters.cartTypes.addToCart;return{itemType:c.parameters.itemType,price:a.price,selectionType:c.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,
invalidSelectionTitle:a.cardName,isOrderLevel:a.isOrderLevel,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,formData:[{inputType:c.paymentOfferInputElement.inputType,inputName:c.paymentOfferInputElement.name,inputValue:b}]}}function h(){var b;var f=(b=p(c.selector.paymentOptionsDefaultPickupBuyingOptionData))&&"true"===b.attr(c.selector.isBuyingOptionOverridePresentAttribute);b=b&&f?(b=b.attr(c.selector.pickUpBuyingOptionIndex))?b:v:void 0;
return"#paymentOption_"+(b?b:a.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0)}var p=a.$;l=l.expTreatment;var u="T2"!==l&&"T3"!==l,x=c.featureRegistration.featureName;d.registerFeature(c.featureRegistration,{init:function(b){a.$(h()).removeClass("a-hidden")},validateInputParams:function(a){return a&&a.formData&&1===a.formData.length&&a.itemType===c.validators.itemType&&k(a.priceAndTermCountDisplayString)&&k(a.orderSummaryDisplayString)&&k(a.interestDisplayString)&&"number"===
typeof a.price&&"number"===typeof a.interestAmount&&k(a.bottomSheetFootnoteDisplayString)?!0:!1},cardCollapse:function(){var b=n.paymentOptionSelected.paymentOptionClickedFromSideSheet;u&&!b&&(g.increment("Expander:Auto:Collapse"),b=a.$(h()).find("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,e.collapsePaymentOptions(b),a.$(h()).find("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1)},refreshCard:function(){a.$(c.selector.refreshToggle).removeClass("refresh-toggle");
a.$(h()).find("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand&&a.$(c.selector.refreshCCText).removeClass("a-hidden")},switchBuyingOption:function(h,l,g,n,u,k){n=k&&-1!==k?k:h;l=a.$("[id^\x3dpaymentOption_]").filter(function(){return!p(this).hasClass("a-hidden")}).attr("id");a.$("[id^\x3dpaymentOption_]").addClass("a-hidden");h=a.$(".payment-options-selected-option").closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action");
var q;a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander")!==v&&(g=a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection,h===v&&!0===g&&(q=a.$("[data-payment-options-emp-action]").data("payment-options-emp-action")));var z;h&&(z=h.offerGroup);a.$("#paymentOption_"+n).removeClass("a-hidden");g=p("#paymentOption_"+n).find("[data-toggle-payment-options-expander]");var B=g.data("toggle-payment-options-expander");0===g.length||
g.data("toggle-payment-options-expander").isLoaded?(l=p("#paymentOption_"+n+" #oneTimePaymentOptionSwatch"),a.$(l).click(),a.delay(function(){B.isExpand||p(c.selector.subtitleText).text(B.collapseSubtitle)},100)):m(g,l);g=l=!1;d.ccRemovedSelectionsClear(x);h===v&&q!==v&&(u=a.$("#paymentOption_"+n+" [data-payment-options-emp-action]").data("payment-options-emp-action"),l=u!==v,!0===l&&(p(c.selector.subtitleText).text(u.preselectionSubtitle),b.expanderSubtitle.monthlyPaymentOptionsCollapsedSubtitle=
u.preselectionSubtitle,b.expanderSubtitle.monthlyPaymentOptionsExpandedSubtitle=u.preselectionSubtitle),!1===l&&d.ccRemovedSelectionUpdate(x,f(q)));if(z){q=p("#paymentOption_"+n+" .payment-options-financing-option");n=q.length;l=0<n;for(u=0;u<n;u++){k=q.get(u);var w=a.$(k).closest("[data-action\x3d'payment-options-monthly-payment-action']").data("payment-options-monthly-payment-action"),C=p("#"+k.id).parent().parent().parent(),y=C.hasClass(c.classes.hideSwatchMainViewClass);if(w&&z===w.offerGroup){g=
!0;y&&(r(q),C.removeClass(c.classes.hideSwatchMainViewClass));a.$(k).click();var D=a.$("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").renderPreselection}}(!l||l&&!g)&&d.ccRemovedSelectionUpdate(x,f(h));e.collapsePaymentOptions(D)}}})});"use strict";q.when("A","cc-manager","payment-options-constants","payment-options-registration").register("cc-payment-options",function(a,d,c){function b(a){var b=l("form#buyNowCheckout");if(0<b.length){var f=b.find("input[name\x3d"+
c.parameters.itemType+"]");a=a.executionInfo;a.cartType=c.parameters.cartTypes.buyNow;a=JSON.stringify(a);1>f.length?l("\x3cinput\x3e").attr({type:c.paymentOfferInputElement.inputType,name:c.paymentOfferInputElement.name,value:a,id:"bnMshopPaymentOfferInfo"}).appendTo(b):(b=l("#bnMshopPaymentOfferInfo"),1<f.length?b.detach():b.val(a))}}function e(a){var b=a.executionInfo;b.sessionId=a.sessionId;b.customerId=a.customerId;b.marketplaceId=a.marketplaceId;b.requestId=a.requestId;b.deviceType=a.deviceType;
b.asin=a.asin;b.buyingOptionType=a.buyingOptionType;b.parentASIN=a.parentASIN;b.websiteDisplayGroup=a.websiteDisplayGroup}function g(a,b){return{itemType:c.parameters.itemType,price:a.price,selectionType:c.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,isOrderLevel:a.isOrderLevel,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,
termCount:a.termCount,termType:"mo",formData:b}}var l=a.$,n=c.featureRegistration.featureName,k;return{updatePaymentOptionSelection:function(a){if(!a)return!1;d.ccSelectionsClear(n);clearTimeout(k);l("#bnMshopPaymentOfferInfo").detach();var m=[],f;if(a.hasOwnProperty("executionDetails")&&0!==Object.keys(a.executionDetails).length){var h=a.executionDetails;Object.keys(h).forEach(function(b){if("paymentOfferInfoType"===b){var f=JSON.parse(a.executionDetails.paymentOfferInfoType);f.sessionId=a.sessionId;
f.customerId=a.customerId;f.marketplaceId=a.marketplaceId;f.requestId=a.requestId;f.deviceType=a.deviceType;f.asin=a.asin;f.buyingOptionType=a.buyingOptionType;f.parentASIN=a.parentASIN;f.websiteDisplayGroup=a.websiteDisplayGroup;a.executionDetails.paymentOfferInfoType=JSON.stringify(f);m.push([{inputType:c.paymentOfferInputElement.inputType,inputName:c.paymentOfferInputElement.name,inputValue:JSON.parse(h[b])}])}else m.push([{inputType:c.paymentOfferInputElement.inputType,inputName:b,inputValue:h[b]}])});
for(var p=0;p<m.length;p++)if(f=g(a,m[p]),f=d.ccSelectionUpdate(n,f),!f)return!1}else if(a.hasOwnProperty("executionInfo")&&0!==Object.keys(a.executionInfo).length)e(a),m.push([{inputType:c.paymentOfferInputElement.inputType,inputName:c.paymentOfferInputElement.name,inputValue:a.executionInfo}]),f=g(a,m[0]),f=d.ccSelectionUpdate(n,f);else return!0;b(a);k=setTimeout(function(){b(a)},1E3);return f}}});"use strict";q.when("A","cc-payment-options").register("payment-options-actions",function(a,d){a.declarative("select-payment-option",
"click",function(a){d.updatePaymentOptionSelection(a.data)})});"use strict";q.when("A","po-sidesheet-ajax-state","comparison-plans-state","payment-options-constants","payment-options-state","payment-options-client-side-metric","price-block-messaging-constants").register("po-compare-plans-actions",function(a,d,c,b,e,g,l){function n(){d.resetComparePlansState();h(b.comparePlansSelector.skeletonLoaderClass).addClass("aok-hidden");h(b.comparePlansSelector.ajaxErrorMessageSelector).removeClass("aok-hidden")}
function k(a,f){a=h(a);var c=b.comparePlansSelector.viewModelFailedSelector,d=b.comparePlansSelector.preselectiedOptionSelector,p=b.comparePlansSelector.paymentOptionsCountSelector,l=b.comparePlansSelector.firsOfferIdSelector,e=m(),d=d+"-"+e,p=p+"-"+e,l=l+"-"+e;return 0!==a.filter(c+"-"+e).length?(g.incrementWithValue("Ajax:Inconsistency:ViewModelFailed",1),!0):0!==a.filter(d).length?(g.incrementWithValue("Ajax:Inconsistency:PreselectionPresent",1),!0):a.filter(p).data("paymentPlansCount")!==f.numberOfPaymentOptions?
(g.incrementWithValue("Ajax:Inconsistency:OffersCountNotSame",1),!0):a.filter(l).data("firstOfferId")!==f.firstOfferId?(g.incrementWithValue("Ajax:Inconsistency:OfferIdNotSame",1),!0):!1}function r(c){h(b.comparePlansSelector.comparePlansSidesheetSelector).html(d.getComparePlansState("ajaxContent"));var p=b.comparePlansSelector.comparePlansContentSelector+"-"+m();h(p).removeClass("aok-hidden");a.loadDescendantImagesManually(h(".payment-options-side-sheet-header"));a.loadDescendantImagesManually(h(".payment-options-side-sheet-option-summary"));
a.loadDescendantImagesManually(h(".payment-options-side-sheet-comparison-group-container"));a.loadDescendantImagesManually(h(".payment-options-comparison-sheet-comparison-card-option"));f(c)}function m(){return a.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0}function f(a){var f=c.paymentOptionSelected.paymentOptionSelectedButtonId,d=c.paymentOptionSelected.disabledPaymentOptionIds,e=a.data.selectText;h(p.oneTimePaymentHeadButton).removeClass(p.selectedButton);h(p.oneTimePaymentHeadButton).addClass(p.unselectedButton);
h(p.oneTimePaymentHeadButton).text(e);h(b.comparePlansSelector.comparePlansColumnSelector).removeClass(b.classes.selectedPaymentOptionBorder);h(b.comparePlansSelector.comparePlansColumnSelector).addClass(b.classes.normalPaymentOptionBorder);h(b.comparePlansSelector.comparePlansColumnSelector).removeClass(b.classes.disabledPaymentOptionClass);h(b.comparePlansSelector.comparePlansColumnWithLearnMoreSelector).removeClass(b.classes.disabledPaymentOptionOrder);h(b.comparePlansSelector.comparePlansButtonSelector).removeClass(b.classes.selectedButtonClass);
h(b.comparePlansSelector.comparePlansButtonSelector).removeClass(b.classes.auiDisabledButtonClass);h(b.comparePlansSelector.comparePlansButtonSelector).addClass(b.classes.unselectedButtonClass);h(b.comparePlansSelector.comparePlansButtonSelector).text(e);a=a.data.selectedText;""!==f&&("oneTimePaymentOption"===f?(h(p.oneTimePaymentHeadButton).addClass(p.selectedButton),h(p.oneTimePaymentHeadButton).removeClass(p.unselectedButton),h(p.oneTimePaymentHeadButton).text(a)):(e=b.comparePlansSelector.comparePlansPaymentOptionSelector+
f.match(/\d+/g)[0],h(e).addClass(b.classes.selectedPaymentOptionBorder),h(e).removeClass(b.classes.normalPaymentOptionBorder),h("#"+f).addClass(b.classes.selectedButtonClass),h("#"+f).removeClass(b.classes.unselectedButtonClass),h("#"+f).text(a)));for(f=0;f<d.length;f++){var g=d[f];g&&""!==g&&(a=h("#"+g).parent().data(l.attributes.SELECT_PAYMENT_PLAN).paymentOptionIndex,e="#"+b.disabledPaymentOptionSelecter+a,g=c.paymentOptionSelected.disabledPaymentOptionIds.indexOf(g),h(e).text("("+c.paymentOptionSelected.paymentOptionUnAvailableMsg[g]+
")"),e=b.comparePlansSelector.comparePlansPaymentOptionSelector+a,g=b.comparePlansSelector.comparePlansPaymentOptionWithLearnMoreSelector+a,h(b.comparePlansSelector.comparePlansButtonIdSelector+a).addClass(b.classes.auiDisabledButtonClass),h(g).addClass(b.classes.disabledPaymentOptionOrder),h(e).addClass(b.classes.disabledPaymentOptionClass),h("[id\x3d"+b.popOverText+a+"cell]").addClass(b.classes.popOverShowClass),h("[id\x3d"+b.popOverText+a+"cell]").removeClass(b.classes.popOverHideClass))}}var h=
a.$,p=b.selector;a.on("PageRefresh:ATF",function(){d.resetComparePlansState()});return{loadAjaxContent:function(f){var c=h("#twister-plus-asin").val();if(null===c||""===c)g.incrementWithValue("Ajax:Inconsistency:AsinEmpty",1),n();else if(d.getComparePlansState("isAjaxContentLoaded")&&!d.checkInconsistentState())r(f);else{var p=new g.Timer("Ajax:Loading:Time");p.start();h(b.comparePlansSelector.skeletonLoaderClass).removeClass("aok-hidden");h(b.comparePlansSelector.ajaxErrorMessageSelector).addClass("aok-hidden");
a.ajax("/gp/product/ajax?",{method:"get",timeout:1E4,params:{asin:c,showFeatures:"compareAllPlansSidesheetAjax,paymentOptions",experienceId:"paymentOptionsAjaxExperience"},success:function(a){null===a||/^\s*$/.test(a)?(g.incrementWithValue("Ajax:Inconsistency:EmptyResponse",1),n()):k(a,f.data)?n():(d.setComparePlansState("ajaxContent",a),d.setComparePlansState("isAjaxContentLoaded",!0),d.setComparePlansState("ajaxContentAsin",c),r(f),p.stop(),g.incrementWithValuePriceBlockMessaging(l.metrics.COMPARE_PLAN_RENDERED,
1))},error:function(a,f){f===b.ajaxErrorReasons.timeoutStatus?g.incrementWithValue("Ajax:Failure:Timeout",1):g.incrementWithValue("Ajax:Failure",1);n()}})}},renderPreselection:f}});"use strict";q.when("A").register("po-sidesheet-ajax-state",function(a){var d=a.$,c={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""},b={ajaxContent:"",isAjaxContentLoaded:!1,ajaxContentAsin:""};return{getComparePlansState:function(a){return c[a]},setComparePlansState:function(a,b){c[a]=b},getLearnMoreState:function(a){return b[a]},
setLearnMoreState:function(a,c){b[a]=c},checkInconsistentState:function(){if(c.isAjaxContentLoaded&&b.isAjaxContentLoaded){if(c.ajaxContentAsin!==b.ajaxContentAsin)return this.resetComparePlansState(),this.resetLearnMoreState(),!0;var a=d("#twister-plus-asin").val();if(c.ajaxContentAsin!==a)return this.resetComparePlansState(),this.resetLearnMoreState(),!0}return!1},resetComparePlansState:function(){this.setComparePlansState("ajaxContent","");this.setComparePlansState("isAjaxContentLoaded",!1);this.setComparePlansState("ajaxContentAsin",
"")},resetLearnMoreState:function(){this.setLearnMoreState("ajaxContent","");this.setLearnMoreState("isAjaxContentLoaded",!1);this.setLearnMoreState("ajaxContentAsin","")}}});"use strict";q.when("A","payment-options-state","po-compare-plans-actions","price-block-messaging-constants","payment-options-client-side-metric").register("ufo-compare-payment-plans",function(a,d,c,b,e){var g=a.$;a.declarative("compare-payment-plans","click",function(b){a.trigger("a:declarative:side-sheet:click",b);d.getWeblabData().isDesktopComparePlansAjaxEnabled?
a.trigger("a:declarative:compare-payment-plans-ajax:click",b):c.renderPreselection(b)});a.declarative("price-block-compare-payment-plans","click",function(g){e.incrementWithValuePriceBlockMessaging(b.metrics.COMPARE_PLAN_CLICK,1);a.trigger("a:declarative:open-payment-options-side-sheet:click",g);d.getWeblabData().isDesktopComparePlansAjaxEnabled?a.trigger("a:declarative:compare-payment-plans-ajax:click",g):(c.renderPreselection(g),e.incrementWithValuePriceBlockMessaging(b.metrics.COMPARE_PLAN_RENDERED,
1))});a.declarative("compare-payment-plans-ajax","click",function(a){c.loadAjaxContent(a)});a.declarative("overflow-sidesheet","click",function(b){var c=g(b.$currentTarget);c!==v&&null!==c&&(g("#"+b.data.paymentOptionSelectButtonId)[0].classList.contains("a-button-disabled")||a.trigger("a:declarative:monthly-payment-option-selection:click",b))})});"use strict";q.when("A","po-sidesheet-ajax-state","payment-options-constants","payment-options-state","payment-options-client-side-metric","payment-plan-state").register("po-learn-more-actions",
function(a,d,c,b,e,g){function l(){d.resetLearnMoreState();p(c.learnMoreSelector.skeletonLoaderClass).addClass("aok-hidden");p(c.learnMoreSelector.ajaxErrorMessageSelector).removeClass("aok-hidden")}function n(a,b){a=p(a);var f=r(),d=c.learnMoreSelector.preselectiedOptionSelector+"-"+f,h=c.learnMoreSelector.paymentOptionsCountSelector+"-"+f,g=c.learnMoreSelector.firsOfferIdSelector+"-"+f;return 0!==a.filter(c.learnMoreSelector.viewModelFailedSelector+"-"+f).length?(e.incrementWithValue("Ajax:Inconsistency:ViewModelFailed",
1),!0):0!==a.filter(d).length?(e.incrementWithValue("Ajax:Inconsistency:PreselectionPresent",1),!0):a.filter(h).data("paymentPlansCount")!==b.numberOfPaymentOptions?(e.incrementWithValue("Ajax:Inconsistency:OffersCountNotSame",1),!0):a.filter(g).data("firstOfferId")!==b.firstOfferId?(e.incrementWithValue("Ajax:Inconsistency:OfferIdNotSame",1),!0):!1}function k(b,f,h){p(c.learnMoreSelector.learnMoreSidesheetSelector).html(d.getLearnMoreState("ajaxContent"));h=c.learnMoreSelector.learnMoreContentSelector+
"-"+h;h+=r();p(h).removeClass("aok-hidden");a.loadDescendantImagesManually(p(".payment-options-side-sheet-header"));a.loadDescendantImagesManually(p(".payment-options-side-sheet-option-summary"));a.loadDescendantImagesManually(p(".payment-options-side-sheet-comparison-group-container"));a.loadDescendantImagesManually(p(".payment-options-comparison-sheet-comparison-card-option"));m(b,f)}function r(){return a.$("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0}function m(a,
b){f(g.paymentOptionSelected.paymentOptionSelectedButtonId,a,b)}function f(a,b,f){h(b);p(function(){p("[id\x3d"+a+"]").removeClass(u.unselectedButton);p("[id\x3d"+a+"]").addClass(u.selectedButton);p("[id\x3d"+a+"]").children(0).children(0).text(f);p("[id\x3d"+a+"]").text(f)})}function h(a){p(u.sideSheetButton).removeClass(u.selectedButton);p(u.sideSheetButton).addClass(u.unselectedButton);p(u.sideSheetButton).text(a);p(u.oneTimePaymentHeadButton).removeClass(u.selectedButton);p(u.oneTimePaymentHeadButton).addClass(u.unselectedButton);
p(u.oneTimePaymentHeadButton).text(a)}var p=a.$,u=c.selector;a.on("PageRefresh:ATF",function(){d.resetLearnMoreState()});return{loadAjaxContent:function(b){var f=b.data.selectText,h=b.data.selectedText,g=p("#twister-plus-asin").val();null===g||""===g?(e.incrementWithValue("Ajax:Inconsistency:AsinEmpty",1),l()):d.getLearnMoreState("isAjaxContentLoaded")&&!d.checkInconsistentState()?k(f,h,b.data.index):(p(c.learnMoreSelector.skeletonLoaderClass).removeClass("aok-hidden"),p(c.learnMoreSelector.ajaxErrorMessageSelector).addClass("aok-hidden"),
a.ajax("/gp/product/ajax?",{method:"get",timeout:1E4,params:{asin:g,showFeatures:"paymentOptionsLearnMoreSidesheetAjax,paymentOptions",experienceId:"paymentOptionsAjaxExperience"},success:function(a){null===a||/^\s*$/.test(a)?(e.incrementWithValue("Ajax:Inconsistency:EmptyResponse",1),l()):n(a,b.data)?l():(d.setLearnMoreState("ajaxContent",a),d.setLearnMoreState("isAjaxContentLoaded",!0),d.setLearnMoreState("ajaxContentAsin",g),k(f,h,b.data.index))},error:function(a,b){b===c.ajaxErrorReasons.timeoutStatus?
e.incrementWithValue("Ajax:Failure:Timeout",1):e.incrementWithValue("Ajax:Failure",1);l()}}))},stopEventPropagation:function(a){a.$event.preventDefault();a.$event.stopImmediatePropagation()},preRenderSelectedFinancingOption:m}});"use strict";q.when("A","payment-options-state","po-learn-more-actions","payment-options-client-side-metric").register("payment-options-learn-more-events",function(a,d,c,b){a.declarative("payment-options-learn-more","click",function(e){b.increment("SideSheet:Link:Click");
c.stopEventPropagation(e);a.trigger("a:declarative:side-sheet:click",e);!e.data.isComparePlansEvent&&d.getWeblabData().isDesktopLearnMoreAjaxEnabled?a.trigger("a:declarative:payment-options-learn-more-ajax:click",e):c.preRenderSelectedFinancingOption(e.data.selectText,e.data.selectedText)});a.declarative("payment-options-learn-more-ajax","click",function(a){c.loadAjaxContent(a)})});"use strict";q.when("A","payment-options-expander-actions","payment-options-expander-state","payment-options-client-side-metric",
"multi-card-exp-payment-options").execute(function(a,d,c,b,e){function g(a){if(f===v||null===f||null===a.data.isExpand||a.data.isExpand===v){if(null===a.data.isExpand||a.data.isExpand===v)k("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isExpand=!1,a.data.isExpand=!1;d.initSubtitle(a);n()&&d.hideLoaderAnimation(a.data.isExpand,a.data.renderPreselection,!0,!1)}}function l(a){f=!0;var g=a.data.isAutoExpand,e=a.data.renderPreselection,l=a.data.isSwatchAjaxFailed,m=
n();c.autoScroll=!g;e||m?d.expandPaymentOptions(m,e,l):(h.isStarted||h.start(),d.expandSkeletonLoader(e,l));b.logNexusEventForSwatchExpansion(a)}function n(){return k("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isLoaded}var k=a.$,r=e.expTreatment,m=e.isFirstCard&&"T1"===r||"T2"===r||"T3"===r,f,h=new b.Timer("Desktop:Expander:Loading:UserWaiting:Time");a.declarative("toggle-payment-options-expander","click",function(c){g(c);f=c.data.isExpand;var h=c.data.renderPreselection,
e=k("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isSwatchAjaxFailed;!0===f?(f=!1,b.increment("Desktop:Expander:Click:Collapse"),d.collapsePaymentOptions(h)):!1===f&&l(c);k("[data-toggle-payment-options-expander]").each(function(){k(this).data("toggle-payment-options-expander").isExpand=f});e||a.trigger("a:declarative:expander-update-visible-payment-options:click",c)});a.declarative("expand-payment-options-expander",function(a){if(!r||a.data.forceExpand)g(a),l(a),
k("[data-toggle-payment-options-expander]").each(function(){k(this).data("toggle-payment-options-expander").isExpand=!0})});m&&e.autoExpandCard()});"use strict";q.when("A","payment-options-expander-state","payment-options-constants","payment-options-client-side-metric","payment-options-swatch-actions","cc-manager").register("payment-options-expander-actions",function(a,d,c,b,e,g){function l(){if(d.autoScroll){var a=m(f.expanderContainer),b=a.offset().top+a.outerHeight();if(m(w).scrollTop()+m(w).height()<
b){var b=a.offset().top,c=m(w).height(),a=a.height(),a=b-(c-a)/2;m("html, body").animate({scrollTop:a},d.animationTimeoutUnit)}}}function n(a,b,d){a=k(a,b,d);m(f.subtitleText).text(a);!1===b&&m(f.cardImage).fadeOut(c.animationTimeoutUnit)}function k(a,b,f){var c=h.monthlyPaymentOptionsExpandedSubtitle;if(b)return c;a||(c=f||m("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").isSwatchAjaxFailed?h.ajaxFailureSubtitle:h.loadingSubtitle);return c}function r(a){""!==h.monthlyPaymentOptionsCollapsedSubtitle&&
m(f.subtitleText).text(h.monthlyPaymentOptionsCollapsedSubtitle);!1===a&&m(f.cardImage).fadeIn(c.animationTimeoutUnit)}var m=a.$,f=c.selector,h=d.expanderSubtitle;return{initSubtitle:function(a){var b=a.data.expandSubtitle,f=a.data.expandLoadingSubtitle,c=a.data.ajaxFailureSubtitle;h.monthlyPaymentOptionsCollapsedSubtitle=a.data.collapseSubtitle;h.monthlyPaymentOptionsExpandedSubtitle=b;h.loadingSubtitle=f;h.ajaxFailureSubtitle=c},expandPaymentOptions:function(d,h,e){b.increment("Desktop:Expander:Click:Expand");
b.increment("Desktop:Expander:Click:Expand:loading");m(f.expanderContent).addClass(f.paymentOptionExpand);m(f.expanderIcon).addClass("rotate");g.cardExpanded(c.featureRegistration.featureName);a.delay(function(){m(f.swatch).addClass(f.twisterPlusFadeIn);n(d,h,e);l()},c.animationTimeoutUnit);a.$(f.refreshToggle).hasClass("refresh-toggle")||a.$(f.refreshCCText).removeClass("a-hidden")},expandSkeletonLoader:function(d,h){b.increment("Desktop:Expander:Click:Expand");m(f.expanderContent).addClass(f.skeletonLoaderExpand);
m(f.expanderIcon).addClass("rotate");g.cardExpanded(c.featureRegistration.featureName);a.delay(function(){d||(m(f.skeletonLoader).addClass(f.twisterPlusFadeIn),n(!1,d,h),l())},c.animationTimeoutUnit)},hideLoaderAnimation:function(b,d,h,g){b&&m(f.skeletonLoader).removeClass(f.twisterPlusFadeIn);a.delay(function(){m(f.skeletonLoader).hide();m(f.swatch).removeClass("invisible");b&&(m(f.subtitleText).text(k(h,d,g)),m(f.expanderContent).addClass(f.paymentOptionExpand),a.delay(function(){m(f.swatch).addClass(f.twisterPlusFadeIn);
n(h,d,g);l()},c.animationTimeoutUnit))},c.animationTimeoutUnit)},collapsePaymentOptions:function(b){m(f.swatch).removeClass(f.twisterPlusFadeIn);d.isLoaded||b||m(f.skeletonLoader).removeClass(f.twisterPlusFadeIn);m(f.expanderIcon).removeClass("rotate");a.delay(function(){m(f.expanderContent).removeClass(f.paymentOptionExpand);m(f.expanderContent).removeClass(f.skeletonLoaderExpand);r(b)},c.animationTimeoutUnit);a.$(f.refreshCCText).hasClass("a-hidden")||a.$(f.refreshCCText).addClass("a-hidden")},
showSubtitleInCollapsedView:r,showSubtitleInExpandedView:n,scrollToShowCompleteExpander:l}});"use strict";q.when("A","payment-options-state","payment-options-client-side-metric","cc-manager","payment-options-constants","payment-options-actions").register("payment-options-auto-expand",function(a,d,c,b,e){var g=!1,l=function(){var l=document.getElementById("payment-options-expander-header"),k=d.getWeblabData().isAutoExpandWeblabInT1||d.getWeblabData().isAutoExpandWeblabInT2;if(l){if(l=k)l=b.getRenderedFeaturesList(),
k=l[0]===e.featureRegistration.featureName,l=1===l.length&&k;l&&(l=JSON.parse(a.$("[data-toggle-payment-options-expander]").attr("data-toggle-payment-options-expander")),l.isAutoExpand=!0,a.trigger("a:declarative:expand-payment-options-expander",{data:l}),c.increment("Expander:AutoExpanded"),g=!0)}};l();a.on("a:pageUpdate",l);return{isAutoExpanded:g}});"use strict";q.when("A").register("payment-options-expander-state",function(a){return{expanderSubtitle:{monthlyPaymentOptionsCollapsedSubtitle:"",
monthlyPaymentOptionsExpandedSubtitle:"",loadingSubtitle:"",ajaxFailureSubtitle:""},get isLoaded(){return this.property},set isLoaded(a){this.property=a}}});"use strict";q.when("A","payment-options-swatch-actions","payment-options-client-side-metric","multi-card-exp-payment-options").execute(function(a,d,c,b){var e=a.$,g=!b.expTreatment||"T3"===b.expTreatment;a.declarative("payment-options-otp-action","click",function(l){c.increment("Swatch:OneTimePayment:Click");a.trigger("a:declarative:select-payment-option:click",
{data:{}});var n=e(l.$currentTarget);n!==v&&null!==n&&(d.updateDefaultOptionSubtitle(l.data.defaultPOSubtitle,l.data.oneTimePaymentPOSubtitle),a.trigger("a:declarative:otp-selection:click",l),g||b.collapseCard())});a.declarative("payment-options-monthly-payment-action","click",function(d){var n=e(d.$currentTarget);n!==v&&null!==n&&(a.trigger("a:declarative:monthly-payment-option-selection:click",d),g||b.collapseCard(),c.logNexusEventForMonthlyPaymentSelection(d))});a.declarative("payment-options-overflow",
"click",function(a){d.manageOverflow(a)});a.declarative("expander-update-visible-payment-options","click",function(a){var b=e(a.$currentTarget);b!==v&&null!==b&&d.resetOverflowDefaultOptions(a)});a.declarative("update-swatch","click",function(a){"oneTimePaymentOption"===a.data.selectedPaymentOptionId?d.updateSwatchStyle(a.data.selectedPaymentOptionId):(d.updateSwatchStyle(a.data.selectedPaymentOptionId),d.updateFinancingOptionSubtitle(a.data.subtitleMessage,a.data.cardImageUrl))});a.declarative("disable-swatch",
"click",function(a){d.disableSwatch(a.$currentTarget)});a.declarative("enable-swatch","click",function(a){d.enableSwatch(a.$currentTarget)})});"use strict";q.when("A","payment-options-expander-state","payment-options-constants","payment-plan-state").register("payment-options-swatch-actions",function(a,d,c,b){function e(a){n(k.swatchOption).removeClass(k.selectedOption);("oneTimePaymentOption"===a?n(k.oneTimePaymentOption):n("#"+a+"Swatch")).addClass(k.selectedOption)}function g(a){a.addClass(r.hideSwatchMainViewClass)}
function l(a,c){a.removeClass(r.hideSwatchMainViewClass);e(c);b.paymentOptionSelected.paymentOptionSelectedButtonId=c;b.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0}var n=a.$,k=c.selector,r=c.classes,m=d.expanderSubtitle;return{updateSwatchStyle:e,updateDefaultOptionSubtitle:function(a,b){m.monthlyPaymentOptionsCollapsedSubtitle=a;m.monthlyPaymentOptionsExpandedSubtitle=b;n(k.subtitleText).text(b);n(k.subtitle).removeClass("a-color-success");n(k.subtitle).addClass("a-color-tertiary");
n(k.checkmark).addClass("a-hidden");n(k.cardImage).attr("src","https://images-na.ssl-images-amazon.com/images/G/01/x-locale/common/transparent-pixel._V192234675_.gif")},updateFinancingOptionSubtitle:function(a,b){m.monthlyPaymentOptionsCollapsedSubtitle=a;m.monthlyPaymentOptionsExpandedSubtitle=a;n(k.subtitleText).text(a);n(k.subtitle).removeClass("a-color-tertiary");n(k.subtitle).addClass("a-color-success");n(k.checkmark).removeClass("a-hidden");n(k.cardImage).attr("src",b)},disableSwatch:function(a){var b=
a.find(k.financingOptions);b.removeClass(k.selectedOption);b.addClass(k.unavailableOption);a.addClass(k.disabledSwatch)},enableSwatch:function(a){a.find(k.financingOptions).removeClass(k.unavailableOption);a.removeClass(k.disabledSwatch)},manageOverflow:function(a){b.paymentOptionSelected.paymentOptionUnAvailableMsg=a.data.unAvailableMsg;var c=n("#"+a.data.paymentOptionSelectButtonId+"Swatch").parent().parent().parent();if(c.hasClass(r.hideSwatchMainViewClass)){for(var d=n(r.paymentOptionsList)[0].children,
m="",k=d.length-2;0<=k;k--)if(!n(d[k]).hasClass(r.hideSwatchMainViewClass)){m=n(d[k]);break}g(m);l(c,a.data.paymentOptionSelectButtonId)}else e(a.data.paymentOptionSelectButtonId),b.paymentOptionSelected.paymentOptionSelectedButtonId=a.data.paymentOptionSelectButtonId,b.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0},hideLastSwatch:g,unhideCorrespondingSwatch:l,resetOverflowDefaultOptions:function(a){if(!(3>=parseInt(a.data.numberOfPaymentOptions))){var b=n(r.paymentOptionsList)[0].children;
a="";for(var c=b.length-2;0<=c;c--)if(!n(b[c]).hasClass(r.hideSwatchMainViewClass)){a=n(b[c]);break}b=n(n(n(a.children()[0]).children()[0]).children()[0])[0];b.classList.contains(k.selectedOption)||"3"===b.id.match(/\d+/g)[0]||(g(a),n("#monthlyPaymentOption03Swatch").parent().parent().parent().removeClass(r.hideSwatchMainViewClass))}}}});"use strict";q.when("A").register("payment-plan-state",function(a){return{paymentOptionSelected:{paymentOptionSelectedButtonId:"oneTimePaymentOption",paymentOptionClickedFromSideSheet:!1,
paymentOptionDisabledButtonId:"",paymentOptionDisabledTitleSuppliment:"",paymentOptionUnAvailableMsg:""},get isSelected(){return this.property},set isSelected(a){this.property=a}}});"use strict";q.when("A","payment-plan-state","payment-options-constants","payment-options-client-side-metric").execute(function(a,d,c,b){var e=a.$;a.declarative("otp-selection","click",function(c){var l=e(c.$currentTarget[0].parentNode);c=c.data.paymentOptionSelectButtonId;"payment-options-list-item"===l[0].parentNode.className?
d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(b.increment("SideSheet:OneTimePayment:Click"),d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);d.paymentOptionSelected.paymentOptionSelectedButtonId=c;a.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:d.paymentOptionSelected.paymentOptionSelectedButtonId}})});a.declarative("monthly-payment-option-selection","click",function(c){c.data.hasOwnProperty("optionId")&&""!==c.data.optionId&&b.increment("Swatch:Financing:"+
c.data.optionId+":Click");a.trigger("a:declarative:select-payment-option:click",c);var l=e(c.$currentTarget);if(l!==v&&null!==l){var l=c.data.posubtitle,n=c.data.cardImageUrl,k=e(c.$currentTarget[0].parentNode),r=c.data.paymentOptionSelectButtonId;"payment-options-list-item"===k[0].parentNode.className?d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!1:(c.data.hasOwnProperty("optionId")&&""!==c.data.optionId?b.increment("SideSheet:Financing:"+c.data.optionId+":Click"):b.increment("SideSheet:Financing:"+
c.data.executionInfo.offerType+":"+c.data.termType+":"+c.data.termCount+":Click"),d.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0);d.paymentOptionSelected.paymentOptionSelectedButtonId=r;a.trigger("a:declarative:update-swatch:click",{data:{selectedPaymentOptionId:d.paymentOptionSelected.paymentOptionSelectedButtonId,subtitleMessage:l,cardImageUrl:n}});a.trigger("a:declarative:payment-options-overflow:click",c)}});a.declarative("compare-payment-plans-disable","click",function(a){d.paymentOptionSelected.paymentOptionUnAvailableMsg=
a.data.paymentOptionUnAvailableMsg;a=a.data.disabledPaymentOptionId;var b=a.match(/\d+/g)[0],b="#"+c.disabledPaymentOptionSelecter+b;d.paymentOptionSelected.paymentOptionDisabledButtonId=a;d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment=e(b).text()});a.declarative("compare-payment-plans-enable","click",function(a){(a=a.data.enablePaymentOptionId)&&""!==a&&(a=a.match(/\d+/g)[0],d.paymentOptionSelected.paymentOptionDisabledButtonId="",e("#"+c.disabledPaymentOptionSelecter+a).text(d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment),
d.paymentOptionSelected.paymentOptionDisabledTitleSuppliment="",e("[id\x3d"+c.popOverText+a+"cell]").removeClass(c.classes.popOverShowClass),e("[id\x3d"+c.popOverText+a+"cell]").addClass(c.classes.popOverHideClass))})});"use strict";q.when("A","cc-payment-options","payment-options-client-side-metric").execute(function(a,d,c){a.declarative("payment-options-emp-action","change",function(a){d.updatePaymentOptionSelection(a.data)});var b=a.debounce(function(){var b=a.$,d=b("#PaymentOptionsEmpAction");
0<d.length&&d.trigger("change");0<b("#monthly-payments-not-applicable").length&&c.increment("Container:Render:Error");0<b(".payment-options-container").length&&c.increment("Container:Render:Success")},100);b();a.on("a:pageUpdate",b)});"use strict";q.when("A","price-block-payment-options","payment-options-client-side-metric","price-block-messaging-constants","price-block-link-event-listener","ready").execute(function(a,d,c,b){var e=a.$;a.declarative("payment-options-emp-action-priceblock","change",
function(a){d.updateUfoSelection(a.data)});var g=a.debounce(function(){var d=e("#PaymentOptionsEmpActionPriceBlock");0<d.length&&d.trigger("change");0<e("#monthly-payments-not-applicable").length&&c.incrementWithValuePriceBlockMessaging(b.metrics.RENDERED_FALSE,1);0<e(b.selector.PRICE_BLOCK_CONTAINER_CLASS).length&&c.incrementWithValuePriceBlockMessaging(b.metrics.RENDERED_TRUE,1);(d=e(".price-block-msg").closest("span.a-declarative").data("payment-option-open-compare-plan"))&&d.isMobileComparePlansAjaxEnabled&&
(d.onPageLoad=!0,a.trigger("a:declarative:payment-option-open-compare-plan:click",{$target:e(".price-block-msg"),data:d}),d.onPageLoad=!1)},100);g();a.on("a:pageUpdate",g)});"use strict";q.when("A","payment-options-client-side-metric","cc-payment-options","payment-options-constants").execute(function(a,d,c,b){var e=a.$;d=new d.Timer("Expander:Loading:Images:Time");d.start();c=function(){a.loadDescendantImagesManually(e(".payment-options-financing-option-card-image"));a.loadDescendantImagesManually(e(".payment-options-expander-heading-image-container"));
a.loadDescendantImagesManually(e(".payment-option-detailed-feature-scroll"));a.loadDescendantImagesManually(e(".payment-options-side-sheet-header"));a.loadDescendantImagesManually(e(".payment-options-side-sheet-option-summary"));a.loadDescendantImagesManually(e(".payment-options-side-sheet-comparison-group-container"));a.loadDescendantImagesManually(e(".payment-options-comparison-sheet-comparison-card-option"))};c();a.on("a:pageUpdate",c);d.stop()});"use strict";q.when("A","payment-options-swatch-actions",
"payment-options-constants","payment-options-state","cc-manager").execute(function(a,d,c,b,e){function g(a){var b=a.executionInfo;b.cartType=c.parameters.cartTypes.addToCart;return{itemType:c.parameters.itemType,price:a.price,selectionType:c.parameters.selectionType.ADD,enableIA:!1,priceAndTermCountDisplayString:a.priceAndTermCountDisplayString,interestDisplayString:a.interestDisplayString,interestAmount:a.interestAmount,orderSummaryDisplayString:a.orderSummaryDisplayString,invalidSelectionTitle:a.cardName,
isOrderLevel:!0,bottomSheetFootnoteDisplayString:a.bottomSheetFootnoteDisplayString,termCount:a.termCount,termType:a.termType,maxQuantity:a.maxQuantity,displayQuantityMessage:!0,formData:[{inputType:c.paymentOfferInputElement.inputType,inputName:c.paymentOfferInputElement.name,inputValue:b}]}}var l=a.$,n=c.selector,k=c.featureRegistration.featureName,r;a.on("a:dropdown:selected:quantity",function(m){var f=l("#buyBoxAccordion .a-accordion-active").attr("data-buying-option-index")||0,h=l("#paymentOption_"+
f+" .payment-options-list-item"),f=l("#paymentOption_"+f+" #oneTimePaymentOptionSwatch");m=m.value;for(var p=a.$(c.classSelector+n.selectedOption).closest(".payment-options-list-item").find("span.a-declarative").data(n.monthlyPaymentAction),u=1;u<h.length;u++){var x=h.eq(u).find("span.a-declarative").data(n.monthlyPaymentAction),t=x.maxQuantity;t&&(m>t?(d.disableSwatch(h.eq(u)),t={data:{paymentOptionUnAvailableMsg:x.unAvailableText,numberOfPaymentOptions:x.numberOfPaymentOptions,disabledPaymentOptionId:x.paymentOptionSelectButtonId}},
b.getWeblabData().isComparePlansRefactorWeblabInT1?a.trigger("a:declarative:compare-payment-plans-disable:click",t):d.disableOptionInCompareAllPlans(t),p&&x.offerGroup===p.offerGroup&&(l(f).click(),e.ccRemovedSelectionUpdate(k,g(x)),r=x.offerGroup)):(d.enableSwatch(h.eq(u)),b.getWeblabData().isComparePlansRefactorWeblabInT1?a.trigger("a:declarative:compare-payment-plans-enable:click",{data:{enablePaymentOptionId:x.paymentOptionSelectButtonId}}):d.enableOptionInCompareAllPlans(x.numberOfPaymentOptions),
r&&x.offerGroup===r&&(l(".tp-bbm-info-message-quantity-restriction-container").hasClass("tp-bbm-info-message-displayable")&&a.trigger("a:declarative:payment-options-monthly-payment-action:click",{$currentTarget:h.eq(u).find("span.a-declarative"),data:x}),e.ccRemovedSelectionsClear(k))))}})});"use strict";q.when("A","payment-options-constants","price-block-message-actions","price-block-messaging-constants","comparison-plans-state","price-block-payment-options").execute(function(a,d,c,b,e,g){function l(a){if(a=
c.getTopEnabledOfferButton(a))return a.parent().data(b.attributes.SELECT_PAYMENT_PLAN).paymentOptionSelectButtonId}function n(a,d,l){h&&a.find(b.ID_PREFIX+h).length?e.paymentOptionSelected.disabledPaymentOptionIds.includes(h)?(a={},a[r.MAX_QUANTITY_VARIABLE]=k(b.ID_PREFIX+h).parent().data(b.attributes.SELECT_PAYMENT_PLAN).maxQuantity+1,c.showErrorMessage(b.errorMessageType.PLAN_UNAVAILABLE_OVER_MAX_QUANTITY,d,!0,a),g.cancelUfoSelection()):k(b.ID_PREFIX+h).click():f&&f!==m?c.resetPriceBlockMessageWithTopEligibleOffer(d):
1===l.length&&e.paymentOptionSelected.disabledPaymentOptionIds.includes(m)&&(a={},a[r.MAX_QUANTITY_VARIABLE]=k(b.ID_PREFIX+m).parent().data(b.attributes.SELECT_PAYMENT_PLAN).maxQuantity+1,c.showErrorMessage(b.errorMessageType.PLAN_UNAVAILABLE_OVER_MAX_QUANTITY,d,!0,a))}var k=a.$,r=b.selector,m,f,h,p;a.on("a:dropdown:selected:quantity",function(c){p=k(r.ACTIVE_ACCORDION).data("buyingOptionIndex")||0;var g=c.value;c=k(r.COMPARE_PLAN_SHEET_ID_PREFIX+p);var t=k(r.COMPARE_PLAN_SHEET_PREFIX+p).find(b.CLASS_PREFIX+
b.classes.COMPARE_PLAN_TABLE_PAYMENT_DETAILS_ROW);m=l(c);var q=k(r.PRICE_BLOCK_CONTAINER_PREFIX+p);k.each(t,function(c,f){c=k(f).find(r.COMPARE_PLAN_BUTTON_CLASS).parent().data(b.attributes.SELECT_PAYMENT_PLAN);f=c.maxQuantity;var h=c.paymentOptionSelectButtonId;f&&(g>f?(f=c.unAvailableMsg,h=c.paymentOptionSelectButtonId,c=b.ID_PREFIX+d.disabledPaymentOptionSelecter+c.paymentOptionIndex,a.contains(e.paymentOptionSelected.disabledPaymentOptionIds,h)||(e.paymentOptionSelected.paymentOptionUnAvailableMsg.push(f),
e.paymentOptionSelected.disabledPaymentOptionIds.push(h),e.paymentOptionSelected.paymentOptionDisabledTitleSupplement.push(k(c).text()))):e.paymentOptionSelected.disabledPaymentOptionIds.includes(h)&&(f=c.paymentOptionIndex,(c=c.paymentOptionSelectButtonId)&&""!==c&&a.contains(e.paymentOptionSelected.disabledPaymentOptionIds,c)&&(c=e.paymentOptionSelected.disabledPaymentOptionIds.indexOf(c),e.paymentOptionSelected.disabledPaymentOptionIds.splice(c,1),k(b.ID_PREFIX+d.disabledPaymentOptionSelecter+
f).text(e.paymentOptionSelected.paymentOptionDisabledTitleSupplement[c]),e.paymentOptionSelected.paymentOptionDisabledTitleSupplement.splice(c,1),e.paymentOptionSelected.paymentOptionUnAvailableMsg.splice(c,1),k("[id\x3d"+d.popOverText+f+"cell]").removeClass(d.classes.popOverShowClass),k("[id\x3d"+d.popOverText+f+"cell]").addClass(d.classes.popOverHideClass))))});f=l(c);h=e.paymentOptionSelected.paymentOptionSelectedButtonId;n(c,q,t)})});"use strict";q.when("A","payment-options-registration","payment-options-expander-actions",
"payment-options-client-side-metric","payment-options-constants").execute("payment-options-desktop-ajax",function(a,d,c,b,e){function g(){if(0!==p("[id^\x3dpaymentOption_]").length){var c=l(),d=c.asin,g=new b.Timer("Ajax:Desktop:Loading:Time");g.start();a.ajax("/gp/product/ajax?",{method:"get",timeout:1E4,params:c,success:function(a){var c=p("[id^\x3dpaymentOption_]");if(!f(d))if(null===a||/^\s*$/.test(a))f(d)||(c.each(function(){m(p(this),d)}),b.incrementWithValue("Ajax:Desktop:EmptyResponse",1),
h("Ajax Desktop call returns Empty Response for asin "+d,"Ajax:Desktop:EmptyResponse"));else{p("#paymentOption_0").parent().append('\x3cdiv id\x3d"payment-option-ajax-container" class\x3d"a-hidden"/\x3e');p("#payment-option-ajax-container").html(a);var e=!1,l=!1;c.each(function(){if(0!==p(this).find("#payment-options-ajax-placeholder").length){var a=p(this).find("#payment-option-first-offer-id").text(),c=p("#payment-option-ajax-container").find("#"+p(this).attr("id"));if(0===c.find("#payment-options-container").length)h("Ajax Desktop response has no offers for current buying option for asin: "+
d+". First OfferId for initial page load is: "+a,"Ajax:Desktop:Inconsistency:noOfferReturned"),e||f(d)||(b.incrementWithValue("Ajax:Desktop:Inconsistency:noOfferReturned",1),e=!0),m(p(this),d);else{var g=c.find("#payment-option-first-offer-id-ajax").text();g!==a?(h("Ajax Desktop Response first offer Id, "+g+", is different than the Initial Page Load first offer id, "+a+", for asin: "+d,"Ajax:Desktop:Inconsistency:differentFirstOffer"),l||f(d)||(b.incrementWithValue("Ajax:Desktop:Inconsistency:differentFirstOffer",
1),l=!0),m(p(this),d)):(a=p(this).find("#payment-options-ajax-placeholder"),c=c.find("#payment-options-ajax-data").html(),a.html(c),c=p(this).find("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander"),c.isLoaded=!0,c.isSwatchAjaxFailed=!1)}}});p("#payment-option-ajax-container").remove();n();k();g.stop();r()}},error:function(a,c){a=p("[id^\x3dpaymentOption_]");f(d)||(a.each(function(){m(p(this),d)}),c===e.ajaxStatusText.timeout?(b.incrementWithValue("Ajax:Desktop:Failure:Timeout",
1),h("Ajax Desktop Call Failed with timeout for asin, "+d+", with status: "+c,"Ajax:Desktop:Failure:Timeout")):(b.incrementWithValue("Ajax:Desktop:Failure",1),h("Ajax Desktop call failed for asin, "+d+", with status: "+c,"Ajax:Desktop:Failure")))}})}}function l(){var a={showFeatures:"paymentOptionsDesktopAjax,paymentOptions",experienceId:"paymentOptionsAjaxExperience"};a.asin=p("#twister-plus-asin").val();var b=p("#payment-options-request-parameters").get(0);if(b){var b=JSON.parse(b.getAttribute("data-ajax-request-parameters")),
c;for(c in u)if(c){var d=u[c];b.hasOwnProperty(d)&&0!==b[d].length&&(a[c]=b[d])}}return a}function n(){e.imagesToLoad.forEach(function(b){a.loadDescendantImagesManually(p(b))})}function k(){var a=!1,b=p("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander");b.isExpand&&(a=!0,c.hideLoaderAnimation(!0,b.renderPreselection,b.isLoaded,b.isSwatchAjaxFailed));a||c.hideLoaderAnimation(!1,b.renderPreselection,b.isLoaded,b.isSwatchAjaxFailed)}function r(){var a=p("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander").userWaitingTimer;
a!==v&&null!==a&&a.isStarted&&b.incrementWithValue("Desktop:Expander:Loading:UserWaiting:Time",Date.now()-a.startTime)}function m(a,b){f(b)||0===a.find("#payment-options-ajax-placeholder").length||(b=a.find("[data-toggle-payment-options-expander]").data("toggle-payment-options-expander"),b.isExpand&&a.find("#payment-options-subtitle").text(b.ajaxFailureSubtitle),a.find(".payment-option-skeleton-loader").hide(),b.isSwatchAjaxFailed=!0)}function f(a){return 0===p("[id^\x3dpaymentOption_]").length||
p("#twister-plus-asin").val()!==a}function h(a,c){try{w.ueLogError&&w.ueLogError({message:a,attribution:c,logLevel:"ERROR"})}catch(d){b.incrementWithValue("Ajax:Desktop:LogErrorFailed",1)}}var p=a.$,u={merchantId:"EXCLUSIVE_MERCHANT_ID",preselectedMerchantId:"PRESELECTED_MERCHANT_ID"};d=a.debounce(g,1500);a.on("PageRefresh:ATF",d);g()});"use strict";q.when("A","payment-options-constants").register("payment-options-state",function(a,d){function c(){if(!e||0===Object.keys(e).length){var a=b(d.selector.paymentOptionsWeblabs).attr(d.selector.paymentOptionsWeblabsAttribute);
a&&(e=JSON.parse(a))}return e}var b=a.$,e={};a={getWeblabData:c};c();return a});"use strict";q.when("A","ready").register("price-block-messaging-constants",function(a){return{UNKNOWN:"UNKNOWN",PAYMENT_OFFER_INFO_TYPE:"paymentOfferInfoType",PAYMENT_OFFER_INFO_FIELD:"paymentOfferInfo",BLANK_STRING:"",ID_PREFIX:"#",CLASS_PREFIX:".",ONE_TIME_PAYMENT_OPTION_ID:"oneTimePaymentOption",parameter:{cartTypes:{addToCart:"ADD_TO_CART",buyNow:"BUY_NOW"}},deviceType:{WEB:"web",MOBILE_WEB:"mobile",MOBILE_APP:"mobileApp"},
paymentOfferInputElement:{inputType:"hidden",poiFieldPlaceholder1:"paymentOfferInfo",poiFieldPlaceholder2:"items[0.base][additionalParameters][paymentOfferInfo]",poiIHIFiledPlaceholder1:"items[0.base][additionalParameters][installments][programId]",poiIHIFiledPlaceholder2:"isInstallmentsChecked",poiIHIFiledPlaceholder3:"installments-check",poiIHIFiledPlaceholder4:"installments-programId"},selector:{priceBlockMessageSinglePlanUnavailableMsg:"priceBlockMessageSinglePlanUnavailable",BUYBOX_ACCORDION:"#buybox .a-accordion",
ADD_TO_CART_BUTTON_ID:"#add-to-cart-button, #installments-button, #add-to-cart-button-ubb-mobile, #pickup-add-to-cart-button",BUYNOW_BUTTON_ID:"#buy-now-button",ACCORDION_ROW_CLASS:".accordion-row",DECLARATIVE_CLASS:".a-declarative",DATA_ATTRIBUTE_ACTION:"action",OFFER_DISPLAY_GROUP:"#offerDisplayGroup",MOBILEAPP_TABS_ELEMENT_ID:"[id^\x3dtab_mobileapp_buybox_group]",TAB_GROUP_NAME:"data-csa-c-content-id",BUYBOX_TAB_ACTIVE:"#buybox .a-tab-heading.a-active",NO_TABS_GROUP_DESKTOP:"#buybox div:first-child",
NO_TABS_GROUP_MOBILE:"#buybox div:first-child div:first-child",DEFAULT_WEB_GROUP_NAME:"desktop_buybox_group_1",DEFAULT_MOBILE_WEB_GROUP_NAME:"mobile_buybox_group_1",DEFAULT_MOBILE_APP_GROUP_NAME:"mobileapp_buybox_group_1",PAYMENT_OFFER_INPUTS_CLASS:".paymentOfferInputs",PAYMENT_OFFER_INPUTS_CLASS_NAME:"paymentOfferInputs",COMPARE_PLAN_SHEET_PREFIX:"#side_sheet_comparisonPlan_content-",SELECT_BUTTON_CLASS_PREFIX:".monthlyPaymentOption-",PRICE_BLOCK_CONTAINER_PREFIX:"#price-block-container-",PRICE_BLOCK_CONTAINER_CLASS:".price-block-container",
COMPARE_PLAN_SHEET_ID_PREFIX:"#side_sheet_comparisonPlan_content-",COMPARE_PLAN_SHEET_CLASS:".payment-options-comparison-sheet-layout",COMPARE_PLAN_BUTTON_CLASS:".payment-option-side-sheet-select-button",COMPARE_PLAN_SELECTED_BUTTON_CLASS:".payment-option-side-sheet-comparison-button-selected",COMPARE_PLAN_CONFIRM_PLAN_LAYOUT:".payment-option-compare-confirm-button",COMPARE_PLAN_CANCEL_PLAN_LAYOUT:".payment-option-cancel-plan-layout",CONFIRM_PLAN_BUTTON_CLASS:".payment-option-confirm-button",CANCEL_PLAN_BUTTON_ID:"#price-block-cancel-plan-button",
COLUMN_ID_PREFIX:"#monthly-payment-option-column-",COMPARE_PLAN_COLUMN_CLASS:".payment-option-table-column",COMPARE_PLAN_NORMAL_HEADER:".payment-option-compare-sheet-head",COMPARE_PLAN_CONFIRM_HEADER:".payment-option-compare-plan-confirm-layout",COMPARE_PLAN_CONFIRM_HEADER_TEXT:".payment-option-compare-confirm-text",POPOVER_ID:"#popover{numericSuffix}cell",NUMERIC_SUFFIX_VARIABLE:"{numericSuffix}",MAX_QUANTITY_VARIABLE:"${maxQuantity}",DISABLED_PAYMENT_OPTION_PREFIX:"#titleSupplement",PRICE_BLOCK_AMOUNT_PREFIX_ID:"#price-block-amount-prefix",
PRICE_BLOCK_AMOUNT_ID:"#price-block-amount",PRICE_BLOCK_AMOUNT_SUFFIX_ID:"#price-block-amount-suffix",COMPARE_PLAN_LINK_SELECTED:"#compare-plan-link-text-selected",COMPARE_PLAN_LINK_UNSELECTED:"#compare-plan-link-text-not-selected",PRICE_BLOCK_ALERT_SUCCESS_CONTAINER_ID:"#payment-option-alert-success-container",PRICE_BLOCK_STRING:"#price-block-message",PRICE_BLOCK_ALERT_ERROR:"#price-block-error-icon",PRICE_BLOCK_ERROR_STRING_ID:"#price-block-error-string",PRICE_BLOCK_ERROR_CONTAINER:"#price-block-error-message",
COMPARE_PLAN_LINK:"#compare-plan-link",ACTIVE_TAB:"#buybox .a-tab-heading.a-active",TAB_PREFIX:"#tab_",BUY_BOX_ACCORDION_ROWS:"#buyBoxAccordion",ACCORDION_ROW_FOR_BUYING_OPTION_INDEX:"\x3e[data-buying-option-index\x3d'{buyingOptionIndex}']",BUYING_OPTION_INDEX_VARIABLE:"{buyingOptionIndex}",ACTIVE_ACCORDION:".a-accordion-active",ADD_TO_CART_FORM_ID:"#addToCart",BUY_NOW_FORM_ID:"form#buyNow, form#buyNowCheckout",SINGLE_PLAN_UNAVAILABLE_ID:"#priceBlockMessageSinglePlanUnavailable",PRICE_BLOCK_MSG:".price-block-msg",
PRICE_BLOCK_INNER_AMOUNT:".price-block-inner-amount",PRICE_BLOCK_SUBTITLE_TEXT:".payment-option-subtitle-text",PRICE_BLOCK_SUCCESS:".payment-option-success",PRICE_BLOCK_OR_TEXT:".price-block-or-text",PRICE_BLOCK_AMOUNT:".price-block-amount",PRICE_BLOCK_EXTRA_TEXT:".price-block-extra-text",PRICE_BLOCK_ALERT:".price-block-icon",PRICE_BLOCK_ALERT_SUCCESS:"#price-block-selected-icon",APEX_PRICE_BLOCK_CONTAINER:"#paymentOptions_PriceblockMessaging_feature_div",SIDE_SHEET_CLOSE_BUTTON:".payment-options-side-sheet-close-button",
ONE_TIME_PAYMENT_OPTION_ID:"#oneTimePaymentOption"},classes:{COMPARE_PLAN_TABLE_PAYMENT_DETAILS_ROW:"payment-option-payment-details-row-value",COMPARE_PLAN_SELECTED_COLUMN:"payment-option-selected-column",SELECTED_PAYMENT_OPTION_BORDER:"payment-option-selected-column-border",NORMAL_PAYMENT_OPTION_BORDER:"payment-option-column-normal-border",SELECTED_PAYMENT_OPTION_ORDER:"payment-option-selected-column-order",COMPARE_PLAN_SELECTED_BUTTON:"payment-option-side-sheet-comparison-button-selected",COMPARE_PLAN_UNSELECTED_BUTTON:"payment-option-side-sheet-comparison-button-unselected",
CONFIRM_PLAN_BUTTON:"payment-option-confirm-button",COMPARE_PLAN_DARK_ROW:"payment-option-dark-row",DISABLED_PAYMENT_OPTION:"payment-option-disabled-column",DISABLED_PAYMENT_OPTION_ORDER:"payment-option-disabled-column-order",POPOVER_HIDE:"popover-hide",POPOVER_SHOW:"popover-show",DISABLED_PAYMENT_OPTION_ORDER_ENABLE_POINTER:"payment-option-disabled-column-enable-pointer"},actionData:{SELECT_BUTTON_CLICK_DATA:"priceBlockSelectPaymentPlan",CONFIRM_PLAN_CLICK_DATA:"paymentOptionConfirmPlan",BUYING_OPTION_INDEX:"buyingOptionIndex",
COMPARE_PLAN_LINK_ACTION_DATA:"priceBlockComparePaymentPlans"},attributes:{TAB_CONTENT_ID:"data-csa-c-content-id",SELECT_PAYMENT_PLAN:"price-block-select-payment-plan"},natcParams:{paymentOfferInfo:"items[0.base][additionalParameters][paymentOfferInfo]",inHouseInstallments:"items[0.base][additionalParameters][installments][programId]"},classActions:{ADD:"add",REMOVE:"remove"},comparePlanTableElements:{CELL_LIST:["payment-plan-","payment-details-","payment-interest-","plan-applies-to-","card-reward-"],
ROW_LIST:["payment-option-payment-plan-row-value","payment-option-payment-details-row-value","payment-option-interest-row-value","payment-option-plan-applies-to-row-value","payment-option-card-reward-row-value"]},errorMessageType:{PAYMENT_OPTION_UNAVAILABLE:"paymentOptionUnavailable",PLAN_UNAVAILABLE_OVER_MAX_QUANTITY:"planUnavailableOverMaxQuantity"},metrics:{RENDERED_TRUE:"PriceBlock2:Render:True:Desktop",RENDERED_FALSE:"PriceBlock2:Render:False:Desktop",SELECT_BUTTON_CLICK:"PriceBlock2:SelectButton:Click:Desktop",
CONFIRM_PLAN_CLICK:"PriceBlock2:CancelPlan:Click:Desktop",CANCEL_PLAN_CLICK:"PriceBlock2:CancelPlan:Click:Desktop",LEARN_MORE_CLICK:"PriceBlock2:LearnMore:Click:Desktop",COMPARE_PLAN_CLICK:"PriceBlock2:ComparisonPlanLink:Click:Desktop",COMPARE_PLAN_RENDERED:"PriceBlock2:ComparisonPlan:Rendered:Desktop",OFFER_SELECTION_SUCCESSFUL:"PriceBlock2:OfferSelection:Successful"}}});"use strict";q.when("A","price-block-messaging-constants","turbo-checkout-handler-pb","payment-options-client-side-metric","ready").register("price-block-payment-options",
function(a,d,c,b){var e,g;function l(b,c){var f=!1;b.data.buyingOptionType!==d.UNKNOWN&&(a.delay(function(){e=n(k(c));f=f||m(k(c),e,b,!0)}),g=n(r(c)),f=f||m(r(c),g,b,!1));return f}function n(b){var c=[];b.each(function(){var b=q(this).parents(t.DECLARATIVE_CLASS);if(0<b.length){var d;d=q(b).data(t.DATA_ATTRIBUTE_ACTION).split("-");for(var f=d[0],h=1;h<d.length;h++)var e=d[h].charAt(0).toUpperCase()+d[h].slice(1),f=f+e;d=f;b=a.copy(q(b).data(d));c.push({dataActionKey:d,initialFormData:b})}});return c}
function k(a){return a||(a=q(t.OFFER_DISPLAY_GROUP))&&1===a.length?a.find(t.ADD_TO_CART_BUTTON_ID):(a=q(t.BUYBOX_ACCORDION))&&1===a.length?a.find(t.ADD_TO_CART_BUTTON_ID):q(t.ADD_TO_CART_BUTTON_ID)}function r(a){a&&a.find(t.BUYNOW_BUTTON_ID);return(a=q(t.OFFER_DISPLAY_GROUP))&&1===a.length?a.find(t.BUYNOW_BUTTON_ID):(a=q(t.BUYBOX_ACCORDION))&&1===a.length?a.find(t.BUYNOW_BUTTON_ID):q(t.BUYNOW_BUTTON_ID)}function m(a,b,c,d){var f=0,e=d?"addToCartData":"buyNowData",g=h(c.data.executionDetails);u(g,
d);d&&p(g);var l=!1;a.each(function(){var a=q(this).parents(t.DECLARATIVE_CLASS);if(0<a.length){var c=b[f++];if(c!==v){Object.keys(A[e]).forEach(function(a,b){delete c.initialFormData.inputs[a]});var d=q.extend({},c.initialFormData.inputs,g),h=q.extend({},c.initialFormData);h.inputs=d;a.data(c.dataActionKey,h);l=!0}}});A[e]=g;return l}function f(a,b){var c=q("\x3cfieldset\x3e",{"class":t.PAYMENT_OFFER_INPUTS_CLASS_NAME});Object.keys(a).forEach(function(b){q("\x3cinput\x3e").attr({type:d.paymentOfferInputElement.inputType,
name:b,value:a[b]}).appendTo(q(c))});var f=b[0].find(t.PAYMENT_OFFER_INPUTS_CLASS);f.length?q(f).replaceWith(c):b[0].append(c);return!!b[0].length}function h(a){var b={};Object.keys(a).forEach(function(c){b[c===d.PAYMENT_OFFER_INFO_TYPE?d.PAYMENT_OFFER_INFO_FIELD:c]=a[c]});return b}function p(a){Object.keys(a).forEach(function(b){d.natcParams[b]&&(a[d.natcParams[b]]=a[b])})}function u(a,b){if(a[d.PAYMENT_OFFER_INFO_FIELD]){var c=JSON.parse(a[d.PAYMENT_OFFER_INFO_FIELD]);c.cartType=b?d.parameter.cartTypes.addToCart:
d.parameter.cartTypes.buyNow;a[d.PAYMENT_OFFER_INFO_FIELD]=JSON.stringify(c)}}var q=a.$,t=d.selector,w=d.attributes;e=[];g=[];var A={addToCartData:{},buyNowData:{}};return{updateUfoSelection:function(a,e){var g=a.data.deviceType,n=a.data.buyingOptionType,m=a.data,k=JSON.parse(m.executionDetails.paymentOfferInfoType);k.isFinancingCartLevel=m.isOrderLevel;m.executionDetails.paymentOfferInfoType=JSON.stringify(k);m=a.data;k=JSON.parse(m.executionDetails.paymentOfferInfoType);k.sessionId=m.sessionId;
k.customerId=m.customerId;k.marketplaceId=m.marketplaceId;k.requestId=m.requestId;k.deviceType=m.deviceType;k.asin=m.asin;k.buyingOptionType=m.buyingOptionType;k.parentASIN=m.parentASIN;k.websiteDisplayGroup=m.websiteDisplayGroup;m.executionDetails.paymentOfferInfoType=JSON.stringify(k);var m=!1,n=d.metrics.OFFER_SELECTION_SUCCESSFUL+":"+g+":"+n+":",k=q(t.ACTIVE_TAB),r;if(1===k.length){var v=k.attr(w.TAB_CONTENT_ID);r=q(t.TAB_PREFIX+v+" "+t.BUY_BOX_ACCORDION_ROWS)}else r=q(t.BUY_BOX_ACCORDION_ROWS);
var y;1===r.length?y=e||0===e?r.find(t.ACCORDION_ROW_FOR_BUYING_OPTION_INDEX.replace(t.BUYING_OPTION_INDEX_VARIABLE,e)):r.find(t.ACTIVE_ACCORDION):1===k.length&&(y=q(t.TAB_PREFIX+v));e=y;g===d.deviceType.MOBILE_APP&&(m=m||l(a,e));(g=m)||(a=h(a.data.executionDetails),g=[e&&1===e.length?e.find(t.ADD_TO_CART_FORM_ID):q(t.ADD_TO_CART_FORM_ID)],u(a,!0),p(a),g=f(a,g),g||(g=[e&&1===e.length?e.find(t.BUY_NOW_FORM_ID):q(t.BUY_NOW_FORM_ID)],u(a,!1),g=f(a,g)),c.updateInputCheckbox());m=g;b.incrementWithValuePriceBlockMessaging(n+
m,1);return m},cancelUfoSelection:function(){q(t.PAYMENT_OFFER_INPUTS_CLASS).empty();(e.length||g.length)&&l({data:{executionDetails:{}}})}}});"use strict";q.when("A").register("turbo-checkout-handler-pb",function(a){var d=a.$,c;return{updateInputCheckbox:function(){c=d("#twister-plus-checkbox");c.prop("checked")?c.click():c.prop("checked","true").trigger("change")}}});"use strict";q.when("A").register("comparison-plans-state",function(a){return{paymentOptionSelected:{paymentOptionSelectedButtonId:"",
paymentOptionClickedFromSideSheet:!1,disabledPaymentOptionIds:[],paymentOptionDisabledTitleSupplement:[],paymentOptionUnAvailableMsg:[]},get isSelected(){return this.property},set isSelected(a){this.property=a}}});"use strict";q.when("A").register("payment-options-side-sheet",function(a){function d(a){e("#payment-options-side-sheet-container-"+a).show(function(){b(a,{right:"0px"})})}function c(a){e("#payment-options-side-sheet-container-"+a).show(function(){b(a,{right:"-600px"})})}function b(b,c,
d){a.animate(e("#payment-options-side-sheet-container-"+b),c,300,d)}var e=a.$;a.declarative("open-payment-options-side-sheet","click",function(b){var c=b.data.buyingOptionIndex;e(".payment-options-side-sheet-content").addClass("aok-hidden");var n=e("#payment-options-side-sheet-container-"+c+" #payment-options-side-sheet-main-section");e("#"+b.data.contentId).removeClass("aok-hidden");n.removeClass("aok-hidden");e("#payment-options-side-sheet-container-"+c).removeClass("aok-hidden");b=b.data.buyingOptionIndex;
e("body").css("overflow","hidden");a.show("#payment-options-side-sheet-dp-bg-"+b);d(b)});a.declarative("close-payment-options-side-sheet","click",function(b){b=b.data.buyingOptionIndex;c(b);a.hide("#payment-options-side-sheet-container-"+b);a.hide("#payment-options-side-sheet-dp-bg-"+b);e("body").css("overflow","scroll")})});"use strict";q.when("A","po-learn-more-actions","price-block-messaging-constants","payment-options-client-side-metric").register("payment-options-price-block-learn-more-events",
function(a,d,c,b){a.declarative("payment-options-price-block-learn-more","click",function(e){d.stopEventPropagation(e);b.incrementWithValuePriceBlockMessaging(c.metrics.LEARN_MORE_CLICK,1);a.trigger("a:declarative:open-payment-options-side-sheet:click",e);d.preRenderSelectedFinancingOption(e.data.selectText,e.data.selectedText)})});"use strict";q.when("A","price-block-message-actions","price-block-payment-options","comparison-plans-state","price-block-messaging-constants","payment-options-client-side-metric").register("price-block-offer-selection-events",
function(a,d,c,b,e,g){function l(a){var c=k(a.$currentTarget);c!==v&&null!==c&&(c=a.data.paymentOptionSelectButtonId,b.paymentOptionSelected.paymentOptionClickedFromSideSheet=!0,b.paymentOptionSelected.paymentOptionSelectedButtonId=c,c===e.ONE_TIME_PAYMENT_OPTION_ID?delete b.paymentOptionSelected.offerGroup:b.paymentOptionSelected.offerGroup=a.data.offerGroup)}function n(a){a.$currentTarget.closest(q.APEX_PRICE_BLOCK_CONTAINER).find(q.SIDE_SHEET_CLOSE_BUTTON).click()}var k=a.$,q=e.selector;a.declarative("price-block-select-payment-plan",
"click",function(m){var f=k(m.$currentTarget);if(f!==v&&null!==f&&(g.incrementWithValuePriceBlockMessaging(e.metrics.SELECT_BUTTON_CLICK+":"+m.data.offerGroup+":"+m.data.optionId,1),g.incrementWithValuePriceBlockMessaging(e.metrics.SELECT_BUTTON_CLICK,1),!a.contains(b.paymentOptionSelected.disabledPaymentOptionIds,m.data.paymentOptionSelectButtonId))){var h=m.data.buyingOptionIndex;c.updateUfoSelection(m,h);l(m);f=m.data.optionSelectedString;h=k(q.PRICE_BLOCK_CONTAINER_PREFIX+h);d.hideErrorMessage(h);
d.updatePriceBlockMessageWithSelectedOption(f,h);n(m)}});a.declarative("price-block-otp-action","click",function(a){var b=k(a.$currentTarget);b!==v&&null!==b&&(g.incrementWithValuePriceBlockMessaging(e.metrics.CANCEL_PLAN_CLICK,1),b=a.data.buyingOptionIndex,c.cancelUfoSelection(),l(a),b=k(q.PRICE_BLOCK_CONTAINER_PREFIX+b),d.resetPriceBlockMessageWithTopEligibleOffer(b),n(a))})});"use strict";q.when("A","price-block-payment-options","comparison-plans-state","price-block-messaging-constants","price-block-message-actions").register("price-block-mod-buy-box-listener",
function(a,d,c,b,e){var g=a.$,l=b.selector;a.on("a:tabs:offerDisplayGroup_tabs:select",function(a){c.paymentOptionSelected.paymentOptionSelectedButtonId&&g(l.COMPARE_PLAN_SHEET_CLASS).find(l.ONE_TIME_PAYMENT_OPTION_ID).click()});a.on("a:accordion:buybox-accordion:select",function(b){b=b.selectedRow.$row.index();a.trigger("a:declarative:update-offer-selection-on-switch-buying-option:click",b)});a.declarative("update-offer-selection-on-switch-buying-option","click",function(a){var k=c.paymentOptionSelected.offerGroup,
q=c.paymentOptionSelected.paymentOptionSelectedButtonId,m=g(l.COMPARE_PLAN_SHEET_ID_PREFIX+a);a=g(l.PRICE_BLOCK_CONTAINER_PREFIX+a);q===b.ONE_TIME_PAYMENT_OPTION_ID?m.length?m.find(l.ONE_TIME_PAYMENT_OPTION_ID).click():e.hideErrorMessage(a):k&&(q=m.find(l.COMPARE_PLAN_BUTTON_CLASS),k=m.find(b.selector.SELECT_BUTTON_CLASS_PREFIX+k),m&&k&&k.length?k.click():(m=m&&q&&q.length,d.cancelUfoSelection(),e.showErrorMessage(b.errorMessageType.PAYMENT_OPTION_UNAVAILABLE,a,m,{})))})});"use strict";q.when("A",
"comparison-plans-state","price-block-messaging-constants").register("price-block-message-actions",function(a,d,c){function b(b,c){a.hide(c.find(n.PRICE_BLOCK_ALERT_SUCCESS));e(b,c);l(m.CLEAR,c)}function e(b,c){var d=c.find(n.PRICE_BLOCK_AMOUNT_PREFIX_ID),e=c.find(n.PRICE_BLOCK_AMOUNT_ID);c=c.find(n.PRICE_BLOCK_AMOUNT_SUFFIX_ID);a.hide(d);a.hide(e);a.hide(c);c.html(b.regularPriceBlockFragment);a.show(c);if(b=b.highlightedPriceBlockFragment)e.html(b.amountDisplayString),a.show(e),b.prefix&&(d.html(b.prefix),
a.show(d))}function g(b){b=b.find(n.COMPARE_PLAN_BUTTON_CLASS);for(var c=0;c<b.length;c++){var e=b.eq(c),g=e.closest(n.DECLARATIVE_CLASS).data(k.SELECT_BUTTON_CLICK_DATA);if(!d.paymentOptionSelected.disabledPaymentOptionIds||!a.contains(d.paymentOptionSelected.disabledPaymentOptionIds,g.paymentOptionSelectButtonId))return e}}function l(b,c){b===m.CLEAR?(a.hide(c.find(n.COMPARE_PLAN_LINK_SELECTED)),a.show(c.find(n.COMPARE_PLAN_LINK_UNSELECTED))):b===m.SELECT&&(a.hide(c.find(n.COMPARE_PLAN_LINK_UNSELECTED)),
a.show(c.find(n.COMPARE_PLAN_LINK_SELECTED)))}var n=c.selector,k=c.actionData,q={updatePriceBlockMessageWithSelectedOption:function(b,c){a.hide(n.PRICE_BLOCK_ALERT);a.show(c.find(n.PRICE_BLOCK_ALERT_SUCCESS));e(b,c);l(m.SELECT,c)},resetPriceBlockMessageWithTopEligibleOffer:function(c){var d=c.find(n.COMPARE_PLAN_LINK).find(n.DECLARATIVE_CLASS).data(k.COMPARE_PLAN_LINK_ACTION_DATA).buyingOptionIndex,d=a.$(n.COMPARE_PLAN_SHEET_ID_PREFIX+d);if(d=g(d))d=d.closest(n.DECLARATIVE_CLASS).data(k.SELECT_BUTTON_CLICK_DATA).optionNotSelectedString,
q.hideErrorMessage(c),b(d,c)},updatePriceBlockMessageWithNotSelectedOption:b,getTopEnabledOfferButton:g,showErrorMessage:function(b,c,d,e){a.hide(c.find(n.PRICE_BLOCK_ALERT_SUCCESS_CONTAINER_ID));a.hide(c.find(n.PRICE_BLOCK_STRING));a.show(c.find(n.PRICE_BLOCK_ALERT_ERROR));var g=c.find(n.PRICE_BLOCK_ERROR_STRING_ID);b=g.data(b);if(e)for(var k in e)e[k]&&(b=b.replace(k,e[k]));g.html(b);a.show(c.find(n.PRICE_BLOCK_ERROR_CONTAINER));e=c.find(n.COMPARE_PLAN_LINK);l(m.SELECT,c);d?a.show(e):a.hide(e)},
hideErrorMessage:function(b){a.hide(b.find(n.PRICE_BLOCK_ALERT_ERROR));a.hide(b.find(n.PRICE_BLOCK_ERROR_CONTAINER));a.show(b.find(n.PRICE_BLOCK_STRING));a.show(b.find(n.PRICE_BLOCK_ALERT_SUCCESS_CONTAINER_ID));a.show(b.find(n.COMPARE_PLAN_LINK))}},m={SELECT:"select",CLEAR:"clear"};return q})});
/* ******** */
